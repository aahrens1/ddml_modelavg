
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.0   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.0   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

5-user Stata network perpetual license:
                                             Licensed to:  DGESS
Stata network perpetual license:
                       ETH Zurich
4
  979-696-4601 (fax)

5-user Stata network perpetual license:
         Licensed to:  DGESS
202914
                       ETH Zu                       ETH Zurich

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do GWG 923 2 


Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do GWG 26898 2 

. 
. 

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do GWG 3928 2 

. 
. clear all
. clear all

. 
. 
. 
. if ("`c(os)'"=="MacOSX") {
. if ("`c(os)'"=="MacOSX") {
. if ("`c(os)'"=="MacOSX") {
.         cd "/Users/kahrens/MyProjects/ddml_applied/GWG"
.         cd "/Users/kahrens/MyProjects/ddml_applied/GWG"
. } 

    cd "/Users/kahrens/MyProjects/ddml_applied/GWG"
. } 

. else {
. else {
. else {
.         cd "/cluster/home/kahrens/ddml_applied/GWG"
/cluster/home/kahrens/ddml_applied/GWG
.         //adopath ++ "/cluster/home/kahrens/ddml_applied/ddml"
me/kahrens/ddml_applied/GWG
.         //adopath ++ "/cluster/home/kahrens/ddml_applied/ddml"
me/kahrens/ddml_applied/GWG
.         //adopath ++ "/cluster/home/kahrens/ddml_applied/ddml"
.         adopath + "/cluster/home/kahrens/ddml_applied/GWG"
  [1]  (BASE)      "/cluster/apps/stata/16/x86_64/ado/base/"
.         adopath + "/cluster/home/kahrens/ddml_applied/GWG"
  [1]  (BASE)      "/cluster/apps/stata/16/x86_64/ado/base/"
.         adopath + "/cluster/home/kahrens/ddml_applied/GWG"
  [1]  (BASE)      "/cluster/apps/stata/16/x86_64/ado/base/"
  [2]  (SITE)      "/cluster/apps/stata/16/ado/"
  [2]  (SITE)      "/cluster/apps/stata/16/ado/"
  [2]  (SITE)      "/cluster/apps/stata/16/ado/"
  [3]              "."
  [3]              "."
  [3]              "."
  [4]  (PERSONAL)  "~/ado/personal/"
  [4]  (PERSONAL)  "~/ado/personal/"
  [5]  (PLUS)      "~/ado/plus/"
  [5]  (PLUS)      "~/ado/plus/"
  [5]  (PLUS)      "~/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [6]  (OLDPLACE)  "~/ado/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
. }

. 
.         cap set processors 1
. }

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. cd Output
/cluster/home/kahrens/ddml

. else {
.         cd "/cluster/home/kahrens/ddml_applied/GWG"
/cluster/home/kahrens/ddml_applied/GWG
.         //adopath ++ "/cluster/home/kahrens/ddml_applied/ddml"
.         cd "/cluster/home/kahrens/ddml_applied/GWG"
/cluster/home/kahrens/ddml_applied/GWG
.         //adopath ++ "/cluster/home/kahrens/ddml_applied/ddml"
.         cd "/cluster/home/kahrens/ddml_applied/GWG"
/cluster/home/kahrens/ddml_applied/GWG
.         //adopath ++ "/cluster/home/kahrens/ddml_applied/ddml"
.         adopath + "/cluster/home/kahrens/ddml_applied/GWG"
  [1]  (BASE)      "/cluster/apps/stata/16/x86_64/ado/base/"
  [2]  (SITE)      "/cluster/apps/stata/16/ado/"
.         adopath + "/cluster/home/kahrens/ddml_applied/GWG"
  [1]  (BASE)      "/cluster/apps/stata/16/x86_64/ado/base/"
  [3]              "."
  [2]  (SITE)      "/cluster/apps/stata/16/ado/"
  [4]  (PERSONAL)  "~/ado/personal/"
  [3]              "."
.         adopath + "/cluster/home/kahrens/ddml_applied/GWG"
  [1]  (BASE)      "/cluster/apps/stata/16/x86_64/ado/base/"
  [5]  (PLUS)      "~/ado/plus/"
  [4]  (PERSONAL)  "~/ado/personal/"
  [6]  (OLDPLACE)  "~/ado/"
  [2]  (SITE)      "/cluster/apps/stata/16/ado/"
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
  [5]  (PLUS)      "~/ado/plus/"
  [3]              "."
.         adopath + "/cluster/home/kahrens/ddml_applied/GWG"
  [1]  (BASE)      "/cluster/apps/stata/16/x86_64/ado/base/"
  [6]  (OLDPLACE)  "~/ado/"
  [4]  (PERSONAL)  "~/ado/personal/"
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
  [2]  (SITE)      "/cluster/apps/stata/16/ado/"
  [5]  (PLUS)      "~/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [3]              "."
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
  [4]  (PERSONAL)  "~/ado/personal/"
  [5]  (PLUS)      "~/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local estimator `2'

. 
. local seed `1'

. cap log close

. local estimator `2'

. 
. cap log close

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_923_3.txt not fou
> nd)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_923_3.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_58248_3.txt not f
> ound)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_58248_3.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local estimator `2'

. 
. cap log close

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_26898_3.txt not f
> ound)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_26898_3.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. which ddml
/clus. which ddml
/cl "/cluster/home/kahrens/ddml_applied/GWG"
  [7]              "/cluster/home/kahrens/ddml_applied/GWG"
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local estimator `2'

. 
. cap log close

.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
. local seed `1'

. local estimator `2'

. 
.         cap set processors 1
. }

. 
. cap log close

. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local estimator `2'

. 
. cap log close

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_26898_4.txt not f
> ound)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_26898_4.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local estimator `2'

. 
. cap log close

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_3928_4.txt not fo
> und)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_3928_4.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local estimator `2'

. 
. cap log close

.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_53356_4.txt not f
> ound)
. local seed `1'

. local estimator `2'

. 
. cap log close

-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_53356_4.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local estimator `2'

. 
. cap log close

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_84685_4.txt not f
> ound)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_84685_4.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
.         cap set processors 1
. }

. 
.         cap python set exec /cluster/apps/nss/gcc-8.2.0/python/3.9.9/x86_64/b
> in/python3 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
       cap set processors 1
. }

. 
. cd Output
/cluster/home/kahrens/ddml_applied/GWG/Output

. 
. local seed `1'

. local seed `1'

. local estimator `2'

. 
. cap log close

. cap log close

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_58248_4.txt not f
> ound)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_58248_4.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_8756_3.txt not fo
> und)
. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_8756_3.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_36931_4.txt not f
> ound)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_36931_4.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_3702_3.txt not fo
> und)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_3702_3.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
. log using GWG_`1'_`2'.txt, replace text
(note: file /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_232_3.txt not fou
> nd)
-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /cluster/home/kahrens/ddml_applied/GWG/Output/GWG_232_3.txt
  log type:  text
 opened on:  10 Dec 2023, 19:14:53

. 
. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. which ddml
/cluster/home/kahrens/ado/plus/d/ddml.ado
*! ddml v1.4.3
*! last edited: 17aug2023
*! authors: aa/ms

. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. 
. set seed `seed'

. local folder out_`seed'

. 
. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. 
. set seed `seed'

. local folder out_`seed'

. 
. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. 
. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. 
. 
et seed `seed'

. set seed `seed'

`seed'

. 
. local folder out_`seed'

. 
et seed `seed'

. set seed `seed'

. local folder out_`seed'

. 
ocal folder out_`seed'

. 
. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. 
. set seed `seed'

. local folder out_`seed'

. 
. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. 
. set seed `seed'

. local folder out_`seed'

. 
. which pystacked
/cluster/home/kahrens/ado/plus/p/pystacked.ado
*! pystacked v0.7.5
*! last edited: 7aug2023
*! authors: aa/ms

. 
. set seed `seed'

. local folder out_`seed'

. 
. use "../Data/gender_gap_ML_processed", clear

. 
. cap mkdir `folder'

. 
. *****************************************************************************
> ***
. ***  controls
. *****************************************************************************
> ***
. 
. // create squared age and tenure here
. gen age_r2 = age_r^2

. use "../Data/gender_gap_ML_processed", clear

. 
. gen tenure2 = tenure^2
(2 missing values generated)

. 
. // no base categories
. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
>                                                                              
>                                                                            //

. // add second order terms here
. global continuous $continuous age_r2 tenure2

. 
. global discrete0                                                             
>                                                            ///             
>         b_q01a          /* education, highest level attained */              
>                            /// no missing
>         b_q01b          /* area of study */                                  
>                                                    /// 434 missing
>         d_q06c          /* part of a larger organization */                  
. cap mkdir `folder'

. 
. *****************************************************************************
> ***
ement position */                            
>                                            /// no missing
>         d_q09           /* type of contract */                               
>                                            /// 12 missing
>         d_q10_t1        /* hours per week at this job or business */         
>                    /// 1 missing
. ***  controls
. *****************************************************************************
> ***
. 
>         d_q14           /* job satisfaction */                               
>                                            /// 1 missing
>         i_q08           /* health status */                                  
>                                                    /// 2 missing
>         j_q02a          /* living with a partner */                          
>                                            /// 899 missing
>         j_q03d1_c       /* age of youngest child */                          
. // create squared age and tenure here
>                                            /// 2,718 missing
>         j_q04c1_c       /* immigration: age */                               
>                                            /// 4,375 missing
>         j_q06b          /* mother's highest level of educ */                 
>                            /// 445 missing
>         j_q07b          /* father's highest level of educ */                 
>                            /// 515 missing
>         j_q03b          /* number of children*/                              
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen  . use "../Data/gender_gap_ML_processed", clear

              
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
. 
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global personality                                                           
>                                                            ///
>         i_q04b          /* Learning strategies, Relate new ideas into real li
> fe */      /// 16 missing
>         i_q04d          /* Learning strategies, Like learning new things */  
>                    /// no missing
>         i_q04h          /* Learning strategies, Attribute something new */   
>                    /// 10 missing
>         i_q04j          /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* Learning strategies, Looking for additional info *
> /          /// 1 missing
>         i_q05f          /* Cultural engagement, Voluntary non-profit work */ 
>            /// no missing
>         i_q06a          /* Political efficacy, No influence on the government
>  */        /// 14 missing
>         i_q07a          /* Social trust, Trust only few people */            
>                            /// 4 missing
>         i_q07b          /* Social trust, Other people take advantage of you *
> /          /// 6 missing
>                                                                              
>                                                                            //

. global discrete $discrete0                                                   
>                                                    ///
>         new_reg_tl2     /* geographical region */                            
>                                            /// 2 missing
>         new_isco1c      /* occupation */                                     
>                                                    /// no missing
>         new_isic1c      /* industry */                                       
>                                                    // no missing

. 
. global X_simple                                                         ///
>         i.(b_q01a d_q10_t1 j_q03b)                              ///
>         c.($continuous)

. 
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

.         
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. gen age_r2 = age_r^2

. cap mkdir `folder'

. 
. *****************************************************************************
> ***
. ***  controls
. *****************************************************************************
> ***
. 
. // create squared age and tenure here
. global X_expanded                                                       ///
>         i.($discrete)                                                   ///
>         c.($continuous)                                                 ///
>         c.age_r#i.($discrete)                                   ///
>         c.tenure#i.($discrete)

. 
.         
. 
. *****************************************************************************
> ***
. ***  estimation sample
. *****************************************************************************
> ***
. 
. use "../Data/gender_gap_ML_processed", clear

. 
. gen byte touse=1

. gen tenure2 = tenure^2
(2 missing values generated)

. 
. // no base categories
. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
>                                                                              
>                                                                            //

. // add second order terms here
. global continuous $continuous age_r2 tenure2

. 
. global discrete0                                                             
>                                                            ///             
>         b_q01a          /* education, highest level attained */              
>                            /// no missing
>         b_q01b          /* area of study */                                  
>                                                    /// 434 missing
>         d_q06c          /* part of a larger organization */                  
>                                    /// 13 missing
>         d_q08a          /* management position */                            
>                                            /// no missing
>         d_q09           /* type of contract */                               
>                                            /// 12 missing
>         d_q10_t1        /* hours per week at this job or business */         
>                    /// 1 missing
>         d_q14           /* job satisfaction */                               
>                                            /// 1 missing
>         i_q08           /* health status */                                  
>                                                    /// 2 missing
>         j_q02a          /* living with a partner */                          
>                                            /// 899 missing
>         j_q03d1_c       /* age of youngest child */                          
. cap mkdir `folder'

. 
. *****************************************************************************
> ***
. ***  controls
>                                            /// 2,718 missing
>         j_q04c1_c       /* immigration: age */                               
>                                            /// 4,375 missing
>         j_q06b          /* mother's highest level of educ */                 
>                            /// 445 missing
>         j_q07b          /* father's highest level of educ */                 
>                            /// 515 missing
. *****************************************************************************
> ***
. 
. // create squared age and tenure here
. gen age_r2 = age_r^2

  /* number of children*/                              
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global personality                                                           
>                                                            ///
>         i_q04b          /* Learning strategies, Relate new ideas into real li
> fe */      /// 16 missing
>         i_q04d          /* Learning strategies, Like learning new things */  
>                    /// no missing
>         i_q04h          /* Learning strategies, Attribute something new */   
>                    /// 10 missing
>         i_q04j          /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* Learning strategies, Looking for additional info *
> /          /// 1 missing
>         i_q05f          /* Cultural engagement, Voluntary non-profit work */ 
>            /// no missing
>         i_q06a          /* Political efficacy, No influence on the government
>  */        /// 14 missing
>         i_q07a          /* Social trust, Trust only few people */            
>                            /// 4 missing
>         i_q07b          /* Social trust, Other people take advantage of you *
> /          /// 6 missing
>                                                                              
>                                                                            //

. global discrete $discrete0                                                   
>                                                    ///
>         new_reg_tl2     /* geographical region */                            
>                                            /// 2 missing
>         new_isco1c      /* occupation */                                     
>                                                    /// no missing
>         new_isic1c      /* industry */                                       
>                                                    // no missing

. 
. global X_simple                                                         ///
>         i.(b_q01a d_q10_t1 j_q03b)                              ///
>         c.($continuous)

. 
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

.         
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. 
. gen age_r2 = age_r^2

. global X_expanded                                                       ///
>         i.($discrete)                                                   ///
>         c.($continuous)                                                 ///
>         c.age_r#i.($discrete)                                   ///
>         c.tenure#i.($discrete)

. 
.         
e categories
. 
. *****************************************************************************
> ***
. ***  estimation sample
. *****************************************************************************
> ***
. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
>                                                                              
>                                                                            //

. // add second order terms here
. global continuous $continuous age_r2 tenure2

. 
. global discrete0                                                             
>                                                            ///             
>         b_q01a          /* education, highest level attained */              
>                            /// no missing
>         b_q01b          /* area of study */                                  
>                                                    /// 434 missing
>         d_q06c          /* part of a larger organization */                  
>                                    /// 13 missing
>         d_q08a          /* management position */                            
>                                            /// no missing
>         d_q09           /* type of contract */                               
>                                            /// 12 missing
>         d_q10_t1        /* hours per week at this job or business */         
>                    /// 1 missing
. gen byte touse=1

>         d_q14           /* job satisfaction */                               
>                                            /// 1 missing
>         i_q08           /* health status */                                  
>                                                    /// 2 missing
>         j_q02a          /* living with a partner */                          
>                                            /// 899 missing
>         j_q03d1_c       /* age of youngest child */                          
>                                            /// 2,718 missing
>         j_q04c1_c       /* immigration: age */                               
>                                            /// 4,375 missing
>         j_q06b          /* mother's highest level of educ */                 
>                            /// 445 missing
>         j_q07b          /* father's highest level of educ */                 
>                            /// 515 missing
>         j_q03b          /* number of children*/                              
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
. gen tenure2 = tenure^2
(2 missing values generated)

. 
. // no base categories
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
. global personality                                                           
>                                                            ///
>         i_q04b          /* Learning strategies, Relate new ideas into real li
> fe */      ///  
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X,D] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X,D] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X,D] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X,D] equation: lnearn
         
>                            /// 515 missing
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

.         
>         j_q03b          /* number of children*/                              
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. 
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global personality                                                           
>                                                            ///
>         i_q04b          /* Learning strategies, Relate new ideas into real li
> fe */      /// 16 missing
>         i_q04d          /* Learning strategies, Like learning new things */  
>                    /// no missing
>         i_q04h          /* Learning strategies, Attribute something new */   
>                    /// 10 missing
>         i_q04j          /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* Learning strategies, Looking for additional info *
> /          /// 1 missing
>         i_q05f          /* Cultural engagement, Voluntary non-profit work */ 
>            /// no missing
>         i_q06a          /* Political efficacy, No influence on the government
. 
>  */        /// 14 missing
>         i_q07a          /* Social trust, Trust only few people */            
>                            /// 4 missing
>         i_q07b          /* Social trust, Other people take advantage of you *
> /          /// 6 missing
>                                                                              
>                                                                            //

. 
.         
. 
. *****************************************************************************
> ***
. global discrete $discrete0                                                   
>                                                    ///
>         new_reg_tl2     /* geographical region */                            
>                                            /// 2 missing
>         new_isco1c      /* occupation */                                     
>                                                    /// no missing
>         new_isic1c      /* industry */                                       
. *****************************************************************************
> ***
. 
>                                                    // no missing

. 
. global X_simple                                                         ///
>         i.(b_q01a d_q10_t1 j_q03b)                              ///
>         c.($continuous)

. 
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

.         
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. use "../Data/gender_gap_ML_processed", clear

. 
. cap mkdir `folder'

. 
. *****************************************************************************
> ***
. ***  controls
. *****************************************************************************
> ***
. global X_expanded                                                       ///
>         i.($discrete)                                                   ///
>         c.($continuous)                                                 ///
>         c.age_r#i.($discrete)                                   ///
>         c.tenure#i.($discrete)

. 
. 
.         
 squared age and tenure here
. 
. *****************************************************************************
> ***
. ***  estimation sample
. 
. *****************************************************************************
> ***
. 
en byte touse=1

. use "../Data/gender_gap_ML_processed", clear

. 
. gen byte touse=1

. cap mkdir `folder'

. 
. *****************************************************************************
> ***
. ***  controls
. *****************************************************************************
> ***
. 
. use "../Data/gender_gap_ML_processed", clear

. 
. gen age_r2 = age_r^2

. cap mkdir `folder'

. 
. *****************************************************************************
> ***
. ***  controls
. *****************************************************************************
> ***
. 
. // create squared age and tenure here
. gen age_r2 = age_r^2

. cap mkdir `folder'

. 
. *****************************************************************************
> ***
. ***  controls
. *****************************************************************************
> ***
. 
. // create squared age and tenure here
. gen tenure2 = tenure^2
(2 missing values generated)

. 
. // no base categories
. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
>                                                                              
>                                                                            //

. gen age_r2 = age_r^2

rms here
. global continuous $continuous age_r2 tenure2

. 
. global discrete0                                                             
>                                                            ///             
>         b_q01a          /* education, highest level attained */              
>                            /// no missing
>         b_q01b          /* area of study */                                  
>                                                    /// 434 missing
>         d_q06c          /* part of a larger organization */                  
. gen tenure2 = tenure^2
(2 missing values generated)

. 
                                  /// 13 missing
>         d_q08a          /* management position */                            
>                                            /// no missing
>         d_q09           /* type of contract */                               
>                                            /// 12 missing
>         d_q10_t1        /* hours per week at this job or business */         
>                    /// 1 missing
. cap mkdir `folder'

. // no base categories
. 
. *****************************************************************************
> ***
>         d_q14           /* job satisfaction */                               
>                                            /// 1 missing
>         i_q08           /* health status */                                  
>                                                    /// 2 missing
>         j_q02a          /* living with a partner */                          
>                                            /// 899 missing
>         j_q03d1_c       /* age of youngest child */                          
. ***  controls
. *****************************************************************************
> ***
. 
. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
. // create squared age and tenure here
>                                            /// 2,718 missing
>         j_q04c1_c       /* immigration: age */                               
>                                            /// 4,375 missing
>         j_q06b          /* mother's highest level of educ */                 
>                            /// 445 missing
>         j_q07b          /* father's highest level of educ */                 
>                            /// 515 missing
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
>         j_q03b          /* number of children*/                              
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
>                                                                              
>                                                                            //

. // add second order terms here
. global continuous $continuous age_r2 tenure2

. 
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global discrete0                                                             
>                                                            ///             
>         b_q01a          /* education, highest level attained */              
>                            /// no missing
>         b_q01b          /* area of study */                                  
>                                                    /// 434 missing
>         d_q06c          /* part of a larger organization */                  
. global personality                                                           
>                                                            ///
>         i_q04b          /* Learning strategies, Relate new ideas into real li
> fe */      /// 16 missing
>         i_q04d          /* Learning strategies, Like learning new things */  
>                    /// no missing
>         i_q04h          /* Learning strategies, Attribute something new */   
>                    /// 10 missing
. gen age_r2 = age_r^2

  /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* Learning strategies, Looking for additional info *
> /          /// 1 missing
>         i_q05f          /* Cultural engagement, Voluntary non-profit work */ 
>            /// no missing
>         i_q06a          /* Political efficacy, No influence on the government
>         d_q14           /* job satisfaction */                               
>                                            /// 1 missing
>         i_q08           /* health status */                                  
>                                                    /// 2 missing
>         j_q02a          /* living with a partner */                          
>                                            /// 899 missing
>         j_q03d1_c       /* age of youngest child */                          
>  */        /// 14 missing
>         i_q07a          /* Social trust, Trust only few people */            
>                            /// 4 missing
>         i_q07b          /* Social trust, Other people take advantage of you *
> /          /// 6 missing
>                                                                              
>                                                                            //

>                                            /// 2,718 missing
>         j_q04c1_c       /* immigration: age */                               
>                                            /// 4,375 missing
>         j_q06b          /* mother's highest level of educ */                 
>                            /// 445 missing
>         j_q07b          /* father's highest level of educ */                 
>                            /// 515 missing
. global discrete $discrete0                                                   
>                                                    ///
>         new_reg_tl2     /* geographical region */                            
>                                            /// 2 missing
>         new_isco1c      /* occupation */                                     
>                                                    /// no missing
>         new_isic1c      /* industry */                                       
. gen tenure2 = tenure^2
(2 missing values generated)

                        
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
. 
>                                                    // no missing

. 
/ no base categories
. global X_simple                                                         ///
>         i.(b_q01a d_q10_t1 j_q03b)                              ///
>         c.($continuous)

>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                          . 
                             

. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
            /// 10 missing
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

>                                                                              
>                                                                            //

>         i_q04j          /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* Learning strategies, Looking for additional info *
> /          /// 1 missing
>         i_q05f          /* Cultural engagement, Voluntary non-profit work */ 
>            /// no missing
>         i_q06a          /* Political efficacy, No influence on the government
. global continuous $continuous age_r2 tenure2

. 
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. 
*/        /// 14 missing
>         i_q07a          /* Social trust, Trust only few people */            
>                            /// 4 missing
>         i_q07b          /* Social trust, Other people take advantage of you *
> /          /// 6 missing
>                                                                              
>                                                                            //

. global discrete0                                                             
>                                                            ///             
>         b_q01a          /* education, highest level attained */              
>                            /// no missing
>         b_q01b          /* area of study */                                  
>                                                    /// 434 missing
>         d_q06c          /* part of a larger organization */                  
. global discrete $discrete0                                                   
>                                                    ///
>         new_reg_tl2     /* geographical region */                            
>                                            /// 2 missing
>         new_isco1c      /* occupation */                                     
>                                                    /// no missing
>         new_isic1c      /* industry */                                       
>                                    /// 13 missing
>         d_q08a          /* management position */                            
>                                            /// no missing
>         d_q09           /* type of contract */                               
>                                            /// 12 missing
>         d_q10_t1        /* hours per week at this job or business */         
>                    /// 1 missing
>                                                    // no missing

. 
>         d_q14           /* job satisfaction */                               
>          . global X_simple                                                         ///
>         i.(b_q01a d_q10_t1 j_q03b)                              ///
>         c.($continuous)

      /// 2 missing
>         j_q02a          /* living with a partner */                          
>                                            /// 899 missing
>         j_q03d1_c       /* age of youngest child */                          
. 
. global X_expanded                                                       ///
>         i.($discrete)                                                   ///
>         c.($continuous)                                                 ///
>         c.age_r#i.($discrete)                                   ///
>         c.tenure#i.($discrete)

. 
>                                            /// 2,718 missing
>         j_q04c1_c       /* immigration: age */                               
>                                            /// 4,375 missing
>         j_q06b          /* mother's highest level of educ */                 
>                            /// 445 missing
>         j_q07b          /* father's highest level of educ */                 
>                            /// 515 missing
. 
. *****************************************************************************
> ***
. gen tenure2 = tenure^2
(2 missing values generated)

           ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

.         
_q03b         . 
 number of children*/                              
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
. *****************************************************************************
> ***
. // no base categories
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. 
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
            /// 10 missing
>                                                                              
>                                                                            //

. // add second order terms here
>         i_q04j          /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* et1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

. 
. global pystring_reg  $pystring_reg0 , type(reg) njobs($cores) 

.  
. global pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //                   

.                                 
. global pystring_class $pystring_class0 , type(class) njobs($cores)

.                                         
. global R =1  

. global K=10 

. global L =13

.         
. *****************************************************************************
> *  
. *** ddml: estimation                                                         
>                                               ***
. *****************************************************************************
> *
. 
. if (`estimator'==1) {
. 
.         ddml init partial,  reps($R) kfolds($K)
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
r Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
      /// 4,375 missing
>         j_q06b          /* mother's highest level of educ */                 
>                            /// 445 missing
>         j_q07b          /* father's highest level of educ */                 
>                            /// 515 missing
. 
. global continuous                                                            
>                                                            ///
>         age_r                                                                
>                                                                    /// no mis
> sing
>         yrsqual         /* years of education (derived) */                   
>                                    /// 355 missing
>         j_q03b          /* number of children*/                              
>                                            /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
>         /// leavedu             /* age when left education (derived) */      
>                            /// 1,081 missing
>         pvlit1          /* literacy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         pvnum1          /* numeracy score: plausible value 1 (also 2-10 avail
> ) */       /// no missing
>         tenure          /* tenure = years in work for current employer */    
>                    /// 2 missing
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

.         
>                                                                              
>                                                                            //

. // add second order terms here
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global continuous $continuous age_r2 tenure2

. 
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. 
. global personality                                                           
>                                                            ///
>         i_q04b          /* Learning strategies, Relate new ideas into real li
> fe */      /// 16 missing
>         i_q04d          /* Learning strategies, Like learning new things */  
>                    /// no missing
>         i_q04h          /* Learning strategies, Attribute something new */   
>                    /// 10 missing
. global discrete0                                                             
>                                                            ///             
>         b_q01a          /* education, highest level attained */              
>                            /// no missing
>         b_q01b          /* area of study */                                  
>                                                    /// 434 missing
>         d_q06c          /* part of a larger organization */                  
>         i_q04j          /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* Learning strategies, Looking for additional info *
> /          /// 1 missing
>         i_q05f          /* Cultural engagement, Voluntary non-profit work */ 
>            /// no missing
>         i_q06a          /* Political efficacy, No influence on the government
>                                    /// 13 missing
>         d_q08a          /* management position */                            
>                                            /// no missing
>         d_q09           /* type of contract */                               
>                                            /// 12 missing
>         d_q10_t1        /* hours per week at this job or business */         
>                    /// 1 missing
>  */        /// 14 missing
>         i_q07a          /* Social trust, Trust only few people */            
>                            /// 4 missing
>         i_q07b          /* Social trust, Other people take advantage of you *
> /          /// 6 missing
>                                                           >         d_q14           /* job satisfaction */                               
>                                            /// 1 missing
>         i_q08           /* health status */                                  
>                                                    /// 2 missing
>         j_q02a          /* living with a partner */                          
>                                            /// 899 missing
>         j_q03d1_c       /* age of youngest child */                          
. gen byte touse=1

. global X_expanded                                                       ///
>         i.($discrete)                                                   ///
>         c.($continuous)                                                 ///
>         c.age_r#i.($discrete)                                   ///
>         c.tenure#i.($discrete)

. 
lobal discrete $discrete0                                                   
>                                                    ///
>         new_reg_tl2     /* geographical region */                            
>                                            /// 2 missing
>         new_isco1c      /* occupation */                                     
>                                                    /// no missing
>         new_isic1c      /* industry */                                       
.         
. 
. *****************************************************************************
> ***
                                       /// 1,856 missing
>         impar           /* immigration: parents */                           
>                                            /// 21 missing
>         imgen           /* immigration: generation */                        
>                                    /// 344 missing
>         nfe12jr         /* informal job-related educ in prev 12 months */    
. ***  estimation sample
                            // no missing

. 
. *****************************************************************************
> ***
. 
. global X_simple                                                         ///
>         i.(b_q01a d_q10_t1 j_q03b)                              ///
>         c.($continuous)

. 
>                    /// 116 missing
>         nfe12njr        /* informal non-job-related educ in prev 12 months */
>            /// 116 missing
>                                                                              
>                                                                            //
>                                                                              
>                                                          

. global personality                                                           
>                                                            ///
>         i_q04b          /* Learning strategies, Relate new ideas into real li
> fe */      /// 16 missing
>         i_q04d          /* Learning strategies, Like learning new things */  
>                    /// no missing
>         i_q04h          /* Learning strategies, Attribute something new */   
>                    /// 10 missing
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

.         
>         i_q04j          /* Learning strategies, Deal with difficult things */
>            /// no missing
>         i_q04l          /* Learning strategies, Fit different ideas together 
> */         /// 5 missing
>         i_q04m          /* Learning strategies, Looking for additional info *
> /          /// 1 missing
>         i_q05f          /* Cultural engagement, Voluntary non-profit work */ 
>            /// no missing
>         i_q06a          /* Political efficacy, No influence on the government
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. 
>  */        /// 14 missing
>         i_q07a          /* Social trust, Trust only few people */            
>                            /// 4 missing
>         i_q07b          /* Social trust, Other people take advantage of you *
> /          /// 6 missing
>                                                                              
>                                                                            //

. global discrete $discrete0                                                   
>                                                    ///
>         new_reg_tl2     /* geographical region */                            
>                                            /// 2 missing
>         new_isco1c      /* occupation */                                     
>                                                    /// no missing
>         new_isic1c      /* industry */                                       
>                                                    // no missing

. 
. global X_simple                                                         ///
>         i.(b_q01a d_q10_t1 j_q03b)                              ///
>         c.($continuous)

. 
lobal X_expanded                                                       ///
>         i.($discrete)                                                   ///
>         c.($continuous)                                                 ///
>         c.age_r#i.($discrete)                                   ///
>         c.tenure#i.($discrete)

. 
.         
. 
. gen byte touse=1

. *****************************************************************************
> ***
. ***  estimation sample
. global X_fullinteracted                                         ///
>         i.($discrete0 )                                                 ///
>         i.new_isco1c#i.new_isic1c#i.new_reg_tl2 ///
>         c.($continuous)                  

. 
.         
. global X_cont                                                           ///
>         c.($continuous)##i.($discrete)

. 
. global X_expanded                                                       ///
>         i.($discrete)                                                   ///
>         c.($continuous)                                                 ///
>         c.age_r#i.($discrete)                                   ///
>         c.tenure#i.($discrete)

. 
.         
. 
. *****************************************************************************
> ***
. ***  estimation sample
. *****************************************************************************
> ***
. 
. gen byte touse=1

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. markout touse lnearn $X_expanded

. keep if touse
(53 observations deleted)

. 
. 
. *****************************************************************************
> ***
. ***  learners
. *****************************************************************************
> ***
. 
. global cores = 5

. 
. global rf1 min_samples_leaf(1)  max_features(sqrt) n_estimators(500)

. global rf2 min_samples_leaf(50)  max_features(sqrt) n_estimators(500)

. global rf3 min_samples_leaf(100)  max_features(sqrt) n_estimators(500)

. global grad1 n_estimators(500) n_iter_no_change(10)  

. global grad2 n_estimators(500)  

. global nnet1 hidden_layer_sizes(40 20 1 20 50) early_stopping 

. global nnet2 hidden_layer_sizes(30 30 30) early_stopping  

. 
. global pystring_reg0                                                         
>    || ///
>                                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

. 
. global pystring_reg  $pystring_reg0 , type(reg) njobs($cores) 

.  
. global pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //                   

.                                 
. global pystring_class $pystring_class0 , type(class) njobs($cores)

.                                         
. global R =1  

. global K=10 

. global L =13

.         
. *****************************************************************************
> *  
. *** ddml: estimation                                                         
>                                               ***
. *****************************************************************************
> *
. 
. if (`estimator'==1) {
. 
.         ddml init partial,  reps($R) kfolds($K)
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust
.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/plm_mse, replace
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
. 
.         foreach final in nnls1 singlebest ols avg {
. keep if touse
(53 observations deleted)

.                 ddml estimate, robust finalest(`final')
  3.         
. 
.                         // regular stacking results
. 
.                         ddml estimate, mname(m0) spec(st) replay  
. *****************************************************************************
> ***
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
. ***  learners
  5.                         
.                         // shortstacking results
. *****************************************************************************
> ***
. 
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
. keep if touse
(53 observations deleted)

   ddml estimate, mname(m0) spec(ps) replay  
. 
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
. 
. 
lobal rf1 min_samples_leaf(1)  max_features(sqrt) n_estimators(500)

.                         // pystacked weights
. *****************************************************************************
> ***
.                         ddml extract, show(stweights)   
. global rf3 min_samples_leaf(100)  max_features(sqrt) n_estimators(500)

 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
. ***  learners
. global grad1 n_estimators(500) n_iter_no_change(10)  

 11.                                         ddml extract, show(stweights)   
. global grad2 n_estimators(500)  

. *****************************************************************************
> ***
. 
. global nnet1 hidden_layer_sizes(40 20 1 20 50) early_stopping 

 14.                                                 preserve
. global nnet2 hidden_layer_sizes(30 30 30) early_stopping  

. 
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
                                 m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
. global cores = 5

. 
 19.                                                 restore
 20.                         }       
features(sqrt) n_estimators(500)

>                            || ///
>                          . global rf2 min_samples_leaf(50)  max_features(sqrt) n_estimators(500)

>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
.                         ddml extract, show(ssweights)
. global rf3 min_samples_leaf(100)  max_features(sqrt) n_estimators(500)

. global grad1 n_estimators(500) n_iter_no_change(10)  

_gender_r_ss {
. global grad2 n_estimators(500)  

         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
. global nnet1 hidden_layer_sizes(40 20 1 20 50) early_stopping 

 25.                                         mat list `mat'
. global nnet2 hidden_layer_sizes(30 30 30) early_stopping  

. 
.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
. global pystring_reg0                                                         
>    || ///
>                                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
ing_reg  $pystring_reg0 , type(reg) njobs($cores) 

.  
.         }
. 
. global pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                    .         forvalues i = 1(1)$L {
                        m(ridgecv)                           
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
. 
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. global pystring_reg  $pystring_reg0 , type(reg) njobs($cores) 

. *****************************************************************************
> *
.  
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
                          
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
.         ddml estimate, robust atet
. 
.         cap drop mse_*
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
>            || //                   

  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
.                                 
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
. global pystring_class $pystring_class0 , type(class) njobs($cores)

  5.                  gen double mse_`var'=r(mean) if _n ==1 
.                                         
  6.         }
. global R =1  

.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
. global K=10 

  3.                  gen double sqerr_`var'=(gender_r-`var')^2
>            ||   4.                  s.         
ar', meanonly
.                                 
. *****************************************************************************
> *  
  6.         }
. *** ddml: estimation                                                         
>                                               ***
.         preserve
. *****************************************************************************
> *
.                 keep mse_*
. 
               keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
. if (`estimator'==1) {
.         cap drop mse_*
. 
.         
.         local mat gender_r_mse
s($R) kfolds($K)
. global pystring_class $pystring_class0 , type(class) njobs($cores)

.                         ddml extract, show(mse)
d $pystring_reg
.                                         
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
. global R =1  

ossfit, shortstack poolstack
.         ddml estimate, robust
  preserve
.                                 svmat `mat'
. global K=10 

.                                 keep `mat'*
. global L =13

.         foreach mat in lnearn_mse gender_r_mse {
.         
.                                 gen stack_type = "conventional" if _n==1
. *****************************************************************************
> *  
.                                 replace stack_type = "pooled" if _n==2
  3.                         mat `mat' = r(`mat')
. *** ddml: estimation                                                         
>                                               ***
.                                 replace stack_type = "short" if _n==3
  4.                         mat list `mat'
. *****************************************************************************
> *
  5.                                 preserve
"interactive"
.                                 list if _n<=$L
  6.                                 svmat `mat'
.                                 save `folder'/`mat'_inter_gender_mse, replace
  7.                                 keep `mat'*
.                                 restore 
.                                 
  keep if _n<=$L
. if (`estimator'==1) {
. 
       local mat lnearn_mse
  9.                                 gen stack_type = "conventional" if _n==1
.                         ddml extract, show(mse)
.         ddml init partial,  reps($R) kfolds($K)
.                         mat `mat' = r(`mat')
ack_type = "pooled" if _n==2
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
 11.                                 replace stack_type = "short" if _n==3
.                                 preserve
X_expanded $pystring_reg
 12.                                 gen model = "plm"
.                                 svmat `mat'
 13.                                 list if _n<=$L
.                                 keep `mat'*
 14.       .                                 keep if _n<=(2*$L)
, replace
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 16.         }       
  2.                         ddml extract, show(mse)
.                                 replace stack_type = "short" if _n>4
.         cap drop mse_*
    mat `mat' = r(`mat')
.                                 gen model = "interactive"
.                                 list if _n.         foreach var of varlist Y1_* {
.                                 save `folder  2.                  cap drop sqerr_`var'
.                                 restore 
`mat'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
.         
  7.                                 keep `mat'*
  4.                  sum sqerr_`var', meanonly
.         foreach final in nnls1 singlebest ols avg   5.                  gen double mse_`var'=r(mean) if _n ==1 
  2. 
  9.                                 gen stack_type = "conventional" if _n==1
  6.         }
.                 ddml estimate, robust finalest(`final') atet
  3.         
                       replace stack_type = "pooled" if _n==2
.         foreach var of varlist D1_* {
 11.                                 replace stack_typ  2.                  cap drop sqerr_`var'
 12.                                 gen model = "plm"
(st) replay atet
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
 13.                                 list if _n<=$L
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
  5.                  gen double mse_`var'=r(mean) if _n ==1 
se, replace
.                         // shortstacking results
 15.                                 restore 
  6.         }
.                         ddml estimate, mname(m0) spec(ss) replay atet
.         preserve
.                 keep mse_*
 16.         }       
.                 keep if _n==1
save gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                 save `f.                         // poolstacking results
.         restore
.                         ddml estimate,.         cap drop mse_*
y atet
  2.                  cap drop sqerr_`var'
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  9.                 
  4.                  sum sqerr_`var', meanonly
s.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
.                         // pystacked weights
. 
.                         ddml extract, show(stweights)
 ==1 
.         foreach final in nnls1 singlebest ols avg {
  6.   10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
.                 ddml estimate, robust finalest(`final')
 11.                                         ddml extract, show(stweights)
  2.                  cap drop sqerr_`var'
ng results
 12.                                         mat `mat' = r(`mat')
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
ay  
 13.                                         mat list `mat'
  4.                  sum sqerr_`var', meanonly
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                  gen double mse_`var'=r(mean) if _n ==1 
 15.                                                 svmat `mat'
.               16.                                                 keep `mat'*
.         preserve
.                         ddml estimate, mname(m0) spec(ss) replay .                 keep mse_*
.                 keep if _n==1
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
.                 save `folder'/plm_mse, replace
ng `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
                       restore
.     20.                         }       
ing results
.         cap drop mse_*
. 
                       ddml estimate, mname(m0) spec(ps) replay  
.         ** initialize results file
t, show(ssweights)
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
. 
.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
.         foreach final in nnls1 singlebest ols avg {
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 26.                                                 preserve
.                 ddml estimate, robust finalest(`final')
 11.                                         ddml extract, show(stweights)   
  3.         
                                       svmat `mat'
 28.                                                 keep `mat'*

 13.                                         mat list `mat'
 29.                                                 list if _n<=8
 
 14.                                                 preserve
 15.                                                 svmat `mat'
lts.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
 31.                                                 restore
 16.                                                 keep `mat'*
.                         // shortstacking results
 32.                         }       
 17.                                                 list if _n<=4
.                         ddml estimate, mname(m0) spec(ss) replay 
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
 20.                         }       
at in Y_lnearn_ps D_gender_r_ps {
.                         // poolstacking results
 35.                                         ddml extract, show(psweights)
.                         ddml estimate, mname(m0) spec(ps) replay  
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
 38.                                                 preserve
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
.                         // pystacked weights
 39.                                                 svmat `mat'
 23.                                         qui ddml extract, show(ssweights)
.                         ddml extract, show(stweights)   
 40.                                                 keep `mat'*
 24.                                         mat `mat' = r(`mat')
 41.                                                 list if _n<=8
stacked_w_mn
>  {
 25.                                         mat list `mat'
 26.                                                 preserve
w(stweights)   
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
at'

 28.                                                 keep `m 44.                         }       
 14.           29.                                                 list if _n<=4
 15.                                                 svmat `mat'
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
.         }
                                         keep `mat'*
 31.                                                 restore
. 
 17.                                                 list if _n<=4
 32. .         forvalues i = 1(1)$L {
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 33.                         // poolstacked weights
. 
 19.                                                 restore
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
 20.                         }       
in Y_lnearn_ps D_gender_r_ps {
 21.                         // shortstacked weights
 34.                                         qui ddml extract, show(psweights)
  3.                         regsave gender_r using `fol 35.                                         mat `mat' = r(`mat')
            addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
 36.                                         mat list `mat'
. 
.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 37.                                                 preserve
 23.                                         qui ddml extract, show(ssweights)
 38.                                                 svmat `mat'
 24.                                         mat `mat' = r(`mat')
 39.                                                 keep `mat'*
**************
> *  
 25.                                         mat list `mat'
 40.                                                 list if _n<=4
            
>                                       ***
 26.                                                 preserve
. *****************************************************************************
> *
 27.                                                 svmat `mat'
'/`mat'_`final
> '_pooled, replace
. 
 42.                                                 restore
 28.                                                 keep `mat'*
. if (`estimator'==3) {
 43.                         }       
               list if _n<=4
 44.         
    
. 
.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
.         cap drop dbase*
.         }
 32.                         }       
. 
       cap drop y1base*
. 
.                         // poolstacked weights
. 
.         forvalues i = 1(1)$L {
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
.                 mat nxw_ia_y0 = e(weights)
qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
 36.                                         mat list `mat'
.                                 svmat nxw_ia_y0
  4.         }
 37.                                                 preserve
. }

                             save `folder'/nxw_ia_y0, replace
 38.                                                 svmat `mat'
.                                 restore
. *****************************************************************************
> *  
.         predict y0base, base
. 
** interactive: estimation                                                  
>                                       ***
 41.                                                 save `folder'/`mat'_`final
> '_.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.         
.                 mat nxw_ia_y1 = e(weights)
        restore
. if (`estimator'==2) {   
 43.                      . 
}       
 44.         
                    preserve
.         ddml init interactive, kfolds($K) reps($R)
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
ded $pystring_reg
.                                 save `folder'/nxw_ia_y1, replace
ss
.         }
.                                 restore
ack
.         ddml estimate, robust atet
.         predict y1base0, xb
.         forvalues i = 1(1)$L {
.         predict y1base, base
.         cap drop mse_*
. 
.         foreach var of varlist Y1_pystacked0* {
_class  
L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
.                 mat nxw_ia_d = e(weights)
  2.                  cap drop sqerr_`var'
.                 mat list nxw_ia_d
.                                 preserve
'=(lnearn-`var')^2 if gender_r==0
//
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
       sum sqerr_`var' if gender_r==0, meanonly
. 
                               keep nxw_ia_d*
  5.                  gen double mse_`var'=r(mean) if _n ==1 
.                                 save `folder'/nxw_ia_d, replace
. }

.                                 restore         
.         foreach var of varlist Y1_pystacked1* {
*****************************
> *  
.         predict dbase, base pr
  2.                  cap drop sqerr_`var'
                                    
>                                       ***
. *******************************  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
.         
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
. 
.         ddml init interactive, kfolds($K) reps($R)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
.         foreach var of varlist D1_* {
n $X_expanded $pystring_reg
  4.         }
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.                 
   cap drop sqerr_`var'
. }

     ddml crossfit, shortstack poolstack
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
.         ddml estimate, robust atet
. 
.                  sum sqerr_`var', meanonly
. *****************************************************************************
> *  
  5.                  gen double mse_`var'=r(mean) if _n ==1 
. *** partial NX: short-stacking                                               
>                                       ***
.         foreach var of varlist Y1_pystacked0* {
. *****************************************************************************
> *
  2.                  cap drop sqerr_`var'
.                 keep mse_*
.                 keep if _n==1
 sqerr_`var'=(lnearn-`var')^2 if gender_r==0
. if (`estimator'==4) {
.         
           sum sqerr_`var' if gender_r==0, meanonly
.         restore
.         cap drop mse_*
 double mse_`var'=r(mean) if _n ==1 
.         
  6.         }
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
.                                 preserve
  4.                  sum sqerr_`var' if gender_r==1, meanonly
.                                 svmat `mat'
.                                 keep `mat'*
ean) if _n ==1 
  6.         }
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
  2.                  cap drop sqerr_.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
  5.                  gen double mse_`var'=r(mean) if _n ==1 
.                                 save `folder'/`mat'_inter_gender_mse, replace
  6.         }
.         preserve
               restore 
.                                 
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
        mat `mat' = r(`mat')
.         cap drop mse_*
 mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
se)
.                                 keep if _n<=(2*$L)
.                         mat list `mat'
.                                 gen stack_type = "conventional" if _n<=2
.                                 preserve
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 svmat `mat'
.                                 keep `mat'*
k_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 keep if _n<=$L
.                                 list if _n<=(2*$L)
. cap gen one = 1 
               gen stack_type = "conventional" if _n==1
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
. 
.                                 restore 
tack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.         cap drop Ybase* 
.         foreach final in nnls1 singlebest ols avg {
tive"
  2. 
                            list if _n<=$L
. 
.         *** no cross-fitting
   save `folder'/`mat'_inter_gender_mse, replace
.                 ddml estimate, robust finalest(`final') atet
  3.         
                    restore 
.                                 
.                         // regular stacking results
.         local mat lnearn_mse
.                         ddml extract, show(mse)
 spec(st) replay atet
.                         mat `mat' = r(`mat')
.                         mat list `mat'
er_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                                 preserve
.                         // shortstacking results
.                                 svmat `mat'
.                                 keep `mat'*
(m0) spec(ss) replay atet
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
i ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
pe = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                         ddml estimate, mname(m0) spec(ps) replay atet
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
/`mat'_inter_lnearn_mse, replace
.                                 restore 
.                         ddml extract, show(stweights)
.         
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
.         foreach final in nnls1 singlebest ols avg {
  2. 
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
  3.         
 13.                                         mat list `mat'
.                         // regular stacking results
 14.                                                 preserve
.                         ddml estimate, mname(m0) spec(st) replay atet
 15.                                                 svmat `mat'
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
                       keep `mat'*
.                         // shortstacking results
 17.                                                 list if _n<=8
.                         ddml estimate, mname(m0) spec(ss) replay atet
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
ps) replay atet
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
 23.                                         ddml extract, show(ssweights)
.                         // pystacked weights
 24.                                         mat `mat' = r(`mat')
.                         ddml extract, show(stweights)
 25.                                         mat list `mat'
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 26.                                                 preserve
 11.                                         ddml extract, show(stweights)
 27.                                                 svmat `mat'
 12.                                         mat `mat' = r(`mat')
 28.                                                 keep `mat'*
 13.                                         mat list `mat'
 29.                                                 list if _n<=8
 14.                                                 preserve
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 33.                         // poolstacked weights
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
at in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
.                         ddml extract, show(ssweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
nder_r_ss {
 38.                                                 preserve
w(ssweights)
 39.                                                 svmat `mat'

 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 27.                                                 svmat `mat'
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 28.                                                 keep `mat'*
 43.                                                 restore
 29.                                                 list if _n<=8
 44.                         }       
 45.         
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
.         }
                 }       
. 
 33.                         // poolstacked weights
.         forvalues i = 1(1)$L {
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1esults.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         ddml init interactive, kfolds($K) reps($R)
.         ddml init interactive, kfolds($K) reps($R)
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000D omitted because of collinearity
note: __00001Y omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000021 omitted because of collinearity
note: __000026 omitted because of collinearity
note: __000054 omitted because of collinearity
note: __00005C omitted because of collinearity
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000D omitted because of collinearity
note: __00001Y omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000021 omitted because of collinearity
note: __000026 omitted because of collinearity
note: __000054 omitted because of collinearity
note: __00005C omitted because of collinearity
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000D omitted because of collinearity
note: __00001Y omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000021 omitted because of collinearity
note: __000026 omitted because of collinearity
note: __000054 omitted because of collinearity
note: __00005C omitted because of collinearity
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
Learner Y1_pystacked added successfully.
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
   cap drop y1base*
       preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
. 
                               restore
.         predict y1base0, xb
1)  max_features(sqrt) n_estimators(500)

.         *** no cross-fitting
. global rf2 min_samples_leaf(50)  max_features(sqrt) n_estimators(500)

.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
tring_class  
timators(500)

. global grad1 n_estimators(500) n_iter_no_change(10)  

.                                 preserve
.                                 svmat nxw. global grad2 n_estimators(500)  

.                                 keep nxw_ia_y0*
. global nnet1 hidden_layer_sizes(40 20 1 20 50) .                                 save `folder'/nxw_ia_y0, replace
.                                 save `folder'/nxw_ia_d, replace
.                                 restore
.                                 restore         
topping  

. 
       predict y0base0, xb
.         predict y0base, base
.         predict dbase, base pr
.         
.         pystacked lnearn $X_expanded  . global pystring_reg0                                          .                 mat nxw_ia_y1 = e(weights)
                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
.                 mat list nxw_ia_y1
.                                 preserve
interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
.                                 save `folder'/nxw_ia_y1, replace
  4.         }
.                 
               restore
. }

     predict y1base0, xb
.         predict y1base, base
. 
. *****************************************************************************
> *  
.         pystacked gender_r $X_expanded $pystring_class  
. *** partial NX: short-stacking                                               
>                                       ***
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
. *****************************************************************************
> *
. 
                               preserve
.                                 svmat nxw_ia_d
. if (`estimator'==4) {
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

.                 
. 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. global pystring_reg  $pystring_reg0 , type(reg) njobs($cores) 

.  
. global pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
. cap gen one = 1 
. 
                          || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
.         cap drop Ybase* 
.         cap drop Dbase*
                m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
. 
.         *** no cross-fitting
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
>            || //                   

.                                 
. global pystring_class $pystring_class0 , type(class) njobs($cores)

.                                         
. global R =1  

. global K=10 

. global L =13

.         
. *****************************************************************************
> *  
. *** ddml: estimation                                                         
>                                               ***
. *****************************************************************************
> *
. 
. if (`estimator'==1) {
. 
.         ddml init partial,  reps($R) kfolds($K)
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust
.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/plm_mse, replace
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }
use
(53 observations deleted)

. 
. 
. 
.         forvalues i = 1(1)$L {
. *****************************************************************************
> ***
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
. ***  learners
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
. *****************************************************************************
> ***
. 
.         }
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
lobal cores = 5

. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
. global rf1 min_samples_leaf(1)  max_features(sqrt) n_estimators(500)

.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
. global rf2 min_samples_leaf(50)  max_features(sqrt) n_estimators(500)

.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. global rf3 min_samples_leaf(100)  max_features(sqrt) n_estimators(500)

. 
.         cap drop mse_*
. global grad1 n_estimators(500) n_iter_no_change(10)  

.         foreach var of varlist Y1_pystacked0* {
. global grad2 n_estimators(500)  

  2.                  cap drop sqerr_`var'
. global nnet1 hidden_layer_sizes(40 20 1 20 50) early_stopping 

  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
. global nnet2 hidden_layer_sizes(30 30 30) early_stopping  

. 
.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
. global pystring_reg0                                                         
>    || ///
>                                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
                m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
    
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

. 
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
. global pystring_reg  $pystring_reg0 , type(reg) njobs($cores) 

.  
                      mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
. global pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
       m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
>            || //                   

  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
. global pystr 14.                                                 pre.                                         
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
. global K=10 

 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
.         
. *****************************************************************************
> *  
 21.                         // shortstacked weights
. *** ddml: estimation                                                         
>                                               ***
.                         ddml extract, show(ssweights)
. *****************************************************************************
> *
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
. if (`estimator'==1) {
. 
.                                                 preserve
.         ddml init partial,  reps($R) kfolds($K)
   svmat `mat'
.         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
 29.                                                 list if _n<=8
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
.         ddml estimate, robust
.         
                                          restore
 32.                         }       
.         foreach mat in lnearn_mse gender_r_mse {

.                         ddml extract, show(psweights)
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
rn_ps D_gender_r_ps {
  4.                         mat list `mat'
 ddml extract, show(psweights)
  5.                                 preserve
at `mat' = r(`mat')
  6.                                 svmat `mat'
list `mat'
  7.                                 keep `mat'*
    preserve
  8.                                 keep if _n<=$L
 svmat `mat'
 40.                                                 keep `mat'*
  9.                                 gen stack_type = "conventional" if _n==1
 41.                                                 list if _n<=8
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
inal
> '_pooled_ia, replace
 12.                                 gen model = "plm"
store
 13.                                 list if _n<=$L
 45.         
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
.         }
. 
 16.         }       
.         forvalues i = 1(1)$L {
. 
.         cap drop mse_*
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.                  sum sqerr_`var', meanonly
  4.         }
  5.                  gen double mse_`var'=r(mean) if _n ==1 
. }       

.         
  }
. *****************************************************************************
> *  
  2.                  cap drop sqerr_`var'
. *** interactive NX: short-stacking                                           
>                                       ***
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
. ********  4.                  sum sqerr_`var', meanonly
*********************
> *
. 
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
r'==3) {
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/plm_mse, replace
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
. 
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
. keep if touse
(53 observations deleted)

'*
.         cap drop dbase*
.                                 keep if _n<=$L
. 
.                                 . keep if touse
(53 observations deleted). *****************************************************************************
> ***
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
. 
. ***  learners
                  gen model = "interactive"
. *****************************************************************************
> ***
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
. *****************************************************************************
> ***
.               . keep if touse
(53 observations deleted)

                  
.         local mat lnearn_mse
************************************************
> ***
. 
.                         ddml extract, show(mse)
. 
.                         mat `mat' = r(`mat')
. 
.                         mat list `mat'
. global cores = 5

              preserve
************************************
> ***
. keep if touse
(53 . 
                    . 
        svmat `mat'
.                                 keep `mat'*
. ***  learners
. 
                               keep if _n<=(2*$L)
n_estimators(500)

. global rf1 min_samples_leaf(1)  max_features(sqrt) n_estimators(500)

.                                 gen stack_type = "conventional" if _n<=. *****************************************************************************
> ***
. global rf2 min_samples_leaf(50)  max_features(sqrt) n_estimat.         . ***  learners
        replace stack_type = "pooled" if _n>=3 &. global r. global grad1 n_estimators(500) n_iter_no_change(10)  

(500)

.                                 replace stack_type = "short" if _n>4
. *****************************************************************************
> ***
.                                 ge. 
odel = "interactive"
. global nnet1 hidden_layer_sizes(40 20 1 20 50) early_stopping 

.                                 save `folder'/`mat'_inter_lnearn_mse, replace
. global cores = 5

n_layer_sizes(40 20 1 20 50) early_stoppin.   . 
                           restore 
.  . global nnet2 hi. 
n_layer_sizes(30 30 30) early_stopping  

. 
.         foreach final in nnls1 singlebest ols avg {
_estimators(500)

  2. 
al rf1 min_samples_leaf(1)  max_features(sqrt) n_estimators(500)

. global pystring_reg0                                                         
>    || ///
>                                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
. global rf2 min_samples_leaf(50)  max_features(sqrt) n_estimators(500)

  3.         
in_samples_leaf(100)  max_features(sqrt) n_estimators(500)

. global pystring_reg0                                                         
>    || ///
>                                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
.                         // regular stacking results
 n_estimators(500)

. global grad1 n_estimators(500) n_iter_no_change(10)  

>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
.                         ddml estimate, mname(m0) spec(s. global grad2 n_estimators(500)  

. global grad2 n_estimators(500)  

>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
. global nnet1 hidden_layer_sizes(40 20 1 20 50) early_stopping 

  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
. global nnet2 hidden_layer_sizes(30 30 30) early_stopping  

g 

. global nnet2 hidden_layer_sizes(30 30 30) early_stopping  

. 
.                         ddml estimate, mname(m0) spec(ss) replay atet
. global pystring_reg0                                                         
>    || ///
>                                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
. global pystring_reg0                                        7.                         
/
>                                         m(ols)                               
>                            || ///
>                                         m(ols) xvars($X_simple)              
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
      m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

 12.                                         mat `mat' = r(`mat')
. 
 13.                                         mat list `mat'
 14.                                                 preserve
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>            || //

 15.                                                 svmat `mat'
. 
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
, type(reg) njobs($cores) 

.  
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
>                                         m(rf) opt($rf3)         >     .  
obal pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>      23.                                         ddml extract, show(. 
eights)
 24.                                         mat `mat' = r(`mat')
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
. global pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
 26.                                                 preserve
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
>                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
 29.                                                 list if _n<=8
. global pystring_reg  $pystring_reg0 , type(reg) njobs($cores) 

.  
obal pystring_reg  $pystring_reg0 , type(reg) njobs($cores) 

 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
>                                         m(rf) opt($rf3)                      
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
 31.                                                 restore
 32.                         }       
. global pystring_class0                                                       
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
 33.                         // poolstacked weights
                           
>            || ///
>                                         m(logit)                             
>                            || ///
>                                         m(logit) xvars($X_simple)            
>            || ///
>                                         m(lassocv)                           
>                            || ///
>                                         m(ridgecv)                           
.                         ddml extract, show(psweights)
>                    >                            || ///
>                                         m(lassocv)      xvars($X_cont)       
>            || ///
>                                         m(ridgecv)      xvars($X_cont)       
>            || ///
>                                         m(rf) opt($rf1)                      
>                    || ///
>                                         m(rf) opt($rf2)                      
>                    || ///
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
                   
>                    || ///
>                                         m(gradboost) opt($grad1)             
>            || ///
>                                         m(gradboost) opt($grad2)             
>            || ///
>                                         m(nnet) opt($nnet1)                  
>            || ///
>                                         m(nnet) opt($nnet2)                  
 38.                                                 preserve
 39.                                                 svmat `mat'
>            || //                   

 40.                                                 keep `mat'*
.                                 
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
>            || //                   

 44.                         }       
.                                 
 45.         
.         }
. global pystring_class $pystring_class0 , type(class) njobs($cores)

.                                         
.         forvalues i = 1(1)$L {
. global R =1  

  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
. global pystring_class $pystring_class0 , type(class) njobs($cores)

.                                      . gl.           .                      .         

e gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }


. *****************************************************************************
> *  
. 
. global K=10 

mation                                                         
>                                               ***
.         
. *****************************************************************************
> *
. global L =13

***************************************************************
> *  
. 
.         
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *  
. if (`estimator'==1) {
*******************************************************
> *
. 
lobal pystring_class $pystring_class0 , type(class) njobs($cores)

. *** ddml: estimation                                                .                                         
               ***
.                                         
.         ddml init part. ************************. 
**************************************************
> *
. global R =1  

. gen one = 1     
arn $X_expanded $pystring_reg
. 
. 
       ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
. global K=10 

.         ddml c.         cap drop y0base*
ck
.         cap drop dbase*
obust
. 
       
=13

.         
ap drop y1base*
. 
****************************************************************************
> *  
.         ddml init partial,  reps($R) kfolds($K)
. *************************************************. *** ddml: estimation             .         ddml E[Y|X]: pystacked l. *** ddml: estimation                                         . *******************************************************************.         ddml E[D|X]: pystacked ge. *******************************.                . 
t nxw_ia_y0 = e(weights)
*
> *
  4.                         mat list `mat'
k
.  .         ddml estimate, robust
0
  5.                                 preserve
. if (`estimator'==1) {
          preserve
  6.                    .                        . 
      svmat nxw_ia_y0
  7.                                 keep `mat'*
.                                 keep nxw_ia_y0*
.         ddml init partial,  reps($R) kfolds($K)

.                                 save `folder'/nxw_ia_y0, replace .         ddml E[Y|X]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_reg
 if _n==1
.         predict y0base0, xb
ed gender_r $X_expan 10.              .         ddml crossfit, shortstack poolstack
d" if _n==2
.         predict y0base, base
t list `mat'
k
.         ddml estimate, robust
. 
  replace stack_type = "short" if _n==3
 12.                                 gen model.          6.                                 svmat `mat'
gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
_n<=$L
  7.                                 keep `mat'*
.         foreach mat in lnearn_mse gender_r_mse {
 14.                                   8.                                 keep if _n<=$L
.                                 preserve
show(mse)
  2.                         ddml extract, show(mse)
 15.                                 restore 
  3.                         mat `mat' = r(`mat')
e = "conventional" if _n==1
 16.         }       
       mat `mat' = r(` 10.  .                                 svmat nxw_ia_y1
= "pooled" if _n==2
. 
.                         mat list `mat'
e
 11.                                 replace stack  5.                     .         cap drop mse_*. 12.                                 gen model = "plm"
1, replace
  6.                                 svmat `mat'
 13.                                 list   7.      .         predict y1base0, xb
p `mat'*
$L
  2.                  cap drop sqerr_`var'
.         predict y1base, base
      keep if _n<=$L
= "conventional" if _n==1
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
 15.                                 restore 
 10.                                 replace sta. 
type = "pooled" if _n==2
1
  5.                   10.                                 rep. 
       pystacked gender_r $X_expanded $pystring_class  
short" if _n==3
  6.         }
.                 mat nxw_ia_d = e(weights)
el = "plm"
 = "short" if _n==3
.         foreach var of  12.           .                 mat list nxw_ia_d
 list if _n<=$L
.         foreach var of varlist Y1_* {
r'
.                                 preserve
f _n<=$L
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
, replace
.                                 svmat nxw 14.   15.                                 restore 
mat'_plm_mse, replace
  4.                  sum sqerr_`var', meanonly
.                                 keep nxw_ia_d*
arn-`var')^2
 15.                                 restore 
  5.                  gen double mse_`var'=r(mean) if _n ==1 
.                                 save `folder'/ 16.         }       
  6.         }
  5.         preserve
  
 double mse_`var'=r(mean) if _n ==1 
. 
       predict dbase0,  6..          .         predict .         cap drop mse_*
varlist Y1_* {
.         foreach var of varlist  2.    .                 save `folder'/plm.         foreach var of varlist Y1_* {
.         restore
s i = 0(1)$L {
err_`var'
  2.                  cap drop sqerr_`var'
'=(lnearn-`var')^2
.         cap drop mse_*
 double sqerr_`var'=(gender_r-`var')^2
. 
.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  4.                  sum sqerr_`var', meanonly
n) if _n ==1 
lnearn) dname(gen
> der_r) ///
>                                  5.                  gen double mse_`var'=r(mean) if _n ==1 
/
>                                                 atet foldid(one) robust model
> (interactive)
  5.             3.                         regsave gender_r u  6.         }
ve gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
nx,learner,`i') append
. 
.         }
ch var of varlist D1_* {
  4.         }
rve
  2.                  cap drop sqerr_`var'
.         foreach var of varlist D1_* {
  3.                  gen double sqerr_`var'=(gender_r.         .                 keep if _n==1

  4.  . }

                 gen double sqerr_`va.                 save.                 ddml esti.         
           gen doubl  4.                  sum sqerr  3.         
ore
. *************  5.                  gen double mse_`var'=r(mean) if _n ==1 
**
> *  
. 
       preserve
       // regular stacking results
  6.         }
X: short-stacking                                               
>                                       ***
.                         ddm.         ** initialize results file
  
.                 keep if _n==1
. ***************************.                 save `folder'/plm_mse, replace
.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
,learner,-1) append
. 
               keep if _n==1
  5.                         
            save `folder'/plm_mse, replace
.         
.         restore
.         foreach final in nnls1 singlebest ols avg {
  2. 
.         cap drop mse_*
. 
               ddml estimate, robust finalest(`final')
.         restore
.         ** i.         cap drop mse_*
. 
                       // regular stacking results
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(st) replay  
.                         ddml estimate, mname(m0) spec(ss) replay 
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
  4.    6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
e, robust finalest(`final')
  3.         
ach final in nnls1 singlebest ols avg {
.                         // poolstacking results

.                         // regular stacking results
.                 ddml estimate, robust finalest(`final')
) replay  .                         ddml estimate, mname(m0) spec(st) replay  
  3.         
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append   4.   7.                         
e gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
.                       5.                         
pec(st) replay  
.                         // pystacked weights
ts
.                         // shortstacking results
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
.                         ddml estimate, mname(m0) spec(ss) replay 
  5.                         
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dla.                         // shortstacking results
,-3) append     
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
 11.                    7.                         
tract, show(stweights)   
.                         // pystacked weights
m0) spec(ss) replay 
.                         // poolstacking results
 12.                                         mat `mat' = r(`mat')
. cap gen one = 1 
       ddml extract, show(stweights)   
 13.                                         mat list `mat'
/results.dta, ci  10.                         foreach mat in Y1_pystacked_w_mn D1_pystac  7.           14.                                                 preserve
 ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
 11.                                         ddml extract, show(stweights)   
 pystacked weights
      svmat `mat'
.                         ddml estimate, mname(m0) spec(ps) replay  
.                         ddml extract, show(stweights)   
.         cap drop Dbase*
                           keep `mat'*
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
bel(model,partial,seed,`seed',final,`final',learner,-3) append     
 12  9.                 
                               list if _n<=4
.         *** no cross-fitting
              ddml extract, show(stweights)   
.                         // pystacked weights
t list `mat'
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 12.                                         mat `mat' = r(`mat')
.                         ddml extract, show(stweights)   
ve
 19.                                                 restore
 13.                                         mat list `mat'
 15.                                                 svmat `mat'
 14.                                                 preserve
D1_pystacked_w_mn
>  {
 21.                         // shortstacked weights
keep `mat'*
 15.                                                 svmat `mat'
tweights)   
.                         ddml extract, show(ssweights)
t if _n<=4
 16.                                                 keep `mat'*

 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 17.                                                 list if 19.                                                 restore
 14.                                                 preserve
 23.                                         qui ddml extract, show(ssweights)
 18.                                   15.                                                 svmat `mat'
 21.                         // shortstacked weights
' = r(`mat')
 16.                                                 keep `mat'*
.                         ddml extract, show(ssweights)
at'
 17.                                                 list if _n<=4
 26.                                                 preserve
 21.                         // shortstacked weights
 27.                                                 svmat `mat'
'/`mat'.                         ddml extract, show(ssweights)
 19.                                                 restore
, show(ssweights)
 28.                                                 keep `mat'*
 22.                         foreach mat in Y_lnearn_ss D_gender_r 29.                                                 list if _n<=4
 21.                         // shortstacked weights
 `mat'
 23.                                         qui ddml extract, show(ssweights)
 26.                                                 preserve
der'/`mat'_`final
> '_short, replace
 24.                                         mat `mat' = r(`mat')
 27.                                                 svmat `mat'
 25.                                         mat list `mat'
 28.                                                 keep `mat'*
r_ss {
 26.                                                 preserve
 23.                                         qui ddml extract, show(ssweights)
 27.                                                 svmat `mat'
4
 24.                                         mat `mat' = r(`mat')
 28.                                                 keep `mat'*
s {
at'_`final
> '_short, replace
 25.                                         mat list `mat'
 31.                                                 restore
 29.                                                 list if _n<=4
(psweights)
 26.                                                 preserve
 32.                         }       
 35.      33.                         // poolstacked weights
 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore. 
*
 37.                                                 preserve
 29.                                                 list if _n<=4
 32.                         }       
 38.                                                 svmat `mat'
s {
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 39.                                                 keep `mat'*
ow(psweights)
 31.                                                 restore
 35.                                         mat `mat' = r(`mat')
 40.                                                 list if _n<=4
{
 36.                                         mat list `mat'
 33.                         // poolstacked weights
l extract, show(psweights)
 37.                                                 preserve
der'/`mat'_`final
> '_pooled, replace
 35.                                         mat `mat' = r(`mat')
 38.                                                 svmat `mat'
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 43.                         }       
 39.                                                 keep `mat'*
 34.                                         qui ddml extract, 40.                                                 list if _n<=4
 38.                                                 svmat `mat'
 35.                                         mat `mat' = r(`mat')
 39.                                                 keep `mat'*
'/`mat'_`final
> '_pooled, replace
.         }
                                 mat list `mat'
 40.                                                 list if . 
=4
 37.                                                 preserve
 43.                         }       
 38.                                                 svmat `mat'
'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 39.                                                 keep `mat'*
 43.                         }       
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
 40.          .         }
                           list if _n<=4
. 
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
.         forvalues i = 1(1)$L {
ave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
.         }
                                         restore
. 
.         }
 43.                         }       
  2 44.         
            ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
. }

     forvalues i = 1(1)$L {
.         
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,.         }
nal,indiv,learner,`i') ///
>                                                 append
. *  4.         }
 estimation                                                  
>                                       ***
  3.         forvalues i = 1(1)$L {
**********************************************
> *
                                               addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
.      4.         }
.         
. 
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
. }

**************************************************************************
> *  
. 
.         
.         ddml init interactive, kfolds($K) reps($R)
                          
>  . ***************************************. *****************************************************************************
> *
         addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
. *** inter. 
ive: estimation                                                  
>                                       ***
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
. *****************************************************************************
> *
.         ddml crossfit, sh. 
       
olstack
.         ddml estimate, robust atet
******************************************
> *  
.         ddml init interactive, kfolds($K) reps($R)
. i. *** interactive: estim.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
                            ***
.         cap drop mse_*
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
*********
> *
.         ddml init interactive, kfolds($K) reps($R)
.         
.         ddml crossfit, shortstack poolstack
* {
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml estimate, robust atet
`var'
. 
       ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
.         cap drop mse_*
shortstack poolstack
ps($R)
  4.                  sum sqerr_`var' if gender_r==0, meanonly
.         ddml estimate, robust atet
earn $X_expanded $pystring_reg
  5.         ddml E[D|X]: pystacked gender_r $X_expanded $pyst.         cap drop mse_*
  2.                  cap drop sqerr_`var'
.         ddml crossfit, shortstack poolstack
.         foreach var of varlist Y1_pystacked0* {
.         ddml estimate, robust atet
r_`var'=(lnearn-`var')^2 if gender_r==0
  2.                  cap drop sqerr_`var'
ed1* {
. 
  4.                  sum sqerr_`var' if gender_r==0, meanonly
.         cap drop mse_*
 drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
.         foreach var of varlist Y1_pystacked0* {
=0, meanonly
  6.         }
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  2.                  cap drop sqerr_`var'
r(mean) if _n ==1 
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  2.                  cap drop sqerr_`var'
  6.         }
.         foreach var of varlist Y1_pystacked1* {
=0, meanonly
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  2.                  cap drop sqerr_`var'
  6.         }
       gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  6.         }
ch var of varlist Y1_pystacked1* {
  4.                  sum sqerr_`var', meanonly
  2.                  cap drop sqerr_`var'
r(mean) if _n ==1 
.         foreach var of varlist D1_* {
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  2.                  cap drop sqerr_`var'
  6.         }
.         foreach var of varlist D1_* {
 gender_r==1, meanonly
.         preserve
   gen double sqerr_`var'=(gender_r-`var')^2
  2.                  cap drop sqerr_`var'
r(mean) if _n ==1 
  4.                  sum sqerr_`var', meanonly
   gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
.                 save `folder'/inter_ms  5.                  gen double mse_`var'=r(mean) if _n ==1 
.         restore
    cap drop sqe  6.         }
) if _n ==1 
.         cap d.         preserve
qerr_`var'=(gender_r-`var')^2
.         
reserve
.                 keep mse_*
rr_`var', meanonly
.                 keep mse_*
.         local mat gender_r_mse
.                 keep if _n==1
 mse_`var'=r(mean) if _n ==1 
.                         ddml extract, show(mse)
.                 save `folder'/inter_mse, replace
.              .         restore
        mat `mat' .         p.       .         .         cap drop mse_*
`mat'
.                 keep mse_*
.         
              .                 .         
=1
.         local mat gender_r_mse
 svmat `mat'
.         local mat gender_r_mse
nter_mse, replace
.         restore
        ddml extract, show(mse)
.                         ddml extract, show(mse)
.         cap drop mse_*
         keep if _n<=$.                         mat `mat' = r(`mat')
.         
               mat list `mat'
.                         mat list `mat'
ck_type = "conventional" if _n==1
.         local mat gender_r_mse
 preserve
.                                 replace s.                         ddml extract, show(mse)
.                                 svmat `mat'
.                         mat `mat' = r(`mat')
_type = "short" if _n==3
.                                 keep `mat'*
.                         mat list `mat'
el = "interactive"
.                                 list if _n<=$L
.                                 preserve
.                                 keep if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, rep.                                 svmat `mat'
.                                 gen stack_type = "conventional" if _n==1
.                                 keep `mat'*
k_type = "pooled" if _n==2
.                                 
eplace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 keep if _n<=$L
ype = "short" if _n==3
.                                 gen model = "interactive"
.                         ddml extract, show(mse)
eractive"
.                                 gen stack_type .                         .                         mat `mat' = r(`mat')
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 save `folder'/`mat'_inter_gender_mse, r.                                 restore 
.                                 preserve
tack_type = "short" if _n==3
.                                 
estore 
.                                 svmat `mat'
"interactive"
.         local mat lnearn_mse
   
.                                 keep `mat'*
$L
.                         ddml extract, show(mse)
.                                 keep if _n<=(2*$L)
_inter_gender_mse, replace
.                         mat `mat' = r(`mat')
e)
.                                 restore 
.                         mat `mat' = r(`mat')
e = "conventional" if _n<=2
.                                 
`mat'
.                                 preserv.         local mat lnearn_mse
 & _n<=
> 4
.                                 preserve
.                         ddml extract, show(mse)
pe = "short" if _n>4
.                                 svmat `mat'
.                         mat `mat' = r(`mat').             .                               .                    .                         mat li.                                 keep if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, rep.    .                                 gen stack_type = "conventional" if _n<=2
.                                 restore 
tack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stac.         
ooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 keep `mat'*
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 keep if _n<=(2*$L)
.                  .                                 l  2. 
                            gen stack_type = "conventional" if _n<=2
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 save `folder'/`mat'_inter_lne.                .         
  
   replace stack_type = "short" if _n>4
.                                 restore 
.                                 gen model = "interac.         
.         foreach final in nnls1 singlebest ols avg {
.                         ddml estimate, mname(m0) sp  2. 
 replay atet
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.       4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
.         
  
  5.                         
e, robust finalest(`final') atet
  3.         
            // regular stacking results
.         foreach final in nnls1 singlebest ols avg {
.                         ddml estimate, mname(m0) spe  2. 
replay atet
.                         ddml estimate, mname(m0) spec(ss) replay atet
.                         ddml estimate, mname(m0) spec(st) replay atet
.                 ddml estimate, robust finalest(`final') atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  3.         
  5.                         
egsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  4.                         regsave gender_r using `f  7.                         
abel(model,interactive,seed,`seed',final,`final',learner,-1) append
.                         // shortstacking results
.                         // poolstacking results
 spec(st) replay atet
.                         // shortstacking results
spec(ss) replay atet
.                         ddml estimate, mname(m0) spec(ps) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
.                         ddml estimate, mname(m0) spec(ss) replay atet
  5.                         
egsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
egsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
.                         // shortstacking results
  9.                 
       regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
.                         // poolstacking results
  7.                         
 estimate, mname(m0) spec(ss) replay atet
.                         // pystacked weights
.                         // poolstacking results
 spec(ps) replay atet
.                         ddml extract, show(stweights)
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         r 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
ed',final,`final',learner,-3) append
  9.                 
    // poolstacking results
 11.                                         ddml extract, show(stweights)
i ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
    ddml estimate, mname(m0) spec(ps) replay atet
.                         ddml extract, show(stweights)
 r(`mat')
.                         // pystacked weights
 13.                                         mat list `mat'
/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
       foreach mat in Y1_pystacked_w_mn D1_pystack 14.          10.                         foreach mat in Y1_py 11.                                         dd 15.                                                 svmat `mat'
.                         ddml extract, show(stweights)
t, show(stweights)
 16.                                                 keep `mat'*

 12.                                         mat `mat' = r(`mat')
 17.                                                 list if _n<=8
stacked_w_mn
>  {
 13.                                         mat list `mat'
 11.                                         ddml extract, show(stweights)
 14.                                                 preserve
der'/`mat'_`final
> '_regular_ia, replace
 12.                                         mat `mat' = r(`mat')
 15.                                                 svmat `mat'
 13.                                         mat list `mat'
at'*
 16.                                                 keep `mat'*
 14.                                                 preserve
n<=8
 17.                                                 list if _n<=8
 15.                                                 svmat `mat'
'/`mat'_`final
> '_regular_ia, replace
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 16.                                                 keep `mat'*
r_ss {
 19.                                                 restore
 20.                         }       
       ddml extract, show(ssweights)
 20.                         }       
               list if _n<=8
 21.                         // shortstacked weights
' = r(`mat')
 21.                         // shortstacked weights
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
.                         ddml extract, show(ssweights)
at'
 19.                                                 restore
 26.                                                 preserve
 20.                         }       
at in Y_lnearn_ss D_gender_r_ss {
 27.                                                 svmat `mat'
 21.                         // shortstacked weights
ract, show(ssweights)
 28.                                                 keep `mat'*
 24.                                         mat `mat' = r(`mat')
 29.                                                 list if _n<=8
 25.                                         mat list `mat'
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 26.                                                 preserve
der'/`mat'_`final
> '_short_ia, replace
 26.                                                 preserve
 23.                                         ddml extract, show(ssweights)
 27.                                                 svmat `m 27.                                                 svmat `mat'
 24.                                         mat `mat' = r(`mat')
 32.                         }       
 28.                                                 keep `mat'*
 25.                                         mat list `mat'
 33.                         // poolstacked weights
 list if _n<=8
 26.                                                 preserve
 27.                                                 svmat `mat'
'/`mat'_`final
> '_short_ia, replace
 28.                                                 keep `ma 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 29.                                                 list if _n<=8
 32.                         }       
               save `folder'/`mat'_`final
> '_short_ia, replace
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 31.                                                 restore
 34.                         foreach mat in Y_lnearn 32.                         }       
.                         ddml extract, show(psweights)
 33.                         // poolstacked weights
tract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
.                         ddml extract, show(psweights)
 r(`mat')
 35.                                         ddml extract, show(psweights)
 37.                                         mat list `mat'
how(psweights)
 36.                                         mat `mat' = r(`mat')
_ps {
 38.                                                 preserve
t')
 37.                                         mat list `mat'
how(psweights)
 39.                                                 svmat `mat'
 38.                                                 preserve
t')
 40.                                                 keep `mat 37.                                         mat list `mat'
 39.                                                 svmat `mat'
 41.                                                 list if _n<= 3 40.                                                 keep `mat'*
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
`mat'_`final
> '_pooled_ia, replace
 41.                                                 list if _n<=8
 43.                                                 restore
t'*
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 44.                         }       
               list if _n<=8
 43.                                                 restore
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 44.                         }       
 44.                         }       
 45.         
                                       restore
 45.         
.         }
 44.                         }       
. 
 45.         
.         }
rvalues i = 1(1)$L {
.         }
. 
. 
.         }
  2.         forvalues i = 1(1)$L {
timate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  4.         }
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  3.          4.         }
  regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.       . 

. 
.         }
. }       

*******************************************************************
> *  
. }       

. *** inter.         
short-stacking                                           
>                                       ***
. *****************************************************************************
> *  
. *****************************************************************************
> *  
. 
****. *** interactive NX: short-stacking                                           . *** interactive NX: short-stacking         . *** interactive NX: short-stacking                                           . *****************************************************************************
> *
. 
****************************************************************************
> *
. 
****************************************************************************
> *
. 
en one = 1     
. 
. if (`estimator'==3) {
. if (`estimator'==3) {
e*
.  . 
    cap drop dbase*
. gen one = 1     
y1base*
. 
.         *** no cross-fitting
.         cap drop y0base*
.         cap drop dbase*
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.         cap drop y1base*
. 
               mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                                 svmat nxw_ia_y0
.                 mat nxw_ia_y0 = e(weights)
.                                 keep nxw_ia_y0*
.                 mat list nxw_ia_y0
.                                 save `folder'/nxw_ia_y0, replace
.                                 preserve
.                                 restore
.                                 svmat nxw_ia_y0
.         predict y0base0, xb
.                                 keep nxw_ia_y0*
.         predict y0base, base
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.         predict y0base0, xb
.                 mat nxw_ia_y1 = e(weights)
.         predict y0base, base
.                 mat list nxw_ia_y1
. 
.                                 preserve
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                                 svmat nxw_ia_y1
.                 mat nxw_ia_y1 = e(weights)
.                                 keep nxw_ia_y1*
.                 mat list nxw_ia_y1
.                                 save `folder'/nxw_ia_y1, replace
.                                 preserve
.                                 restore
.                                 svmat nxw_ia_y1
.         predict y1base0, xb
.                                 keep nxw_ia_y1*
.         predict y1base, base
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
pystring_class  
.         predict y1base0, xb
 = e(weights)
.         predict y1base, base
ia_d
.                                 preserve
.                                 svmat nxw_ia_d
g_class  
.                                 keep nxw_ia_d*
.                 mat list nxw_ia_d
.                                 save `folder'/nxw_ia_d, replace
.                                 preserve
.                                 restore         
.                                 svmat nxw_ia_d
.         predict dbase0, pr
.         predict dbase, base pr
 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
. 
.                                 restore         
.         forvalues i = 0(1)$L {
. gen one = 1     
base0, pr
.         predict dbase, ba. 
pr
.         
.         cap drop dbase*
   _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
.         forvalues i = 0(1)$L {
.         cap drop y1base*
.         cap drop dbase*
   regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
o cross-fitting
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) //.                 
y1base*
                         y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
. 
. }

  3.                         re.         
r_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
. *****************************************************************************
> *  
.                 
. *** partial NX: short-stacking                                               
>                                       ***
. }

.         
. *****************************************************************************
> *  
. *****************************************************************************
> *
. *** partial NX: short-stacking                                               
>                                       ***
. 
. if (`estimator'==4) {
.         
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
. cap gen one = 1 
.         cap drop Ybase* 
.         cap drop Dbase*
.         cap drop Ybase* 
. 
.         *** no cross-fitting
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000D omitted because of collinearity
note: __00001Y omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000021 omitted because of collinearity
note: __000026 omitted because of collinearity
note: __000054 omitted because of collinearity
note: __00005C omitted because of collinearity
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000D omitted because of collinearity
note: __00001Y omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000021 omitted because of collinearity
note: __000026 omitted because of collinearity
note: __000054 omitted because of collinearity
note: __00005C omitted because of collinearity
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000D omitted because of collinearity
note: __00001Y omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000021 omitted because of collinearity
note: __000026 omitted because of collinearity
note: __000054 omitted because of collinearity
note: __00005C omitted because of collinearity
.         pystacked lnearn $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
.         pystacked lnearn $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
.         pystacked lnearn $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
.         pystacked lnearn $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
.         pystacked lnearn $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
.         pystacked lnearn $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
nearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
Cross-fitting E[y|X] equation: lnearn
Learner D1_pystacked added successfully.
.         ddml crossfit, shortstack poolstack
Cross-fitting E[y|X] equation: lnearn
note: __00006P omitted because of collinearity
note: __00008C omitted because of collinearity
note: __00008I omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0715849
  ols            |      0.0000000
  lassocv        |      0.2786165
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4932672
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1319560
  nnet           |      0.0000000
  nnet           |      0.0245754
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0

nxw_ia_y0[13,1]
            c1
 r1  .07158488
 r2  2.001e-16
 r3  .27861653
 r4  3.558e-16
 r5  3.681e-16
 r6  1.708e-15
 r7  .49326718
 r8  4.418e-16
 r9  4.367e-16
r10  6.131e-16
r11  .13195602
r12  1.366e-15
r13   .0245754
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
(note: file out_26898/nxw_ia_y0.dta not found)
file out_26898/nxw_ia_y0.dta saved
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000X omitted because of collinearity
note: __00000Y omitted because of collinearity
note: __00001X omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000020 omitted because of collinearity
note: __000025 omitted because of collinearity
note: __00002G omitted because of collinearity
note: __00006P omitted because of collinearity
note: __00008C omitted because of collinearity
note: __00008I omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.1536338
  ols            |      0.0000000
  lassocv        |      0.1616337
  ridgecv        |      0.1045378
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4611801
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0738036
  nnet           |      0.0227263
  nnet           |      0.0224848
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0

nxw_ia_y0[13,1]
            c1
 r1  .15363378
 r2  3.705e-17
 r3  .16163366
 r4  .10453784
 r5  4.959e-17
 r6  4.771e-17
 r7  .46118005
 r8  9.786e-17
 r9  3.553e-17
r10  4.704e-17
r11  .07380356
r12  .02272634
r13  .02248476
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
(note: file out_84685/nxw_ia_y0.dta not found)
file out_84685/nxw_ia_y0.dta saved
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000X omitted because of collinearity
note: __00000Y omitted because of collinearity
note: __00001X omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000020 omitted because of collinearity
note: __000025 omitted because of collinearity
note: __00002G omitted because of collinearity
note: __00006P omitted because of collinearity
note: __00008C omitted because of collinearity
note: __00008I omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0154028
  ols            |      0.0000000
  lassocv        |      0.1850465
  ridgecv        |      0.1560105
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.5017506
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1350082
  nnet           |      0.0000000
  nnet           |      0.0067814
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0

nxw_ia_y0[13,1]
            c1
 r1   .0154028
 r2          0
 r3  .18504648
 r4  .15601055
 r5          0
 r6  8.397e-17
 r7  .50175062
 r8  4.552e-16
 r9          0
r10  4.135e-17
r11  .13500819
r12  1.870e-16
r13  .00678137
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
(note: file out_53356/nxw_ia_y0.dta not found)
file out_53356/nxw_ia_y0.dta saved
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000X omitted because of collinearity
note: __00000Y omitted because of collinearity
note: __00001X omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000020 omitted because of collinearity
note: __000025 omitted because of collinearity
note: __0000tted because of collinearity
      note: __00006P omitted because of collinearity
note: __00008C omitted because of collinearity
note: __00008I omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.2747021
  lassocv        |      0.0000000
  ridgecv        |      0.0813204
  rf             |      0.3626941
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2812835
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0

nxw_ia_y0[13,1]
            c1
 r1  1.650e-16
 r2          0
 r3  2.447e-16
 r4  .27470206
 r5          0
 r6  .08132035
 r7   .3626941
 r8  7.427e-17
 r9  7.414e-17
r10          0
r11  .28128349
r12  9.823e-17
r13  5.793e-16
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
(note: file out_58248/nxw_ia_y0.dta not found)
file out_58248/nxw_ia_y0.dta saved
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000X omitted because of collinearity
note: __00000Y omitted because of collinearity
note: __00001X omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000020 omitted because of collinearity
note: __000025 omitted because of collinearity
note: __00002G omitted because of collinearity
: __00006P omitted because of collinearity
note: __00008C omitted because of collinearity
note: __00008I omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0593777
  ols            |      0.0000000
  lassocv        |      0.0570281
  ridgecv        |      0.2133658
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4501365
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1952506
  nnet           |      0.0227176
  nnet           |      0.0021236
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0

nxw_ia_y0[13,1]
            c1
 r1  .05937768
 r2  6.449e-17
 r3  .05702813
 r4  .21336585
 r5  1.885e-17
 r6  6.656e-17
 r7  .45013655
 r8  1.082e-16
 r9  9.908e-17
r10  6.958e-17
r11   .1952506
r12  .02271764
r13  .00212355
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
(note: file out_3702/nxw_ia_y0.dta not found)
file out_3702/nxw_ia_y0.dta saved
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000X omitted because of collinearity
note: __00000Y omitted because of collinearity
note: __00001X omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000020 omitted because of collinearity
note: __000025 omitted because of collinearity
note: __00002G omitted because of collinearity
note: __00006P omitted because of collinearity
note: __00008C omitted because of collinearity
note: __00008I omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0138658
  ols            |      0.0000000
  lassocv        |      0.0003554
  ridgecv        |      0.1595849
  lassocv        |      0.0597040
  ridgecv        |      0.0000000
  rf             |      0.3889237
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2750484
  nnet           |      0.0713439
  nnet           |      0.0311738
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0

nxw_ia_y0[13,1]
            c1
 r1  .01386583
 r2          0
 r3  .00035539
 r4  .15958492
 r5  .05970397
 r6          0
 r7  .38892366
 r8          0
 r9  2.065e-16
r10          0
r11  .27504844
r12  .07134394
r13  .03117384
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
(note: file out_8756/nxw_ia_y0.dta not found)
file out_8756/nxw_ia_y0.dta saved
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
note: __000005 omitted because of collinearity
note: __00000X omitted because of collinearity
note: __00000Y omitted because of collinearity
note: __00001X omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000020 omitted because of collinearity
note: __000025 omitted because of collinearity
note: __00002G omitted because of collinearity
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0133723
  ols            |      0.0000000
  lassocv        |      0.0852993
  ridgecv        |      0.0156177
  lassocv        |      0.3401105
  ridgecv        |      0.0000000
  rf             |      0.4035225
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0904998
  nnet           |      0.0000000
  nnet           |      0.0515780
.                 mat nxw_y = e(weights)
.                 mat list nxw_y

nxw_y[13,1]
            c1
 r1  .01337229
 r2          0
 r3  .08529925
 r4  .01561766
 r5  .34011055
 r6          0
 r7  .40352251
 r8  7.571e-17
 r9  1.828e-16
r10          0
r11  .09049976
r12  1.454e-15
r13  .05157797
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
(note: file out_232/nxw_y.dta not found)
file out_232/nxw_y.dta saved
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  lassocv        |      0.1327460
  ridgecv        |      0.2995438
  rf             |      0.4208365
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0085221
  gradboost      |      0.1023131
  nnet           |      0.0025891
  nnet           |      0.0334494
.                 mat nxw_y = e(weights)
.                 mat list nxw_y

nxw_y[13,1]
            c1
 r1  1.188e-16
 r2          0
 r3          0
 r4          0
 r5  .13274604
 r6   .2995438
 r7   .4208365
 r8  2.613e-16
 r9  1.236e-16
r10   .0085221
r11  .10231309
r12  .00258909
r13  .03344938
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
(note: file out_923/nxw_y.dta not found)
file out_923/nxw_y.dta saved
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0169826
  ols            |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.4169761
  rf             |      0.3545281
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0791239
  gradboost      |      0.1279944
  nnet           |      0.0000000
  nnet           |      0.0043950
.                 mat nxw_y = e(weights)
.                 mat list nxw_y

nxw_y[13,1]
            c1
 r1  .01698255
 r2          0
 r3  1.571e-17
 r4          0
 r5  4.519e-17
 r6  .41697612
 r7  .35452806
 r8  1.488e-16
 r9  4.204e-16
r10  .07912387
r11  .12799444
r12  9.352e-16
r13  .00439495
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
(note: file out_36931/nxw_y.dta not found)
file out_36931/nxw_y.dta saved
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.0573432
  ridgecv        |      0.2453980
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4250961
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0418506
  gradboost      |      0.1359737
  nnet           |      0.0943383
  nnet           |      0.0000000
.                 mat nxw_y = e(weights)
.                 mat list nxw_y

nxw_y[13,1]
            c1
 r1  1.081e-16
 r2  5.898e-17
 r3   .0573432
 r4  .24539804
 r5  1.531e-16
 r6  4.146e-17
 r7  .42509607
 r8  1.795e-16
 r9  1.009e-16
r10  .04185063
r11  .13597375
r12  .09433831
r13  4.320e-17
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
(note: file out_3928/nxw_y.dta not found)
file out_3928/nxw_y.dta saved
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0382779
  ols            |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  lassocv        |      0.0880519
  ridgecv        |      0.3523288
  rf             |      0.3387253
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0029925
  gradboost      |      0.1425898
  nnet           |      0.0000000
  nnet           |      0.0370338
.                 mat nxw_y = e(weights)
.                 mat list nxw_y

nxw_y[13,1]
            c1
 r1  .03827788
 r2  3.938e-16
 r3  3.513e-17
 r4  2.691e-17
 r5  .08805191
 r6  .35232884
 r7  .33872528
 r8  7.141e-17
 r9          0
r10  .00299249
r11  .14258978
r12          0
r13  .03703383
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
(note: file out_84685/nxw_y.dta not found)
file out_84685/nxw_y.dta saved
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00003B omitted because of collinearity
note: __00005C omitted because of collinearity
note: __00006J omitted because of collinearity
note: __00007B omitted because of collinearity
note: __00007C omitted because of collinearity
note: __00008D omitted because of collinearity
note: __00008E omitted because of collinearity
note: __00008J omitted because of collinearity
note: __00008U omitted because of collinearity
note: __00009P omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.3000344
  ridgecv        |      0.1182023
  lassocv        |      0.0000000
  ridgecv        |      0.0230456
  rf             |      0.4558812
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0840229
  nnet           |      0.0000000
  nnet           |      0.0188136
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1

nxw_ia_y1[13,1]
            c1
 r1  1.543e-16
 r2          0
 r3  .30003441
 r4  .11820227
 r5          0
 r6   .0230456
 r7  .45588124
 r8          0
 r9  5.016e-17
r10          0
r11   .0840229
r12          0
r13  .01881359
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
(note: file out_36931/nxw_ia_y1.dta not found)
file out_36931/nxw_ia_y1.dta saved
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
use of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.0370303
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.4425082
  rf             |      0.4182825
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1021789
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_y = e(weights)
.                 mat list nxw_y

nxw_y[13,1]
            c1
 r1          0
 r2  3.302e-16
 r3  .03703035
 r4  3.993e-17
 r5          0
 r6  .44250818
 r7  .41828254
 r8          0
 r9          0
r10  9.689e-17
r11  .10217893
r12          0
r13          0
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
(note: file out_58248/nxw_y.dta not found)
file out_58248/nxw_y.dta saved
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0131250
  ols            |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  lassocv        |      0.1662405
  ridgecv        |      0.2290708
  rf             |      0.2970389
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0854491
  gradboost      |      0.1087251
  nnet           |      0.1003507
  nnet           |      0.0000000
.                 mat nxw_y = e(weights)
.                 mat list nxw_y

nxw_y[13,1]
            c1
 r1  .01312497
 r2          0
 r3  5.427e-17
 r4  7.222e-17
 r5  .16624052
 r6  .22907076
 r7  .29703886
 r8          0
 r9  1.789e-16
r10  .08544913
r11  .10872508
r12  .10035069
r13          0
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
(note: file out_53356/nxw_y.dta not found)
file out_53356/nxw_y.dta saved
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
note: __00000D omitted because of collinearity
note: __00000Z omitted because of collinearity
note: __00001Z omitted because of collinearity
note: __000022 omitted because of collinearity
note: __000023 omitted because of collinearity
note: __000028 omitted because of collinearity
note: __00002J omitted because of collinearity
note: __00003F omitted because of collinearity
note: __00005J omitted because of collinearity
note: __00003B omitted because of collinearity
note: __00005C omitted because of collinearity
note: __00006J omitted because of collinearity
note: __00007B omitted because of collinearity
note: __00007C omitted because of collinearity
note: __00008D omitted because of collinearity
note: __00008E omitted because of collinearity
note: __00008J omitted because of collinearity
note: __00008U omitted because of collinearity
note: __00009P omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.1857940
  ridgecv        |      0.0000000
  lassocv        |      0.2174271
  ridgecv        |      0.0128657
  rf             |      0.5008434
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0809879
  nnet           |      0.0000000
  nnet           |      0.0020819
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1

nxw_ia_y1[13,1]
            c1
 r1  5.294e-17
 r2  4.698e-18
 r3  .18579395
 r4  1.729e-17
 r5  .21742705
 r6   .0128657
 r7  .50084345
 r8  2.307e-17
 r9          0
r10  3.437e-18
r11   .0809879
r12  9.375e-17
r13  .00208195
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
(note: file out_26898/nxw_ia_y1.dta not found)
file out_26898/nxw_ia_y1.dta saved
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
note: __00003B omitted because of collinearity
note: __00005C omitted because of collinearity
note: __00006J omitted because of collinearity
note: __00007B omitted because of collinearity
note: __00007C omitted because of collinearity
note: __00008D omitted because of collinearity
note: __00008E omitted because of collinearity
note: __00008J omitted because of collinearity
note: __00008U omitted because of collinearity
note: __00009P omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0039402
  lassocv        |      0.2789473
  ridgecv        |      0.0197439
  rf             |      0.5344106
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0872854
  nnet           |      0.0000000
  nnet           |      0.0234851
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1

nxw_ia_y1[13,1]
            c1
 r1  3.284e-18
 r2  6.921e-17
 r3  .05218747
 r4  .00394022
 r5  .27894726
 r6  .01974393
 r7  .53441058
 r8  2.347e-17
 r9  5.762e-17
r10  6.066e-17
r11  .08728542
r12  1.036e-17
r13  .02348512
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
(note: file out_3928/nxw_ia_y1.dta not found)
file out_3928/nxw_ia_y1.dta saved
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
note: __00003B omitted because of collinearity
note: __00005C omitted because of collinearity
note: __00006J omitted because of collinearity
note: __00007B omitted because of collinearity
note: __00007C omitted because of collinearity
note: __00008D omitted because of collinearity
note: __00008E omitted because of collinearity
note: __00008J omitted because of collinearity
note: __00008U omitted because of collinearity
note: __00009P omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.1341540
  ols            |      0.0000000
  lassocv        |      0.0511703
  ridgecv        |      0.0000000
  lassocv        |      0.2468929
  ridgecv        |      0.0245116
  rf             |      0.4880607
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0374201
  nnet           |      0.0000000
  nnet           |      0.0177904
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1

nxw_ia_y1[13,1]
            c1
 r1    .134154
 r2  1.559e-16
 r3  .05117027
 r4  5.221e-17
 r5  .24689289
 r6  .02451161
 r7  .48806066
 r8  6.006e-17
 r9  1.097e-16
r10  3.550e-17
r11  .03742014
r12          0
r13  .01779044
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
(note: file out_923/nxw_ia_y1.dta not found)
file out_923/nxw_ia_y1.dta saved
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
note: __00003B omitted because of collinearity
note: __00005C omitted because of collinearity
note: __00006J omitted because of collinearity
note: __00007B omitted because of collinearity
note: __00007C omitted because of collinearity
note: __00008D omitted because of collinearity
note: __00008E omitted because of collinearity
note: __00008J omitted because of collinearity
note: __00008U omitted because of collinearity
note: __00009P omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  lassocv        |      0.5003921
  ridgecv        |      0.0000000
  rf             |      0.3945646
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0600477
  nnet           |      0.0404371
  nnet           |      0.0045584
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1

nxw_ia_y1[13,1]
            c1
 r1          0
 r2  5.154e-17
 r3          0
 r4  6.085e-17
 r5  .50039215
 r6  2.236e-18
 r7  .39456462
 r8          0
 r9  1.256e-16
r10  1.649e-17
r11  .06004772
r12  .04043707
r13  .00455844
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
(note: file out_232/nxw_ia_y1.dta not found)
file out_232/nxw_ia_y1.dta saved
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
note: __00003B omitted because of collinearity
note: __00005C omitted because of collinearity
note: __00006J omitted because of collinearity
note: __00007B omitted because of collinearity
note: __00007C omitted because of collinearity
note: __00008D omitted because of collinearity
note: __00008E omitted because of collinearity
note: __00008J omitted because of collinearity
note: __00008U omitted because of collinearity
note: __00009P omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0018632
  ols            |      0.0000000
  lassocv        |      0.1838232
  ridgecv        |      0.0000000
  lassocv        |      0.1612529
  ridgecv        |      0.0496823
  rf             |      0.4478712
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1229925
  nnet           |      0.0000000
  nnet           |      0.0325147
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1

nxw_ia_y1[13,1]
            c1
 r1  .00186321
 r2          0
 r3  .18382318
 r4  7.821e-17
 r5  .16125287
 r6  .04968231
 r7  .44787121
 r8  1.398e-17
 r9          0
r10  1.643e-17
r11   .1229925
r12          0
r13  .03251472
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
(note: file out_8756/nxw_ia_y1.dta not found)
file out_8756/nxw_ia_y1.dta saved
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
note: __00003B omitted because of collinearity
note: __00005C omitted because of collinearity
note: __00006J omitted because of collinearity
note: __00007B omitted because of collinearity
note: __00007C omitted because of collinearity
note: __00008D omitted because of collinearity
note: __00008E omitted because of collinearity
note: __00008J omitted because of collinearity
note: __00008U omitted because of collinearity
note: __00009P omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0000000
  ols            |      0.0000000
  lassocv        |      0.1850615
  ridgecv        |      0.1874550
  lassocv        |      0.0000000
  ridgecv        |      0.0108211
  rf             |      0.5259309
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.0907315
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1

nxw_ia_y1[13,1]
            c1
 r1  1.756e-16
 r2  6.393e-17
 r3  .18506148
 r4  .18745497
 r5  5.326e-17
 r6  .01082113
 r7   .5259309
 r8  9.357e-17
 r9  1.151e-16
r10  2.195e-17
r11  .09073152
r12  3.994e-17
r13  4.782e-16
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
(note: file out_3702/nxw_ia_y1.dta not found)
file out_3702/nxw_ia_y1.dta saved
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.1601285
  ols            |      0.0000000
  lassocv        |      0.1038130
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4705021
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2655563
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .16012851
 r2  8.465e-17
 r3  .10381302
 r4          0
 r5  6.153e-18
 r6          0
 r7  .47050212
 r8  3.591e-17
 r9  5.118e-16
r10  2.382e-17
r11  .26555635
r12  1.182e-17
r13  2.808e-17
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_923/nxw_d.dta not found)
file out_923/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0369804
  ols            |      0.0000000
  lassocv        |      0.2747867
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4258898
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2395689
  nnet           |      0.0000000
  nnet           |      0.0227742
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .03698035
 r2          0
 r3  .27478673
 r4  1.294e-16
 r5          0
 r6          0
 r7  .42588979
 r8          0
 r9  1.539e-16
r10  6.271e-17
r11  .23956893
r12  1.743e-16
r13   .0227742
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_232/nxw_d.dta not found)
file out_232/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      40.75
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0089
                                                Root MSE          =     .29241

.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      38.49
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0085
                                                Root MSE          =     .29795

------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.1135928   .0177944    -6.38   0.000    -.1484779   -.0787078
        Dtil |  -.1063275   .0171393    -6.20   0.000    -.1399283   -.0727266
       _cons |  -.0002553   .0042062    -0.06   0.952    -.0085012    .0079907
------------------------------------------------------------------------------
file out_923/results.dta not found
r(601);
. 
       _cons |  -.0023094   .0042843    -0.54   0.590    -.0107085    .0060897
------------------------------------------------------------------------------
file out_232/results.dta not found
r(601);
. 
. }
r(601);

end of do-file
r(601);
. }
r(601);

end of do-file
r(601);
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.1557839
  ols            |      0.0000000
  lassocv        |      0.2343036
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4227652
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0230485
  gradboost      |      0.1555199
  nnet           |      0.0000000
  nnet           |      0.0085789
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .15578394
 r2  7.997e-17
 r3  .23430363
 r4          0
 r5          0
 r6  1.778e-18
 r7  .42276517
 r8  1.152e-16
 r9  3.403e-16
r10  .02304847
r11  .15551992
r12  8.635e-17
r13  .00857887
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_8756/nxw_d.dta not found)
file out_8756/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      40.55
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0090
                                                Root MSE          =     .28466

------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |   -.101672   .0159672    -6.37   0.000    -.1329749   -.0703691
       _cons |  -.0022266   .0040938    -0.54   0.587    -.0102523    .0057991
------------------------------------------------------------------------------
file out_8756/results.dta not found
r(601);
. 
. }
r(601);

end of do-file
r(601);
0
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.3748420
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0047366
  gradboost      |      0.2149083
  nnet           |      0.0000000
  nnet           |      0.0174319
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .11647326
 r2          0
 r3  .27160796
 r4          0
 r5          0
 r6  1.435e-17
 r7  .37484202
 r8  1.221e-17
 r9  9.275e-17
r10  .00473658
r11  .21490825
r12  2.056e-16
r13  .01743192
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_36931/nxw_d.dta not found)
file out_36931/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      40.04
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0088
                                                Root MSE          =     .30538

note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0299547
  ols            |      0.0000000
  lassocv        |      0.3602443
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4402551
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1559656
  nnet           |      0.0000000
  nnet           |      0.0135802
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .02995472
 r2          0
 r3  .36024434
 r4  4.582e-16
 r5          0
 r6  7.650e-17
 r7  .44025511
 r8          0
 r9  2.865e-16
r10          0
r11  .15596565
r12  3.175e-16
r13  .01358018
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_84685/nxw_d.dta not found)
file out_84685/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      39.60
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0088
                                                Root MSE          =     .30695

------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.0963837   .0153023    -6.30   0.000    -.1263831   -.0663842
       _cons |   .0011932   .0041175     0.29   0.772     -.006879    .0092654
------------------------------------------------------------------------------
file out_3928/results.dta not found
r(601);
. 
. }
r(601);

end of do-file
r(601);
------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.1059249    .016739    -6.33   0.000     -.138741   -.0731087
       _cons |  -.0004239   .0043937    -0.10   0.923    -.0090375    .0081897
------------------------------------------------------------------------------
file out_36931/results.dta not found
r(601);
. 
------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.1092043    .017354    -6.29   0.000     -.143226   -.0751826
       _cons |    .001064    .004416     0.24   0.810    -.0075934    .0097213
------------------------------------------------------------------------------
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.1899906
  ols            |      0.0000000
  lassocv        |      0.1446455
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4433598
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0389614
  gradboost      |      0.1394753
  nnet           |      0.0000000
  nnet           |      0.0435674
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .18999061
 r2          0
 r3  .14464553
 r4          0
 r5  5.206e-17
 r6  4.703e-17
 r7   .4433598
 r8          0
 r9          0
r10  .03896144
r11  .13947527
r12  4.995e-16
r13  .04356735
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_3702/nxw_d.dta not found)
file out_3702/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      40.94
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0090
                                                Root MSE          =     .29369

------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.1080552   .0168884    -6.40   0.000    -.1411641   -.0749462
       _cons |  -.0000323   .0042256    -0.01   0.994    -.0083163    .0082517
------------------------------------------------------------------------------
file out_3702/results.dta not found
r(601);
. 
. }
r(601);

end of do-file
r(601);
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.1282720
  ols            |      0.0000000
  lassocv        |      0.1717503
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4491198
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2114872
  nnet           |      0.0000000
  nnet           |      0.0393707
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .12827205
 r2          0
 r3  .17175028
 r4          0
 r5          0
 r6          0
 r7  .44911978
 r8          0
 r9          0
r10          0
r11   .2114872
r12  2.022e-16
r13  .03937069
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_58248/nxw_d.dta not found)
file out_58248/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      40.55
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0090
                                                Root MSE          =     .29544

------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.1111479   .0174536    -6.37   0.000    -.1453649   -.0769309
       _cons |  -.0002123   .0042505    -0.05   0.960    -.0085452    .0081205
------------------------------------------------------------------------------
file out_58248/results.dta not found
r(601);
. 
. }
r(601);

end of do-file
r(601);
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.0901211
  ols            |      0.0000000
  lassocv        |      0.3045462
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4389055
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1516811
  nnet           |      0.0000000
  nnet           |      0.0147460
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1   .0901211
 r2          0
 r3  .30454624
 r4          0
 r5          0
 r6  1.772e-17
 r7   .4389055
 r8  7.537e-17
 r9  1.197e-16
r10  1.096e-17
r11  .15168111
r12  5.739e-17
r13  .01474605
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_53356/nxw_d.dta not found)
file out_53356/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      40.08
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0089
                                                Root MSE          =     .31988

------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.1152502   .0182047    -6.33   0.000    -.1509396   -.0795608
       _cons |    .002727   .0046023     0.59   0.554    -.0062955    .0117496
------------------------------------------------------------------------------
file out_53356/results.dta not found
r(601);
. 
. }
r(601);

end of do-file
r(601);
note: __00006Z omitted because of collinearity
note: __00007L omitted because of collinearity
note: __00008N omitted because of collinearity
note: __00008P omitted because of collinearity
note: __00008U omitted because of collinearity
note: __000095 omitted because of collinearity
note: __0000A1 omitted because of collinearity

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  ols            |      0.1482078
  ols            |      0.0000000
  lassocv        |      0.2606938
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.4377300
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.1533684
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_d = e(weights)
.                 mat list nxw_d

nxw_d[13,1]
            c1
 r1  .14820784
 r2          0
 r3  .26069382
 r4  1.688e-16
 r5  2.352e-16
 r6  4.903e-17
 r7  .43772998
 r8  8.519e-17
 r9  1.573e-16
r10          0
r11  .15336835
r12  4.645e-16
r13          0
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
(note: file out_26898/nxw_d.dta not found)
file out_26898/nxw_d.dta saved
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }

Linear regression                               Number of obs     =      4,836
                                                F(1, 4834)        =      39.52
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0088
                                                Root MSE          =     .29416

------------------------------------------------------------------------------
             |               Robust
        Ytil |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        Dtil |  -.1049819      .0167    -6.29   0.000    -.1377214   -.0722424
       _cons |  -.0004305   .0042309    -0.10   0.919     -.008725    .0078639
------------------------------------------------------------------------------
file out_26898/results.dta not found
r(601);
. 
. }
r(601);

end of do-file
r(601);
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
Cross-fitting E[D|X] equation: gender_r
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1036399   .0166178    -6.24   0.000    -.1362102   -.0710695
       _cons |  -.0017236   .0062984    -0.27   0.784    -.0140683    .0106211
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.155       0.147       0.159       0.155
>        0.150       0.160       0.149       0.174       0.157       0.162  
   D_gender_r_ps   1      0.157       0.155       0.147       0.159       0.155
>        0.149       0.160       0.149       0.173       0.156       0.161  
   D_gender_r_ss   1      0.156       0.155       0.147       0.159       0.156
>        0.148       0.160       0.148       0.173       0.156       0.161  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.194       0.209       0.212       0.344       0.138
>        0.130       0.188       0.209       0.203       0.144       0.168  
     Y_lnearn_ps   1      0.194       0.208       0.213       0.340       0.137
>        0.130       0.187       0.208       0.203       0.144       0.168  
     Y_lnearn_ss   1      0.193       0.204       0.212       0.342       0.137
>        0.129       0.186       0.208       0.203       0.143       0.169  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .19443504    .20875959    .21209564    .34417651
 Y_lnearn_ps            1    .19377617    .20793174    .21281475    .34046364
 Y_lnearn_ss            1    .19327625    .20421434    .21200333    .34228986

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .13812314    .13049106    .18776611    .20856658     .2026743
 Y_lnearn_ps    .13749774    .12968978    .18683384    .20816061    .20303824
 Y_lnearn_ss    .13661497    .12903325    .18637202    .20837139    .20272194

                    fold9       fold10
Y1_pystacked    .14371168    .16832807
 Y_lnearn_ps    .14371509    .16795342
 Y_lnearn_ss    .14294841    .16852876
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |  .194435 | .2087596 | .2120956 | .3441765 | .1381231 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1304911 | .1877661 | .2085666 | .2026743 | .1437117 | .1683281 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1937762 | .2079317 | .2128147 | .3404636 | .1374977 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1296898 | .1868338 | .2081606 | .2030382 | .1437151 | .1679534 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1932763 | .2042143 | .2120033 | .3422899 |  .136615 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1290333 |  .186372 | .2083714 | .2027219 | .1429484 | .1685288 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_232/lnearn_mse_plm_mse.dta not found)
file out_232/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.155       0.147       0.159       0.155
>        0.150       0.160       0.149       0.174       0.157       0.162  
   D_gender_r_ps   1      0.157       0.155       0.147       0.159       0.155
>        0.149       0.160       0.149       0.173       0.156       0.161  
   D_gender_r_ss   1      0.156       0.155       0.147       0.159       0.156
>        0.148       0.160       0.148       0.173       0.156       0.161  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.194       0.209       0.212       0.344       0.138
>        0.130       0.188       0.209       0.203       0.144       0.168  
     Y_lnearn_ps   1      0.194       0.208       0.213       0.340       0.137
>        0.130       0.187       0.208       0.203       0.144       0.168  
     Y_lnearn_ss   1      0.193       0.204       0.212       0.342       0.137
>        0.129       0.186       0.208       0.203       0.143       0.169  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15677951    .15547998    .14729697     .1588486
D_gender_r~s            1    .15655646    .15549446    .14746393    .15885812
D_gender_r~s            1    .15628173    .15523223    .14672538     .1587283

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15537525    .14973578    .15977406    .14917147    .17365486
D_gender_r~s    .15530292    .14900585    .15973863    .14920704    .17272675
D_gender_r~s    .15568854    .14768907    .15966375    .14846216     .1733187

                    fold9       fold10
D1_pystacked    .15666753    .16183321
D_gender_r~s    .15649994    .16130947
D_gender_r~s     .1563255    .16102878
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1567795 |   .15548 |  .147297 | .1588486 | .1553753 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1497358 | .1597741 | .1491715 | .1736549 | .1566675 | .1618332 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1565565 | .1554945 | .1474639 | .1588581 | .1553029 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1490058 | .1597386 |  .149207 | .1727268 | .1564999 | .1613095 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1562817 | .1552322 | .1467254 | .1587283 | .1556885 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1476891 | .1596638 | .1484622 | .1733187 | .1563255 | .1610288 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_232/gender_r_mse_plm_mse.dta not found)
file out_232/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_232/plm_mse.dta not found)
file out_232/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_232/results.dta not found)
file out_232/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1036399   .0166178    -6.24   0.000    -.1362102   -.0710695
       _cons |  -.0017236   .0062984    -0.27   0.784    -.0140683    .0106211
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1023261    .016536    -6.19   0.000     -.134736   -.0699162
       _cons |  -.0014953   .0063177    -0.24   0.813    -.0138778    .0108872
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1036399   .0166178    -6.24   0.000    -.1362102   -.0710695
       _cons |  -.0017236   .0062984    -0.27   0.784    -.0140683    .0106211
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1028188   .0165608    -6.21   0.000    -.1352775   -.0703602
       _cons |  -.0024664   .0063067    -0.39   0.696    -.0148274    .0098946
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08893984    .08893984
      ols            2    4.825e-17    4.825e-17
  lassocv            3    .27090911    .27090911
  ridgecv            4    9.406e-17    9.406e-17
  lassocv            5    6.358e-17    6.358e-17
  ridgecv            6    1.934e-17    1.934e-17
       rf            7    .42820194    .42820194
       rf            8    7.438e-17    7.438e-17
       rf            9    1.576e-16    1.576e-16
gradboost           10      .001019      .001019
gradboost           11    .19437586    .19437586
     nnet           12    1.355e-16    1.355e-16
     nnet           13    .01655425    .01655425

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02491732    .02491732
      ols            2    1.550e-16    1.550e-16
  lassocv            3    .06527361    .06527361
  ridgecv            4    .06890758    .06890758
  lassocv            5    .03031827    .03031827
  ridgecv            6    .21683769    .21683769
       rf            7    .39928162    .39928162
       rf            8    6.671e-17    6.671e-17
       rf            9    6.179e-17    6.179e-17
gradboost           10    .02764638    .02764638
gradboost           11    .13573248    .13573248
     nnet           12    .01384491    .01384491
     nnet           13    .01724014    .01724014

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08893984    .08893984
      ols            2    4.825e-17    4.825e-17
  lassocv            3    .27090911    .27090911
  ridgecv            4    9.406e-17    9.406e-17
  lassocv            5    6.358e-17    6.358e-17
  ridgecv            6    1.934e-17    1.934e-17
       rf            7    .42820194    .42820194
       rf            8    7.438e-17    7.438e-17
       rf            9    1.576e-16    1.576e-16
gradboost           10      .001019      .001019
gradboost           11    .19437586    .19437586
     nnet           12    1.355e-16    1.355e-16
     nnet           13    .01655425    .01655425

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02491732    .02491732
      ols            2    1.550e-16    1.550e-16
  lassocv            3    .06527361    .06527361
  ridgecv            4    .06890758    .06890758
  lassocv            5    .03031827    .03031827
  ridgecv            6    .21683769    .21683769
       rf            7    .39928162    .39928162
       rf            8    6.671e-17    6.671e-17
       rf            9    6.179e-17    6.179e-17
gradboost           10    .02764638    .02764638
gradboost           11    .13573248    .13573248
     nnet           12    .01384491    .01384491
     nnet           13    .01724014    .01724014

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .02491732    .02491732
      ols            2    1.550e-16    1.550e-16
  lassocv            3    .06527361    .06527361
  ridgecv            4    .06890758    .06890758
  lassocv            5    .03031827    .03031827
  ridgecv            6    .21683769    .21683769
       rf            7    .39928162    .39928162
       rf            8    6.671e-17    6.671e-17
       rf            9    6.179e-17    6.179e-17
gradboost           10    .02764638    .02764638
gradboost           11    .13573248    .13573248
     nnet           12    .01384491    .01384491
     nnet           13    .01724014    .01724014

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0249173   .0249173 |
   2. |        2   1.55e-16   1.55e-16 |
   3. |        3   .0652736   .0652736 |
   4. |        4   .0689076   .0689076 |
      +--------------------------------+
(note: file out_232/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_232/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08893984    .08893984
      ols            2    4.825e-17    4.825e-17
  lassocv            3    .27090911    .27090911
  ridgecv            4    9.406e-17    9.406e-17
  lassocv            5    6.358e-17    6.358e-17
  ridgecv            6    1.934e-17    1.934e-17
       rf            7    .42820194    .42820194
       rf            8    7.438e-17    7.438e-17
       rf            9    1.576e-16    1.576e-16
gradboost           10      .001019      .001019
gradboost           11    .19437586    .19437586
     nnet           12    1.355e-16    1.355e-16
     nnet           13    .01655425    .01655425

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02491732    .02491732
      ols            2    1.550e-16    1.550e-16
  lassocv            3    .06527361    .06527361
  ridgecv            4    .06890758    .06890758
  lassocv            5    .03031827    .03031827
  ridgecv            6    .21683769    .21683769
       rf            7    .39928162    .39928162
       rf            8    6.671e-17    6.671e-17
       rf            9    6.179e-17    6.179e-17
gradboost           10    .02764638    .02764638
gradboost           11    .13573248    .13573248
     nnet           12    .01384491    .01384491
     nnet           13    .01724014    .01724014

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .08893984    .08893984
      ols            2    4.825e-17    4.825e-17
  lassocv            3    .27090911    .27090911
  ridgecv            4    9.406e-17    9.406e-17
  lassocv            5    6.358e-17    6.358e-17
  ridgecv            6    1.934e-17    1.934e-17
       rf            7    .42820194    .42820194
       rf            8    7.438e-17    7.438e-17
       rf            9    1.576e-16    1.576e-16
gradboost           10      .001019      .001019
gradboost           11    .19437586    .19437586
     nnet           12    1.355e-16    1.355e-16
     nnet           13    .01655425    .01655425

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0889398   .0889398 |
   2. |        2   4.83e-17   4.83e-17 |
   3. |        3   .2709091   .2709091 |
   4. |        4   9.41e-17   9.41e-17 |
      +--------------------------------+
(note: file out_232/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_232/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .20891461    .20891461
      ols            2            0            0
  lassocv            3    .13831161    .13831161
  ridgecv            4            0            0
  lassocv            5    1.155e-17    1.155e-17
  ridgecv            6            0            0
       rf            7    .43798506    .43798506
       rf            8            0            0
       rf            9    2.313e-16    2.313e-16
gradboost           10            0            0
gradboost           11    .20351336    .20351336
     nnet           12    5.657e-16    5.657e-16
     nnet           13    .01127535    .01127535

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1     .0158012     .0158012
      ols            2    1.901e-16    1.901e-16
  lassocv            3    1.634e-16    1.634e-16
  ridgecv            4            0            0
  lassocv            5    .02284404    .02284404
  ridgecv            6    .39245598    .39245598
       rf            7    .37177082    .37177082
       rf            8    1.226e-16    1.226e-16
       rf            9            0            0
gradboost           10    .02791888    .02791888
gradboost           11    .12054861    .12054861
     nnet           12    7.698e-18    7.698e-18
     nnet           13    .04866046    .04866046

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1     .0158012     .0158012
      ols            2    1.901e-16    1.901e-16
  lassocv            3    1.634e-16    1.634e-16
  ridgecv            4            0            0
  lassocv            5    .02284404    .02284404
  ridgecv            6    .39245598    .39245598
       rf            7    .37177082    .37177082
       rf            8    1.226e-16    1.226e-16
       rf            9            0            0
gradboost           10    .02791888    .02791888
gradboost           11    .12054861    .12054861
     nnet           12    7.698e-18    7.698e-18
     nnet           13    .04866046    .04866046

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5788147          1   .0158012   .0158012 |
   2. | 3.1423448          2   1.90e-16   1.90e-16 |
   3. | 2.8722177          3   1.63e-16   1.63e-16 |
   4. |  2.464089          4          0          0 |
      +--------------------------------------------+
(note: file out_232/Y_lnearn_ss_nnls1_short.dta not found)
file out_232/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .20891461    .20891461
      ols            2            0            0
  lassocv            3    .13831161    .13831161
  ridgecv            4            0            0
  lassocv            5    1.155e-17    1.155e-17
  ridgecv            6            0            0
       rf            7    .43798506    .43798506
       rf            8            0            0
       rf            9    2.313e-16    2.313e-16
gradboost           10            0            0
gradboost           11    .20351336    .20351336
     nnet           12    5.657e-16    5.657e-16
     nnet           13    .01127535    .01127535

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72579072          1   .2089146   .2089146 |
   2. | .47667499          2          0          0 |
   3. |  .1379586          3   .1383116   .1383116 |
   4. | .30458463          4          0          0 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ss_nnls1_short.dta not found)
file out_232/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02129312    .02129312
      ols            2            0            0
  lassocv            3      .084689      .084689
  ridgecv            4    .07747126    .07747126
  lassocv            5    1.160e-15    1.160e-15
  ridgecv            6     .1962013     .1962013
       rf            7    .43511208    .43511208
       rf            8            0            0
       rf            9            0            0
gradboost           10    .01891137    .01891137
gradboost           11     .1488989     .1488989
     nnet           12    2.531e-15    2.531e-15
     nnet           13    .01742298    .01742298

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |  2.574133          1   .0212931   .0212931 |
   2. | 3.1315914          2          0          0 |
   3. | 2.8790544          3    .084689    .084689 |
   4. | 2.4647083          4   .0774713   .0774713 |
      +--------------------------------------------+
(note: file out_232/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_232/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .08013013    .08013013
      ols            2    2.079e-15    2.079e-15
  lassocv            3    .28358702    .28358702
  ridgecv            4            0            0
  lassocv            5    1.092e-16    1.092e-16
  ridgecv            6            0            0
       rf            7    .42695314    .42695314
       rf            8    3.676e-16    3.676e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .19765248    .19765248
     nnet           12            0            0
     nnet           13    .01167723    .01167723

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72495256          1   .0801301   .0801301 |
   2. | .47870867          2   2.08e-15   2.08e-15 |
   3. | .14640747          3    .283587    .283587 |
   4. | .29640556          4          0          0 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ps_nnls1_pooled.dta not found)
file out_232/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985452   .0163545    -6.03   0.000    -.1305995   -.0664909
       _cons |  -.0012405   .0063834    -0.19   0.846    -.0137518    .0112708
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1015764   .0166186    -6.11   0.000    -.1341483   -.0690045
       _cons |  -.0030553   .0064228    -0.48   0.634    -.0156437    .0095331
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.099    (0.016)
  ss  1  [shortstack]          [ss]    -0.099    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985452   .0163545    -6.03   0.000    -.1305995   -.0664909
       _cons |  -.0012405   .0063834    -0.19   0.846    -.0137518    .0112708
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.102    (0.016)
  ss  1  [shortstack]          [ss]    -0.099    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101772   .0164328    -6.19   0.000    -.1339797   -.0695643
       _cons |   -.003435   .0064024    -0.54   0.592    -.0159833    .0091134
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3          0          0 |
   4. |        4         .1         .1 |
      +--------------------------------+
(note: file out_232/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_232/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .6         .6 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_232/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_232/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6168523          1          0          0 |
   2. | 3.1290846          2          0          0 |
   3. | 2.8427451          3          0          0 |
   4. | 2.4555762          4          0          0 |
      +--------------------------------------------+
(note: file out_232/Y_lnearn_ss_singlebest_short.dta not found)
file out_232/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75199997          1          0          0 |
   2. |      .546          2          0          0 |
   3. |      .164          3          0          0 |
   4. |      .184          4          0          0 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ss_singlebest_short.dta not found)
file out_232/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5226097          1          0          0 |
   2. | 3.0707536          2          0          0 |
   3. | 2.8794706          3          0          0 |
   4. | 2.5231011          4          0          0 |
      +--------------------------------------------+
(note: file out_232/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_232/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75199997          1          0          0 |
   2. |      .546          2          0          0 |
   3. |      .164          3          0          0 |
   4. |      .184          4          0          0 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ps_singlebest_pooled.dta not found)
file out_232/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.895    (0.032)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.103875   .0167044    -6.22   0.000    -.1366149    -.071135
       _cons |  -.0844479   .0062004   -13.62   0.000    -.0966005   -.0722953
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.895    (0.032)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.8954588   .0321703   -27.83   0.000    -.9585115   -.8324061
       _cons |   .1484829   .0189096     7.85   0.000     .1114207    .1855452
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.103875   .0167044    -6.22   0.000    -.1366149    -.071135
       _cons |  -.0844479   .0062004   -13.62   0.000    -.0966005   -.0722953
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1038484    .016684    -6.22   0.000    -.1365485   -.0711484
       _cons |  -.1300914   .0062108   -20.95   0.000    -.1422643   -.1179184
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .08702934    .08702934
      ols            2    .17167183    .17167183
  lassocv            3    .51019105    .51019105
  ridgecv            4    .13744434    .13744434
  lassocv            5   -.33225858   -.33225858
  ridgecv            6   -.06501601   -.06501601
       rf            7    .54730962    .54730962
       rf            8    .50829207    .50829207
       rf            9   -.67850808   -.67850808
gradboost           10    .12289778    .12289778
gradboost           11    .08791682    .08791682
     nnet           12    .06963177    .06963177
     nnet           13     .0110999     .0110999

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1     .0135784     .0135784
      ols            2    .00668036    .00668036
  lassocv            3   -.12273082   -.12273082
  ridgecv            4    .23686374    .23686374
  lassocv            5    .03313368    .03313368
  ridgecv            6    .30687084    .30687084
       rf            7     .5200955     .5200955
       rf            8     .2834112     .2834112
       rf            9   -.44954255   -.44954255
gradboost           10    .11108477    .11108477
gradboost           11    .06383843    .06383843
     nnet           12   -.08893965   -.08893965
     nnet           13    -.0014793    -.0014793

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .08702934    .08702934
      ols            2    .17167183    .17167183
  lassocv            3    .51019105    .51019105
  ridgecv            4    .13744434    .13744434
  lassocv            5   -.33225858   -.33225858
  ridgecv            6   -.06501601   -.06501601
       rf            7    .54730962    .54730962
       rf            8    .50829207    .50829207
       rf            9   -.67850808   -.67850808
gradboost           10    .12289778    .12289778
gradboost           11    .08791682    .08791682
     nnet           12    .06963177    .06963177
     nnet           13     .0110999     .0110999

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1     .0135784     .0135784
      ols            2    .00668036    .00668036
  lassocv            3   -.12273082   -.12273082
  ridgecv            4    .23686374    .23686374
  lassocv            5    .03313368    .03313368
  ridgecv            6    .30687084    .30687084
       rf            7     .5200955     .5200955
       rf            8     .2834112     .2834112
       rf            9   -.44954255   -.44954255
gradboost           10    .11108477    .11108477
gradboost           11    .06383843    .06383843
     nnet           12   -.08893965   -.08893965
     nnet           13    -.0014793    -.0014793

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1     .0135784     .0135784
      ols            2    .00668036    .00668036
  lassocv            3   -.12273082   -.12273082
  ridgecv            4    .23686374    .23686374
  lassocv            5    .03313368    .03313368
  ridgecv            6    .30687084    .30687084
       rf            7     .5200955     .5200955
       rf            8     .2834112     .2834112
       rf            9   -.44954255   -.44954255
gradboost           10    .11108477    .11108477
gradboost           11    .06383843    .06383843
     nnet           12   -.08893965   -.08893965
     nnet           13    -.0014793    -.0014793

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1    .0135784    .0135784 |
   2. |        2    .0066804    .0066804 |
   3. |        3   -.1227308   -.1227308 |
   4. |        4    .2368637    .2368637 |
      +----------------------------------+
(note: file out_232/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_232/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .08702934    .08702934
      ols            2    .17167183    .17167183
  lassocv            3    .51019105    .51019105
  ridgecv            4    .13744434    .13744434
  lassocv            5   -.33225858   -.33225858
  ridgecv            6   -.06501601   -.06501601
       rf            7    .54730962    .54730962
       rf            8    .50829207    .50829207
       rf            9   -.67850808   -.67850808
gradboost           10    .12289778    .12289778
gradboost           11    .08791682    .08791682
     nnet           12    .06963177    .06963177
     nnet           13     .0110999     .0110999

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1     .0135784     .0135784
      ols            2    .00668036    .00668036
  lassocv            3   -.12273082   -.12273082
  ridgecv            4    .23686374    .23686374
  lassocv            5    .03313368    .03313368
  ridgecv            6    .30687084    .30687084
       rf            7     .5200955     .5200955
       rf            8     .2834112     .2834112
       rf            9   -.44954255   -.44954255
gradboost           10    .11108477    .11108477
gradboost           11    .06383843    .06383843
     nnet           12   -.08893965   -.08893965
     nnet           13    -.0014793    -.0014793

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .08702934    .08702934
      ols            2    .17167183    .17167183
  lassocv            3    .51019105    .51019105
  ridgecv            4    .13744434    .13744434
  lassocv            5   -.33225858   -.33225858
  ridgecv            6   -.06501601   -.06501601
       rf            7    .54730962    .54730962
       rf            8    .50829207    .50829207
       rf            9   -.67850808   -.67850808
gradboost           10    .12289778    .12289778
gradboost           11    .08791682    .08791682
     nnet           12    .06963177    .06963177
     nnet           13     .0110999     .0110999

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0870293   .0870293 |
   2. |        2   .1716718   .1716718 |
   3. |        3   .5101911   .5101911 |
   4. |        4   .1374443   .1374443 |
      +--------------------------------+
(note: file out_232/D1_pystacked_w_mn_ols_regular.dta not found)
file out_232/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .18364566    .18364566
      ols            2    .15491879    .15491879
  lassocv            3    .52079018    .52079018
  ridgecv            4    .13508359    .13508359
  lassocv            5   -.47244848   -.47244848
  ridgecv            6   -.08196874   -.08196874
       rf            7    .49992866    .49992866
       rf            8    .64142461    .64142461
       rf            9   -.72080636   -.72080636
gradboost           10    .11624541    .11624541
gradboost           11     .1210224     .1210224
     nnet           12   -.01500218   -.01500218
     nnet           13    .01375864    .01375864

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.00848955   -.00848955
      ols            2   -.00181859   -.00181859
  lassocv            3     -.205471     -.205471
  ridgecv            4    .09000985    .09000985
  lassocv            5    .11121755    .11121755
  ridgecv            6      .455243      .455243
       rf            7    .44993153    .44993153
       rf            8    .67972931    .67972931
       rf            9   -.80609642   -.80609642
gradboost           10    .10736083    .10736083
gradboost           11    .06449886    .06449886
     nnet           12    .05053668    .05053668
     nnet           13    .04122258    .04122258

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1   -.00848955   -.00848955
      ols            2   -.00181859   -.00181859
  lassocv            3     -.205471     -.205471
  ridgecv            4    .09000985    .09000985
  lassocv            5    .11121755    .11121755
  ridgecv            6      .455243      .455243
       rf            7    .44993153    .44993153
       rf            8    .67972931    .67972931
       rf            9   -.80609642   -.80609642
gradboost           10    .10736083    .10736083
gradboost           11    .06449886    .06449886
     nnet           12    .05053668    .05053668
     nnet           13    .04122258    .04122258

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. |   2.63042          1   -.0084895   -.0084895 |
   2. | 3.2296224          2   -.0018186   -.0018186 |
   3. | 2.9588319          3    -.205471    -.205471 |
   4. | 2.5360239          4    .0900098    .0900098 |
      +----------------------------------------------+
(note: file out_232/Y_lnearn_ss_ols_short.dta not found)
file out_232/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .18364566    .18364566
      ols            2    .15491879    .15491879
  lassocv            3    .52079018    .52079018
  ridgecv            4    .13508359    .13508359
  lassocv            5   -.47244848   -.47244848
  ridgecv            6   -.08196874   -.08196874
       rf            7    .49992866    .49992866
       rf            8    .64142461    .64142461
       rf            9   -.72080636   -.72080636
gradboost           10    .11624541    .11624541
gradboost           11     .1210224     .1210224
     nnet           12   -.01500218   -.01500218
     nnet           13    .01375864    .01375864

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77867914          1   .1836457   .1836457 |
   2. | .52047429          2   .1549188   .1549188 |
   3. | .13903574          3   .5207902   .5207902 |
   4. |   .258219          4   .1350836   .1350836 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ss_ols_short.dta not found)
file out_232/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .01543015    .01543015
      ols            2   -.00278765   -.00278765
  lassocv            3    .00453182    .00453182
  ridgecv            4     .3023546     .3023546
  lassocv            5   -.12870805   -.12870805
  ridgecv            6    .26419394    .26419394
       rf            7     .5265529     .5265529
       rf            8    .31030335    .31030335
       rf            9   -.46859701   -.46859701
gradboost           10    .11900066    .11900066
gradboost           11    .06990008    .06990008
     nnet           12    .02679396    .02679396
     nnet           13    .00522367    .00522367

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6727404          1    .0154302    .0154302 |
   2. | 3.2579818          2   -.0027876   -.0027876 |
   3. | 2.9998276          3    .0045318    .0045318 |
   4. | 2.5812963          4    .3023546    .3023546 |
      +----------------------------------------------+
(note: file out_232/Y_lnearn_ps_ols_pooled.dta not found)
file out_232/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07573402    .07573402
      ols            2    .17265681    .17265681
  lassocv            3    .45665496    .45665496
  ridgecv            4    .12903281    .12903281
  lassocv            5   -.26949402   -.26949402
  ridgecv            6   -.05335012   -.05335012
       rf            7    .54640048    .54640048
       rf            8     .5056179     .5056179
       rf            9   -.67434578   -.67434578
gradboost           10    .12319772    .12319772
gradboost           11    .08902766    .08902766
     nnet           12   -.02064298   -.02064298
     nnet           13    .00818809    .00818809

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77100039          1    .075734    .075734 |
   2. | .51022778          2   .1726568   .1726568 |
   3. | .14864659          3    .456655    .456655 |
   4. |  .2509372          4   .1290328   .1290328 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ps_ols_pooled.dta not found)
file out_232/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.106    (0.017)
  ss  1  [shortstack]          [ss]    -0.106    (0.017)
  ps  1   [poolstack]          [ps]    -0.106    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.106138   .0166248    -6.38   0.000     -.138722   -.0735541
       _cons |   .0012306   .0063712     0.19   0.847    -.0112567     .013718
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.106    (0.017)
  ss  1  [shortstack]          [ss]    -0.106    (0.017)
  ps  1   [poolstack]          [ps]    -0.106    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.106138   .0166248    -6.38   0.000     -.138722   -.0735541
       _cons |   .0012306   .0063712     0.19   0.847    -.0112567     .013718
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.106    (0.017)
  ss  1  [shortstack]          [ss]    -0.106    (0.017)
  ps  1   [poolstack]          [ps]    -0.106    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.106138   .0166248    -6.38   0.000     -.138722   -.0735541
       _cons |   .0012306   .0063712     0.19   0.847    -.0112567     .013718
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.106    (0.017)
  ss  1  [shortstack]          [ss]    -0.106    (0.017)
  ps  1   [poolstack]          [ps]    -0.106    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.106138   .0166248    -6.38   0.000     -.138722   -.0735541
       _cons |   .0012306   .0063712     0.19   0.847    -.0112567     .013718
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_232/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_232/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_232/D1_pystacked_w_mn_avg_regular.dta not found)
file out_232/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6317259          1   .0769231   .0769231 |
   2. |  3.135652          2   .0769231   .0769231 |
   3. |  2.843009          3   .0769231   .0769231 |
   4. | 2.4857612          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_232/Y_lnearn_ss_avg_short.dta not found)
file out_232/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69387317          1   .0769231   .0769231 |
   2. | .43265092          2   .0769231   .0769231 |
   3. | .24462339          3   .0769231   .0769231 |
   4. | .40699674          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ss_avg_short.dta not found)
file out_232/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6317259          1   .0769231   .0769231 |
   2. |  3.135652          2   .0769231   .0769231 |
   3. |  2.843009          3   .0769231   .0769231 |
   4. | 2.4857612          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_232/Y_lnearn_ps_avg_pooled.dta not found)
file out_232/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69387317          1   .0769231   .0769231 |
   2. | .43265092          2   .0769231   .0769231 |
   3. | .24462339          3   .0769231   .0769231 |
   4. | .40699674          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ps_avg_pooled.dta not found)
file out_232/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1077105   .0184182    -5.85   0.000    -.1438095   -.0716114
       _cons |  -.0004396   .0066153    -0.07   0.947    -.0134055    .0125262
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1202164   .0154284    -7.79   0.000    -.1504555   -.0899774
       _cons |  -.0000663   .0068676    -0.01   0.992    -.0135265    .0133938
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0995733    .016826    -5.92   0.000    -.1325517   -.0665949
       _cons |  -.0008787   .0063994    -0.14   0.891    -.0134213    .0116639
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0996499   .0167191    -5.96   0.000    -.1324188    -.066881
       _cons |  -.0005448   .0064136    -0.08   0.932    -.0131152    .0120257
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985311   .0166721    -5.91   0.000    -.1312079   -.0658543
       _cons |  -.0020957     .00638    -0.33   0.743    -.0146002    .0104088
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1053718   .0168747    -6.24   0.000    -.1384456   -.0722981
       _cons |  -.0014648    .006373    -0.23   0.818    -.0139556     .011026
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101772   .0164328    -6.19   0.000    -.1339797   -.0695643
       _cons |   -.003435   .0064024    -0.54   0.592    -.0159833    .0091134
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1106039   .0168658    -6.56   0.000    -.1436603   -.0775476
       _cons |   2.56e-06   .0066256     0.00   1.000    -.0129834    .0129886
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1132876   .0166848    -6.79   0.000    -.1459893   -.0805859
       _cons |   -.000118   .0067522    -0.02   0.986     -.013352     .013116
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.091629   .0167774    -5.46   0.000    -.1245121   -.0587459
       _cons |  -.0016977   .0064433    -0.26   0.792    -.0143264     .010931
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0899898   .0162522    -5.54   0.000    -.1218434   -.0581361
       _cons |  -.0057044   .0065779    -0.87   0.386    -.0185968    .0071881
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1391581   .0164887    -8.44   0.000    -.1714753   -.1068409
       _cons |   .0126691   .0079522     1.59   0.111     -.002917    .0282552
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0609163    .017953    -3.39   0.001    -.0961035   -.0257291
       _cons |   .0191498   .0079313     2.41   0.016     .0036046    .0346949
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.083    (0.023)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1001301   .0167256    -5.99   0.000    -.1329117   -.0673485
       _cons |  -.0027803   .0063122    -0.44   0.660     -.015152    .0095913
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.145       0.173       0.147       0.154
>        0.166       0.175       0.143       0.158       0.159       0.151  
   D_gender_r_ps   1      0.157       0.145       0.167       0.147       0.154
>        0.167       0.175       0.145       0.157       0.159       0.151  
   D_gender_r_ss   1      0.157       0.145       0.167       0.146       0.154
>        0.167       0.174       0.144       0.157       0.159       0.151  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.207       0.387       0.346       0.168       0.118
>        0.155       0.192       0.205       0.223       0.129       0.146  
     Y_lnearn_ps   1      0.195       0.389       0.233       0.168       0.119
>        0.155       0.190       0.202       0.223       0.129       0.146  
     Y_lnearn_ss   1      0.194       0.390       0.211       0.168       0.119
>        0.157       0.192       0.202       0.223       0.131       0.147  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .20689341    .38693118    .34636167    .16752947
 Y_lnearn_ps            1    .19546338    .38925811    .23326728    .16775271
 Y_lnearn_ss            1    .19397213    .38982455    .21124135    .16826411

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .11773206    .15493548    .19205275    .20532852    .22302314
 Y_lnearn_ps    .11854677    .15499738    .19007049    .20226062    .22314593
 Y_lnearn_ss    .11945048    .15717962    .19184479     .2019224    .22303701

                    fold9       fold10
Y1_pystacked    .12924505    .14608808
 Y_lnearn_ps    .12939959    .14632413
 Y_lnearn_ss    .13052189    .14684225
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .2068934 | .3869312 | .3463617 | .1675295 | .1177321 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1549355 | .1920528 | .2053285 | .2230231 | .1292451 | .1460881 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1954634 | .3892581 | .2332673 | .1677527 | .1185468 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1549974 | .1900705 | .2022606 | .2231459 | .1293996 | .1463241 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1939721 | .3898245 | .2112413 | .1682641 | .1194505 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1571796 | .1918448 | .2019224 |  .223037 | .1305219 | .1468422 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_58248/lnearn_mse_plm_mse.dta not found)
file out_58248/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.145       0.173       0.147       0.154
>        0.166       0.175       0.143       0.158       0.159       0.151  
   D_gender_r_ps   1      0.157       0.145       0.167       0.147       0.154
>        0.167       0.175       0.145       0.157       0.159       0.151  
   D_gender_r_ss   1      0.157       0.145       0.167       0.146       0.154
>        0.167       0.174       0.144       0.157       0.159       0.151  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.207       0.387       0.346       0.168       0.118
>        0.155       0.192       0.205       0.223       0.129       0.146  
     Y_lnearn_ps   1      0.195       0.389       0.233       0.168       0.119
>        0.155       0.190       0.202       0.223       0.129       0.146  
     Y_lnearn_ss   1      0.194       0.390       0.211       0.168       0.119
>        0.157       0.192       0.202       0.223       0.131       0.147  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1     .1571639    .14508543    .17301295    .14726859
D_gender_r~s            1     .1566527    .14504994    .16709605    .14684571
D_gender_r~s            1    .15659263    .14505272    .16743991     .1464092

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15407094    .16605564    .17523628    .14257233    .15757561
D_gender_r~s    .15402496    .16681977    .17463037    .14460514    .15690904
D_gender_r~s    .15395617    .16680506     .1743588    .14412541    .15729491

                    fold9       fold10
D1_pystacked    .15935304    .15140102
D_gender_r~s    .15923399    .15130547
D_gender_r~s    .15901903    .15145839
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1571639 | .1450854 | .1730129 | .1472686 | .1540709 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1660556 | .1752363 | .1425723 | .1575756 |  .159353 |  .151401 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1566527 | .1450499 |  .167096 | .1468457 |  .154025 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1668198 | .1746304 | .1446051 |  .156909 |  .159234 | .1513055 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1565926 | .1450527 | .1674399 | .1464092 | .1539562 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1668051 | .1743588 | .1441254 | .1572949 |  .159019 | .1514584 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_58248/gender_r_mse_plm_mse.dta not found)
file out_58248/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_58248/plm_mse.dta not found)
file out_58248/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_58248/results.dta not found)
file out_58248/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.083    (0.023)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1001301   .0167256    -5.99   0.000    -.1329117   -.0673485
       _cons |  -.0027803   .0063122    -0.44   0.660     -.015152    .0095913
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.083    (0.023)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0828017   .0225405    -3.67   0.000    -.1269802   -.0386232
       _cons |   .0005179   .0065245     0.08   0.937    -.0122699    .0133058
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1001301   .0167256    -5.99   0.000    -.1329117   -.0673485
       _cons |  -.0027803   .0063122    -0.44   0.660     -.015152    .0095913
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.099    (0.017)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0993121   .0169781    -5.85   0.000    -.1325886   -.0660357
       _cons |  -.0020034   .0063368    -0.32   0.752    -.0144232    .0104165
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08712594    .08712594
      ols            2    1.145e-16    1.145e-16
  lassocv            3    .24647955    .24647955
  ridgecv            4    1.669e-16    1.669e-16
  lassocv            5    8.901e-18    8.901e-18
  ridgecv            6    4.083e-17    4.083e-17
       rf            7    .42517333    .42517333
       rf            8    1.237e-17    1.237e-17
       rf            9    9.203e-17    9.203e-17
gradboost           10     .0152533     .0152533
gradboost           11     .1905987     .1905987
     nnet           12    .02021284    .02021284
     nnet           13    .01515635    .01515635

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02911728    .02911728
      ols            2    8.367e-17    8.367e-17
  lassocv            3    .02109865    .02109865
  ridgecv            4    .02802873    .02802873
  lassocv            5    .12590853    .12590853
  ridgecv            6    .22768634    .22768634
       rf            7    .39965009    .39965009
       rf            8    6.894e-17    6.894e-17
       rf            9    1.066e-16    1.066e-16
gradboost           10    .02223415    .02223415
gradboost           11    .10065799    .10065799
     nnet           12    .00425219    .00425219
     nnet           13    .04136605    .04136605

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08712594    .08712594
      ols            2    1.145e-16    1.145e-16
  lassocv            3    .24647955    .24647955
  ridgecv            4    1.669e-16    1.669e-16
  lassocv            5    8.901e-18    8.901e-18
  ridgecv            6    4.083e-17    4.083e-17
       rf            7    .42517333    .42517333
       rf            8    1.237e-17    1.237e-17
       rf            9    9.203e-17    9.203e-17
gradboost           10     .0152533     .0152533
gradboost           11     .1905987     .1905987
     nnet           12    .02021284    .02021284
     nnet           13    .01515635    .01515635

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02911728    .02911728
      ols            2    8.367e-17    8.367e-17
  lassocv            3    .02109865    .02109865
  ridgecv            4    .02802873    .02802873
  lassocv            5    .12590853    .12590853
  ridgecv            6    .22768634    .22768634
       rf            7    .39965009    .39965009
       rf            8    6.894e-17    6.894e-17
       rf            9    1.066e-16    1.066e-16
gradboost           10    .02223415    .02223415
gradboost           11    .10065799    .10065799
     nnet           12    .00425219    .00425219
     nnet           13    .04136605    .04136605

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .02911728    .02911728
      ols            2    8.367e-17    8.367e-17
  lassocv            3    .02109865    .02109865
  ridgecv            4    .02802873    .02802873
  lassocv            5    .12590853    .12590853
  ridgecv            6    .22768634    .22768634
       rf            7    .39965009    .39965009
       rf            8    6.894e-17    6.894e-17
       rf            9    1.066e-16    1.066e-16
gradboost           10    .02223415    .02223415
gradboost           11    .10065799    .10065799
     nnet           12    .00425219    .00425219
     nnet           13    .04136605    .04136605

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0291173   .0291173 |
   2. |        2   8.37e-17   8.37e-17 |
   3. |        3   .0210986   .0210986 |
   4. |        4   .0280287   .0280287 |
      +--------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_58248/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08712594    .08712594
      ols            2    1.145e-16    1.145e-16
  lassocv            3    .24647955    .24647955
  ridgecv            4    1.669e-16    1.669e-16
  lassocv            5    8.901e-18    8.901e-18
  ridgecv            6    4.083e-17    4.083e-17
       rf            7    .42517333    .42517333
       rf            8    1.237e-17    1.237e-17
       rf            9    9.203e-17    9.203e-17
gradboost           10     .0152533     .0152533
gradboost           11     .1905987     .1905987
     nnet           12    .02021284    .02021284
     nnet           13    .01515635    .01515635

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02911728    .02911728
      ols            2    8.367e-17    8.367e-17
  lassocv            3    .02109865    .02109865
  ridgecv            4    .02802873    .02802873
  lassocv            5    .12590853    .12590853
  ridgecv            6    .22768634    .22768634
       rf            7    .39965009    .39965009
       rf            8    6.894e-17    6.894e-17
       rf            9    1.066e-16    1.066e-16
gradboost           10    .02223415    .02223415
gradboost           11    .10065799    .10065799
     nnet           12    .00425219    .00425219
     nnet           13    .04136605    .04136605

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .08712594    .08712594
      ols            2    1.145e-16    1.145e-16
  lassocv            3    .24647955    .24647955
  ridgecv            4    1.669e-16    1.669e-16
  lassocv            5    8.901e-18    8.901e-18
  ridgecv            6    4.083e-17    4.083e-17
       rf            7    .42517333    .42517333
       rf            8    1.237e-17    1.237e-17
       rf            9    9.203e-17    9.203e-17
gradboost           10     .0152533     .0152533
gradboost           11     .1905987     .1905987
     nnet           12    .02021284    .02021284
     nnet           13    .01515635    .01515635

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0871259   .0871259 |
   2. |        2   1.15e-16   1.15e-16 |
   3. |        3   .2464795   .2464795 |
   4. |        4   1.67e-16   1.67e-16 |
      +--------------------------------+
(note: file out_58248/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_58248/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1     .0332601     .0332601
      ols            2            0            0
  lassocv            3    .29381423    .29381423
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .38628556    .38628556
       rf            8    7.266e-18    7.266e-18
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .27491552    .27491552
     nnet           12    2.956e-16    2.956e-16
     nnet           13    .01172458    .01172458

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    3.091e-17    3.091e-17
      ols            2            0            0
  lassocv            3    .11525086    .11525086
  ridgecv            4    .20874685    .20874685
  lassocv            5    2.138e-16    2.138e-16
  ridgecv            6    7.925e-16    7.925e-16
       rf            7    .41282463    .41282463
       rf            8    5.464e-16    5.464e-16
       rf            9            0            0
gradboost           10    .04938193    .04938193
gradboost           11     .1848083     .1848083
     nnet           12    1.756e-17    1.756e-17
     nnet           13    .02898744    .02898744

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    3.091e-17    3.091e-17
      ols            2            0            0
  lassocv            3    .11525086    .11525086
  ridgecv            4    .20874685    .20874685
  lassocv            5    2.138e-16    2.138e-16
  ridgecv            6    7.925e-16    7.925e-16
       rf            7    .41282463    .41282463
       rf            8    5.464e-16    5.464e-16
       rf            9            0            0
gradboost           10    .04938193    .04938193
gradboost           11     .1848083     .1848083
     nnet           12    1.756e-17    1.756e-17
     nnet           13    .02898744    .02898744

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5968625          1   3.09e-17   3.09e-17 |
   2. | 3.1248575          2          0          0 |
   3. | 2.8489745          3   .1152509   .1152509 |
   4. | 2.4998811          4   .2087469   .2087469 |
      +--------------------------------------------+
(note: file out_58248/Y_lnearn_ss_nnls1_short.dta not found)
file out_58248/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1     .0332601     .0332601
      ols            2            0            0
  lassocv            3    .29381423    .29381423
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .38628556    .38628556
       rf            8    7.266e-18    7.266e-18
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .27491552    .27491552
     nnet           12    2.956e-16    2.956e-16
     nnet           13    .01172458    .01172458

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7235631          1   .0332601   .0332601 |
   2. | .42861215          2          0          0 |
   3. | .14879868          3   .2938142   .2938142 |
   4. | .26523175          4          0          0 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ss_nnls1_short.dta not found)
file out_58248/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3    .19686617    .19686617
  ridgecv            4            0            0
  lassocv            5    4.820e-16    4.820e-16
  ridgecv            6    .19616413    .19616413
       rf            7    .44194277    .44194277
       rf            8    3.836e-16    3.836e-16
       rf            9            0            0
gradboost           10    3.555e-16    3.555e-16
gradboost           11    .12256877    .12256877
     nnet           12            0            0
     nnet           13    .04245816    .04245816

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5919112          1          0          0 |
   2. | 3.1193507          2          0          0 |
   3. | 2.8619758          3   .1968662   .1968662 |
   4. | 2.4965502          4          0          0 |
      +--------------------------------------------+
(note: file out_58248/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_58248/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02951944    .02951944
      ols            2    2.860e-15    2.860e-15
  lassocv            3    .32476756    .32476756
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .42497468    .42497468
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .21195485    .21195485
     nnet           12            0            0
     nnet           13    .00878347    .00878347

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72228958          1   .0295194   .0295194 |
   2. | .43418216          2   2.86e-15   2.86e-15 |
   3. | .15897518          3   .3247676   .3247676 |
   4. | .26767686          4          0          0 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ps_nnls1_pooled.dta not found)
file out_58248/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.088    (0.026)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1031861   .0165565    -6.23   0.000    -.1356362    -.070736
       _cons |  -.0038716   .0063873    -0.61   0.544    -.0163905    .0086473
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.088    (0.026)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0878081    .026354    -3.33   0.001     -.139461   -.0361552
       _cons |    .006557   .0083775     0.78   0.434    -.0098627    .0229767
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1031861   .0165565    -6.23   0.000    -.1356362    -.070736
       _cons |  -.0038716   .0063873    -0.61   0.544    -.0163905    .0086473
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1031861   .0165565    -6.23   0.000    -.1356362    -.070736
       _cons |  -.0038716   .0063873    -0.61   0.544    -.0163905    .0086473
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6           .2           .2
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6           .2           .2
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6           .2           .2
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3          0          0 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_58248/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6           .2           .2
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .4         .4 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_58248/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_58248/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5787296          1          0          0 |
   2. | 3.0427768          2          0          0 |
   3. |   2.85638          3          0          0 |
   4. | 2.5449724          4          0          0 |
      +--------------------------------------------+
(note: file out_58248/Y_lnearn_ss_singlebest_short.dta not found)
file out_58248/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76200002          1          0          0 |
   2. | .50800002          2          0          0 |
   3. |      .182          3          0          0 |
   4. | .19400001          4          0          0 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ss_singlebest_short.dta not found)
file out_58248/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5787296          1          0          0 |
   2. | 3.0427768          2          0          0 |
   3. |   2.85638          3          0          0 |
   4. | 2.5449724          4          0          0 |
      +--------------------------------------------+
(note: file out_58248/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_58248/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76200002          1          0          0 |
   2. | .50800002          2          0          0 |
   3. |      .182          3          0          0 |
   4. | .19400001          4          0          0 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ps_singlebest_pooled.dta not found)
file out_58248/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.711    (0.038)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1029717   .0166729    -6.18   0.000      -.13565   -.0702933
       _cons |  -.0384358   .0062572    -6.14   0.000    -.0506997   -.0261719
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.711    (0.038)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.7107652   .0378466   -18.78   0.000    -.7849433   -.6365871
       _cons |   .1813075   .0259754     6.98   0.000     .1303966    .2322185
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1029717   .0166729    -6.18   0.000      -.13565   -.0702933
       _cons |  -.0384358   .0062572    -6.14   0.000    -.0506997   -.0261719
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.103    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030659   .0167574    -6.15   0.000    -.1359098    -.070222
       _cons |  -.0414021   .0062077    -6.67   0.000    -.0535689   -.0292352
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06477618    .06477618
      ols            2    .17690024    .17690024
  lassocv            3    .48629405    .48629405
  ridgecv            4    .11389523    .11389523
  lassocv            5   -.31693345   -.31693345
  ridgecv            6   -.03367933   -.03367933
       rf            7    .53787477    .53787477
       rf            8    .58348245    .58348245
       rf            9   -.72626694   -.72626694
gradboost           10    .08049768    .08049768
gradboost           11    .10827777    .10827777
     nnet           12   -.50883637   -.50883637
     nnet           13    .00919066    .00919066

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01709288    .01709288
      ols            2   -.01549514   -.01549514
  lassocv            3   -.19567133   -.19567133
  ridgecv            4    .25352653    .25352653
  lassocv            5    .22739484    .22739484
  ridgecv            6    .18374543    .18374543
       rf            7    .51381849    .51381849
       rf            8    .50504171    .50504171
       rf            9   -.63038238   -.63038238
gradboost           10    .06666419    .06666419
gradboost           11    .04444819    .04444819
     nnet           12   -.00045635   -.00045635
     nnet           13    .03068977    .03068977

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06477618    .06477618
      ols            2    .17690024    .17690024
  lassocv            3    .48629405    .48629405
  ridgecv            4    .11389523    .11389523
  lassocv            5   -.31693345   -.31693345
  ridgecv            6   -.03367933   -.03367933
       rf            7    .53787477    .53787477
       rf            8    .58348245    .58348245
       rf            9   -.72626694   -.72626694
gradboost           10    .08049768    .08049768
gradboost           11    .10827777    .10827777
     nnet           12   -.50883637   -.50883637
     nnet           13    .00919066    .00919066

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01709288    .01709288
      ols            2   -.01549514   -.01549514
  lassocv            3   -.19567133   -.19567133
  ridgecv            4    .25352653    .25352653
  lassocv            5    .22739484    .22739484
  ridgecv            6    .18374543    .18374543
       rf            7    .51381849    .51381849
       rf            8    .50504171    .50504171
       rf            9   -.63038238   -.63038238
gradboost           10    .06666419    .06666419
gradboost           11    .04444819    .04444819
     nnet           12   -.00045635   -.00045635
     nnet           13    .03068977    .03068977

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01709288    .01709288
      ols            2   -.01549514   -.01549514
  lassocv            3   -.19567133   -.19567133
  ridgecv            4    .25352653    .25352653
  lassocv            5    .22739484    .22739484
  ridgecv            6    .18374543    .18374543
       rf            7    .51381849    .51381849
       rf            8    .50504171    .50504171
       rf            9   -.63038238   -.63038238
gradboost           10    .06666419    .06666419
gradboost           11    .04444819    .04444819
     nnet           12   -.00045635   -.00045635
     nnet           13    .03068977    .03068977

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1    .0170929    .0170929 |
   2. |        2   -.0154951   -.0154951 |
   3. |        3   -.1956713   -.1956713 |
   4. |        4    .2535265    .2535265 |
      +----------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_58248/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06477618    .06477618
      ols            2    .17690024    .17690024
  lassocv            3    .48629405    .48629405
  ridgecv            4    .11389523    .11389523
  lassocv            5   -.31693345   -.31693345
  ridgecv            6   -.03367933   -.03367933
       rf            7    .53787477    .53787477
       rf            8    .58348245    .58348245
       rf            9   -.72626694   -.72626694
gradboost           10    .08049768    .08049768
gradboost           11    .10827777    .10827777
     nnet           12   -.50883637   -.50883637
     nnet           13    .00919066    .00919066

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01709288    .01709288
      ols            2   -.01549514   -.01549514
  lassocv            3   -.19567133   -.19567133
  ridgecv            4    .25352653    .25352653
  lassocv            5    .22739484    .22739484
  ridgecv            6    .18374543    .18374543
       rf            7    .51381849    .51381849
       rf            8    .50504171    .50504171
       rf            9   -.63038238   -.63038238
gradboost           10    .06666419    .06666419
gradboost           11    .04444819    .04444819
     nnet           12   -.00045635   -.00045635
     nnet           13    .03068977    .03068977

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .06477618    .06477618
      ols            2    .17690024    .17690024
  lassocv            3    .48629405    .48629405
  ridgecv            4    .11389523    .11389523
  lassocv            5   -.31693345   -.31693345
  ridgecv            6   -.03367933   -.03367933
       rf            7    .53787477    .53787477
       rf            8    .58348245    .58348245
       rf            9   -.72626694   -.72626694
gradboost           10    .08049768    .08049768
gradboost           11    .10827777    .10827777
     nnet           12   -.50883637   -.50883637
     nnet           13    .00919066    .00919066

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0647762   .0647762 |
   2. |        2   .1769002   .1769002 |
   3. |        3   .4862941   .4862941 |
   4. |        4   .1138952   .1138952 |
      +--------------------------------+
(note: file out_58248/D1_pystacked_w_mn_ols_regular.dta not found)
file out_58248/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .09652853    .09652853
      ols            2    .15172399    .15172399
  lassocv            3    .69249714    .69249714
  ridgecv            4    .03426055    .03426055
  lassocv            5   -.57403216   -.57403216
  ridgecv            6    .05020466    .05020466
       rf            7    .50623451    .50623451
       rf            8    .53301507    .53301507
       rf            9   -.64940328   -.64940328
gradboost           10     .0421986     .0421986
gradboost           11    .19568292    .19568292
     nnet           12     .1062075     .1062075
     nnet           13    .00721849    .00721849

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.02799478   -.02799478
      ols            2    .02050134    .02050134
  lassocv            3    .19962325    .19962325
  ridgecv            4   -.03322697   -.03322697
  lassocv            5   -.28299944   -.28299944
  ridgecv            6    .58743853    .58743853
       rf            7    .53815008    .53815008
       rf            8    .07381128    .07381128
       rf            9   -.31562121   -.31562121
gradboost           10    .17814755    .17814755
gradboost           11     .0608958     .0608958
     nnet           12    .00146434    .00146434
     nnet           13    .00828581    .00828581

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1   -.02799478   -.02799478
      ols            2    .02050134    .02050134
  lassocv            3    .19962325    .19962325
  ridgecv            4   -.03322697   -.03322697
  lassocv            5   -.28299944   -.28299944
  ridgecv            6    .58743853    .58743853
       rf            7    .53815008    .53815008
       rf            8    .07381128    .07381128
       rf            9   -.31562121   -.31562121
gradboost           10    .17814755    .17814755
gradboost           11     .0608958     .0608958
     nnet           12    .00146434    .00146434
     nnet           13    .00828581    .00828581

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6160353          1   -.0279948   -.0279948 |
   2. | 3.1756669          2    .0205013    .0205013 |
   3. | 2.8717777          3    .1996232    .1996232 |
   4. | 2.5057088          4    -.033227    -.033227 |
      +----------------------------------------------+
(note: file out_58248/Y_lnearn_ss_ols_short.dta not found)
file out_58248/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .09652853    .09652853
      ols            2    .15172399    .15172399
  lassocv            3    .69249714    .69249714
  ridgecv            4    .03426055    .03426055
  lassocv            5   -.57403216   -.57403216
  ridgecv            6    .05020466    .05020466
       rf            7    .50623451    .50623451
       rf            8    .53301507    .53301507
       rf            9   -.64940328   -.64940328
gradboost           10     .0421986     .0421986
gradboost           11    .19568292    .19568292
     nnet           12     .1062075     .1062075
     nnet           13    .00721849    .00721849

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .82881395          1   .0965285   .0965285 |
   2. | .54232729          2    .151724    .151724 |
   3. |  .2172212          3   .6924971   .6924971 |
   4. | .28587419          4   .0342606   .0342606 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ss_ols_short.dta not found)
file out_58248/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1   -.01408966   -.01408966
      ols            2    -.0163293    -.0163293
  lassocv            3    .04509878    .04509878
  ridgecv            4    .29644579    .29644579
  lassocv            5   -.06015606   -.06015606
  ridgecv            6    .19071391    .19071391
       rf            7     .5313427     .5313427
       rf            8    .50756188    .50756188
       rf            9   -.64332656   -.64332656
gradboost           10    .07780863    .07780863
gradboost           11    .05710047    .05710047
     nnet           12    .00550741    .00550741
     nnet           13    .03352003    .03352003

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.5838514          1   -.0140897   -.0140897 |
   2. | 3.1504409          2   -.0163293   -.0163293 |
   3. | 2.8884285          3    .0450988    .0450988 |
   4. | 2.5191142          4    .2964458    .2964458 |
      +----------------------------------------------+
(note: file out_58248/Y_lnearn_ps_ols_pooled.dta not found)
file out_58248/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02126548    .02126548
      ols            2     .1856198     .1856198
  lassocv            3    .42948773    .42948773
  ridgecv            4    .10217204    .10217204
  lassocv            5   -.23870944   -.23870944
  ridgecv            6    .00722337    .00722337
       rf            7      .546081      .546081
       rf            8    .60477812    .60477812
       rf            9   -.75708008   -.75708008
gradboost           10    .08226925    .08226925
gradboost           11    .11721453    .11721453
     nnet           12    .02507558    .02507558
     nnet           13    .00520849    .00520849

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .79367375          1   .0212655   .0212655 |
   2. | .50403378          2   .1856198   .1856198 |
   3. | .18665086          3   .4294877   .4294877 |
   4. | .24081088          4    .102172    .102172 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ps_ols_pooled.dta not found)
file out_58248/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.093    (0.019)
  ss  1  [shortstack]          [ss]    -0.093    (0.019)
  ps  1   [poolstack]          [ps]    -0.093    (0.019)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.092787   .0192442    -4.82   0.000    -.1305049    -.055069
       _cons |   .0008645   .0064601     0.13   0.894    -.0117971    .0135261
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.093    (0.019)
  ss  1  [shortstack]          [ss]    -0.093    (0.019)
  ps  1   [poolstack]          [ps]    -0.093    (0.019)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.092787   .0192442    -4.82   0.000    -.1305049    -.055069
       _cons |   .0008645   .0064601     0.13   0.894    -.0117971    .0135261
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.093    (0.019)
  ss  1  [shortstack]          [ss]    -0.093    (0.019)
  ps  1   [poolstack]          [ps]    -0.093    (0.019)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.092787   .0192442    -4.82   0.000    -.1305049    -.055069
       _cons |   .0008645   .0064601     0.13   0.894    -.0117971    .0135261
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.093    (0.019)
  ss  1  [shortstack]          [ss]    -0.093    (0.019)
  ps  1   [poolstack]          [ps]    -0.093    (0.019)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.092787   .0192442    -4.82   0.000    -.1305049    -.055069
       _cons |   .0008645   .0064601     0.13   0.894    -.0117971    .0135261
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_58248/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_58248/D1_pystacked_w_mn_avg_regular.dta not found)
file out_58248/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |  2.634673          1   .0769231   .0769231 |
   2. | 3.1122105          2   .0769231   .0769231 |
   3. | 2.8654285          3   .0769231   .0769231 |
   4. | 2.5275198          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_58248/Y_lnearn_ss_avg_short.dta not found)
file out_58248/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .6988641          1   .0769231   .0769231 |
   2. | .41998453          2   .0769231   .0769231 |
   3. | .17916551          3   .0769231   .0769231 |
   4. | .37871898          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ss_avg_short.dta not found)
file out_58248/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |  2.634673          1   .0769231   .0769231 |
   2. | 3.1122105          2   .0769231   .0769231 |
   3. | 2.8654285          3   .0769231   .0769231 |
   4. | 2.5275198          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_58248/Y_lnearn_ps_avg_pooled.dta not found)
file out_58248/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .6988641          1   .0769231   .0769231 |
   2. | .41998453          2   .0769231   .0769231 |
   3. | .17916551          3   .0769231   .0769231 |
   4. | .37871898          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ps_avg_pooled.dta not found)
file out_58248/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0703647   .1070523     0.66   0.511     -.139454    .2801833
       _cons |   .0031543   .0072095     0.44   0.662     -.010976    .0172846
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1216782    .015414    -7.89   0.000    -.1518892   -.0914673
       _cons |  -.0002658   .0068535    -0.04   0.969    -.0136984    .0131667
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0979344   .0172754    -5.67   0.000    -.1317934   -.0640753
       _cons |   .0004939   .0064912     0.08   0.939    -.0122287    .0132164
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0952055   .0168504    -5.65   0.000    -.1282316   -.0621793
       _cons |   .0000426   .0064263     0.01   0.995    -.0125528     .012638
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0081314   .0823968     0.10   0.921    -.1533635    .1696262
       _cons |   .0059476    .008305     0.72   0.474    -.0103299    .0222251
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0169853    .062976    -0.27   0.787     -.140416    .1064453
       _cons |   .0018717   .0067686     0.28   0.782    -.0113945    .0151379
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1031861   .0165565    -6.23   0.000    -.1356362    -.070736
       _cons |  -.0038716   .0063873    -0.61   0.544    -.0163905    .0086473
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1110965   .0168911    -6.58   0.000    -.1442024   -.0779905
       _cons |  -.0002947    .006623    -0.04   0.965    -.0132756    .0126862
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.113966   .0167104    -6.82   0.000    -.1467177   -.0812142
       _cons |  -.0001978   .0067486    -0.03   0.977    -.0134247    .0130292
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0844734   .0167884    -5.03   0.000    -.1173781   -.0515688
       _cons |  -.0014737   .0064394    -0.23   0.819    -.0140948    .0111474
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0893818     .01683    -5.31   0.000     -.122368   -.0563955
       _cons |  -.0065287   .0065569    -1.00   0.319      -.01938    .0063226
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1323006   .0167709    -7.89   0.000     -.165171   -.0994302
       _cons |   .0111203   .0079957     1.39   0.164     -.004551    .0267916
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0089496    .043362    -0.21   0.836    -.0939375    .0760384
       _cons |   .0009256   .0078655     0.12   0.906    -.0144905    .0163416
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011179   .0163844    -6.17   0.000    -.1332309    -.069005
       _cons |  -.0009941   .0062956    -0.16   0.875    -.0133333     .011345
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.168       0.149       0.151       0.169
>        0.162       0.154       0.153       0.158       0.153       0.153  
   D_gender_r_ps   1      0.157       0.169       0.148       0.150       0.169
>        0.161       0.153       0.153       0.157       0.153       0.153  
   D_gender_r_ss   1      0.157       0.169       0.148       0.151       0.169
>        0.162       0.153       0.152       0.157       0.152       0.153  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.194       0.220       0.340       0.160       0.157
>        0.156       0.142       0.150       0.206       0.188       0.223  
     Y_lnearn_ps   1      0.194       0.220       0.338       0.159       0.156
>        0.156       0.143       0.151       0.205       0.188       0.219  
     Y_lnearn_ss   1      0.193       0.221       0.336       0.160       0.155
>        0.156       0.143       0.151       0.207       0.187       0.213  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .19421536    .22031626     .3399539    .16037065
 Y_lnearn_ps            1    .19359894    .22013663    .33798916     .1594022
 Y_lnearn_ss            1    .19297805    .22080466    .33648917    .16021338

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .15718604    .15554364    .14244328    .15021748    .20550102
 Y_lnearn_ps    .15587538    .15646359    .14290867    .15053214    .20525117
 Y_lnearn_ss    .15503059    .15635296     .1425939    .15090912    .20691173

                    fold9       fold10
Y1_pystacked    .18795665    .22256508
 Y_lnearn_ps    .18802919    .21930484
 Y_lnearn_ss    .18732353    .21306592
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1942154 | .2203163 | .3399539 | .1603706 |  .157186 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1555436 | .1424433 | .1502175 |  .205501 | .1879566 | .2225651 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1935989 | .2201366 | .3379892 | .1594022 | .1558754 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1564636 | .1429087 | .1505321 | .2052512 | .1880292 | .2193048 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |  .192978 | .2208047 | .3364892 | .1602134 | .1550306 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  .156353 | .1425939 | .1509091 | .2069117 | .1873235 | .2130659 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_84685/lnearn_mse_plm_mse.dta not found)
file out_84685/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.168       0.149       0.151       0.169
>        0.162       0.154       0.153       0.158       0.153       0.153  
   D_gender_r_ps   1      0.157       0.169       0.148       0.150       0.169
>        0.161       0.153       0.153       0.157       0.153       0.153  
   D_gender_r_ss   1      0.157       0.169       0.148       0.151       0.169
>        0.162       0.153       0.152       0.157       0.152       0.153  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.194       0.220       0.340       0.160       0.157
>        0.156       0.142       0.150       0.206       0.188       0.223  
     Y_lnearn_ps   1      0.194       0.220       0.338       0.159       0.156
>        0.156       0.143       0.151       0.205       0.188       0.219  
     Y_lnearn_ss   1      0.193       0.221       0.336       0.160       0.155
>        0.156       0.143       0.151       0.207       0.187       0.213  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15693099    .16830378     .1488669    .15071748
D_gender_r~s            1     .1568006    .16879951    .14830518    .15048522
D_gender_r~s            1    .15665411    .16910981    .14787399    .15064119

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .16882488    .16176329    .15407092    .15269904     .1578162
D_gender_r~s    .16866368    .16134314    .15347948     .1533214    .15748117
D_gender_r~s    .16909623    .16152993    .15331052    .15241441    .15710862

                    fold9       fold10
D1_pystacked    .15320448    .15304953
D_gender_r~s    .15294562    .15318792
D_gender_r~s    .15243987    .15302384
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 |  .156931 | .1683038 | .1488669 | .1507175 | .1688249 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1617633 | .1540709 |  .152699 | .1578162 | .1532045 | .1530495 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1568006 | .1687995 | .1483052 | .1504852 | .1686637 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1613431 | .1534795 | .1533214 | .1574812 | .1529456 | .1531879 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1566541 | .1691098 |  .147874 | .1506412 | .1690962 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1615299 | .1533105 | .1524144 | .1571086 | .1524399 | .1530238 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_84685/gender_r_mse_plm_mse.dta not found)
file out_84685/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_84685/plm_mse.dta not found)
file out_84685/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_84685/results.dta not found)
file out_84685/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011179   .0163844    -6.17   0.000    -.1332309    -.069005
       _cons |  -.0009941   .0062956    -0.16   0.875    -.0133333     .011345
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1027996    .016469    -6.24   0.000    -.1350782   -.0705209
       _cons |  -.0014671   .0063155    -0.23   0.816    -.0138453     .010911
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011179   .0163844    -6.17   0.000    -.1332309    -.069005
       _cons |  -.0009941   .0062956    -0.16   0.875    -.0133333     .011345
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.102    (0.016)
  ss  1  [shortstack]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]    -0.102    (0.016)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1021313    .016444    -6.21   0.000     -.134361   -.0699015
       _cons |  -.0017339   .0063055    -0.27   0.783    -.0140924    .0106246
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .11268312    .11268312
      ols            2    .00028962    .00028962
  lassocv            3    .24415946    .24415946
  ridgecv            4    5.871e-17    5.871e-17
  lassocv            5    2.445e-17    2.445e-17
  ridgecv            6    4.705e-17    4.705e-17
       rf            7    .42209825    .42209825
       rf            8    9.777e-17    9.777e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01698394    .01698394
gradboost           11    .19145238    .19145238
     nnet           12    1.897e-16    1.897e-16
     nnet           13    .01233323    .01233323

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03079525    .03079525
      ols            2    6.698e-17    6.698e-17
  lassocv            3    .03850705    .03850705
  ridgecv            4    .07145443    .07145443
  lassocv            5    .05494156    .05494156
  ridgecv            6    .22306137    .22306137
       rf            7    .39685496    .39685496
       rf            8    1.109e-16    1.109e-16
       rf            9    1.381e-16    1.381e-16
gradboost           10    .02805745    .02805745
gradboost           11    .10947303    .10947303
     nnet           12    .02611678    .02611678
     nnet           13    .02073812    .02073812

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .11268312    .11268312
      ols            2    .00028962    .00028962
  lassocv            3    .24415946    .24415946
  ridgecv            4    5.871e-17    5.871e-17
  lassocv            5    2.445e-17    2.445e-17
  ridgecv            6    4.705e-17    4.705e-17
       rf            7    .42209825    .42209825
       rf            8    9.777e-17    9.777e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01698394    .01698394
gradboost           11    .19145238    .19145238
     nnet           12    1.897e-16    1.897e-16
     nnet           13    .01233323    .01233323

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03079525    .03079525
      ols            2    6.698e-17    6.698e-17
  lassocv            3    .03850705    .03850705
  ridgecv            4    .07145443    .07145443
  lassocv            5    .05494156    .05494156
  ridgecv            6    .22306137    .22306137
       rf            7    .39685496    .39685496
       rf            8    1.109e-16    1.109e-16
       rf            9    1.381e-16    1.381e-16
gradboost           10    .02805745    .02805745
gradboost           11    .10947303    .10947303
     nnet           12    .02611678    .02611678
     nnet           13    .02073812    .02073812

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .03079525    .03079525
      ols            2    6.698e-17    6.698e-17
  lassocv            3    .03850705    .03850705
  ridgecv            4    .07145443    .07145443
  lassocv            5    .05494156    .05494156
  ridgecv            6    .22306137    .22306137
       rf            7    .39685496    .39685496
       rf            8    1.109e-16    1.109e-16
       rf            9    1.381e-16    1.381e-16
gradboost           10    .02805745    .02805745
gradboost           11    .10947303    .10947303
     nnet           12    .02611678    .02611678
     nnet           13    .02073812    .02073812

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0307952   .0307952 |
   2. |        2   6.70e-17   6.70e-17 |
   3. |        3   .0385071   .0385071 |
   4. |        4   .0714544   .0714544 |
      +--------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_84685/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .11268312    .11268312
      ols            2    .00028962    .00028962
  lassocv            3    .24415946    .24415946
  ridgecv            4    5.871e-17    5.871e-17
  lassocv            5    2.445e-17    2.445e-17
  ridgecv            6    4.705e-17    4.705e-17
       rf            7    .42209825    .42209825
       rf            8    9.777e-17    9.777e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01698394    .01698394
gradboost           11    .19145238    .19145238
     nnet           12    1.897e-16    1.897e-16
     nnet           13    .01233323    .01233323

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03079525    .03079525
      ols            2    6.698e-17    6.698e-17
  lassocv            3    .03850705    .03850705
  ridgecv            4    .07145443    .07145443
  lassocv            5    .05494156    .05494156
  ridgecv            6    .22306137    .22306137
       rf            7    .39685496    .39685496
       rf            8    1.109e-16    1.109e-16
       rf            9    1.381e-16    1.381e-16
gradboost           10    .02805745    .02805745
gradboost           11    .10947303    .10947303
     nnet           12    .02611678    .02611678
     nnet           13    .02073812    .02073812

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .11268312    .11268312
      ols            2    .00028962    .00028962
  lassocv            3    .24415946    .24415946
  ridgecv            4    5.871e-17    5.871e-17
  lassocv            5    2.445e-17    2.445e-17
  ridgecv            6    4.705e-17    4.705e-17
       rf            7    .42209825    .42209825
       rf            8    9.777e-17    9.777e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01698394    .01698394
gradboost           11    .19145238    .19145238
     nnet           12    1.897e-16    1.897e-16
     nnet           13    .01233323    .01233323

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .1126831   .1126831 |
   2. |        2   .0002896   .0002896 |
   3. |        3   .2441595   .2441595 |
   4. |        4   5.87e-17   5.87e-17 |
      +--------------------------------+
(note: file out_84685/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_84685/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .17435767    .17435767
      ols            2    4.625e-17    4.625e-17
  lassocv            3    .17449656    .17449656
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .48194128    .48194128
       rf            8            0            0
       rf            9    1.436e-16    1.436e-16
gradboost           10    2.339e-17    2.339e-17
gradboost           11    .16920449    .16920449
     nnet           12            0            0
     nnet           13    1.611e-16    1.611e-16

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    7.158e-18    7.158e-18
      ols            2    5.786e-18    5.786e-18
  lassocv            3    1.106e-16    1.106e-16
  ridgecv            4    .01812359    .01812359
  lassocv            5    .17735098    .17735098
  ridgecv            6    .10976296    .10976296
       rf            7    .42246574    .42246574
       rf            8            0            0
       rf            9    8.541e-17    8.541e-17
gradboost           10    .03218493    .03218493
gradboost           11    .15058585    .15058585
     nnet           12    6.455e-17    6.455e-17
     nnet           13    .08952594    .08952594

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    7.158e-18    7.158e-18
      ols            2    5.786e-18    5.786e-18
  lassocv            3    1.106e-16    1.106e-16
  ridgecv            4    .01812359    .01812359
  lassocv            5    .17735098    .17735098
  ridgecv            6    .10976296    .10976296
       rf            7    .42246574    .42246574
       rf            8            0            0
       rf            9    8.541e-17    8.541e-17
gradboost           10    .03218493    .03218493
gradboost           11    .15058585    .15058585
     nnet           12    6.455e-17    6.455e-17
     nnet           13    .08952594    .08952594

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5833551          1   7.16e-18   7.16e-18 |
   2. | 3.1548607          2   5.79e-18   5.79e-18 |
   3. | 2.8743987          3   1.11e-16   1.11e-16 |
   4. | 2.5119581          4   .0181236   .0181236 |
      +--------------------------------------------+
(note: file out_84685/Y_lnearn_ss_nnls1_short.dta not found)
file out_84685/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .17435767    .17435767
      ols            2    4.625e-17    4.625e-17
  lassocv            3    .17449656    .17449656
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .48194128    .48194128
       rf            8            0            0
       rf            9    1.436e-16    1.436e-16
gradboost           10    2.339e-17    2.339e-17
gradboost           11    .16920449    .16920449
     nnet           12            0            0
     nnet           13    1.611e-16    1.611e-16

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69505729          1   .1743577   .1743577 |
   2. | .48082876          2   4.62e-17   4.62e-17 |
   3. | .15830802          3   .1744966   .1744966 |
   4. | .27620001          4          0          0 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ss_nnls1_short.dta not found)
file out_84685/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02551239    .02551239
      ols            2    2.581e-15    2.581e-15
  lassocv            3    .12989243    .12989243
  ridgecv            4     .0696449     .0696449
  lassocv            5    2.776e-15    2.776e-15
  ridgecv            6    .17401983    .17401983
       rf            7    .44622124    .44622124
       rf            8    3.119e-15    3.119e-15
       rf            9    4.191e-15    4.191e-15
gradboost           10    4.329e-16    4.329e-16
gradboost           11    .13229987    .13229987
     nnet           12    3.937e-15    3.937e-15
     nnet           13    .02240934    .02240934

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5773632          1   .0255124   .0255124 |
   2. |  3.123385          2   2.58e-15   2.58e-15 |
   3. | 2.8490552          3   .1298924   .1298924 |
   4. | 2.4973276          4   .0696449   .0696449 |
      +--------------------------------------------+
(note: file out_84685/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_84685/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .09694717    .09694717
      ols            2            0            0
  lassocv            3    .26783134    .26783134
  ridgecv            4    1.116e-16    1.116e-16
  lassocv            5    5.668e-16    5.668e-16
  ridgecv            6    7.229e-16    7.229e-16
       rf            7    .42807579    .42807579
       rf            8    4.624e-17    4.624e-17
       rf            9    1.501e-15    1.501e-15
gradboost           10    5.634e-16    5.634e-16
gradboost           11    .20026105    .20026105
     nnet           12    1.403e-15    1.403e-15
     nnet           13    .00688465    .00688465

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69453671          1   .0969472   .0969472 |
   2. | .47202567          2          0          0 |
   3. | .16103867          3   .2678313   .2678313 |
   4. | .28014005          4   1.12e-16   1.12e-16 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_nnls1_pooled.dta not found)
file out_84685/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.097    (0.017)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.103    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1026586   .0164529    -6.24   0.000    -.1349056   -.0704115
       _cons |   -.002207   .0063852    -0.35   0.730    -.0147217    .0103078
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.097    (0.017)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.103    (0.016)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0967005   .0165514    -5.84   0.000    -.1291406   -.0642604
       _cons |  -.0007914   .0063817    -0.12   0.901    -.0132994    .0117166
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.103    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1026586   .0164529    -6.24   0.000    -.1349056   -.0704115
       _cons |   -.002207   .0063852    -0.35   0.730    -.0147217    .0103078
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.103    (0.016)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1026586   .0164529    -6.24   0.000    -.1349056   -.0704115
       _cons |   -.002207   .0063852    -0.35   0.730    -.0147217    .0103078
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6           .1           .1
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6           .1           .1
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6           .1           .1
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .1         .1 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_84685/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6           .1           .1
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .5         .5 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_84685/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_84685/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5403035          1          0          0 |
   2. | 3.0528536          2          0          0 |
   3. | 2.8337467          3          0          0 |
   4. | 2.5395918          4          0          0 |
      +--------------------------------------------+
(note: file out_84685/Y_lnearn_ss_singlebest_short.dta not found)
file out_84685/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |      .704          1          0          0 |
   2. | .55800003          2          0          0 |
   3. | .15800001          3          0          0 |
   4. |      .168          4          0          0 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ss_singlebest_short.dta not found)
file out_84685/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5403035          1          0          0 |
   2. | 3.0528536          2          0          0 |
   3. | 2.8337467          3          0          0 |
   4. | 2.5395918          4          0          0 |
      +--------------------------------------------+
(note: file out_84685/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_84685/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |      .704          1          0          0 |
   2. | .55800003          2          0          0 |
   3. | .15800001          3          0          0 |
   4. |      .168          4          0          0 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_singlebest_pooled.dta not found)
file out_84685/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.352    (0.057)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1015895   .0164704    -6.17   0.000    -.1338709    -.069308
       _cons |  -.1071937   .0067096   -15.98   0.000    -.1203443   -.0940431
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.352    (0.057)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.351725   .0572419    -6.14   0.000    -.4639171   -.2395328
       _cons |   .8886532   .0371947    23.89   0.000      .815753    .9615534
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.102    (0.016)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1015895   .0164704    -6.17   0.000    -.1338709    -.069308
       _cons |  -.1071937   .0067096   -15.98   0.000    -.1203443   -.0940431
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1040795   .0165868    -6.27   0.000    -.1365891   -.0715698
       _cons |  -.0818777   .0062571   -13.09   0.000    -.0941414   -.0696141
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .09474241    .09474241
      ols            2    .17570829    .17570829
  lassocv            3    .48178391    .48178391
  ridgecv            4    .13902702    .13902702
  lassocv            5    -.3037814    -.3037814
  ridgecv            6   -.09175614   -.09175614
       rf            7     .4800006     .4800006
       rf            8    .72334998    .72334998
       rf            9   -.78900813   -.78900813
gradboost           10    .08334794    .08334794
gradboost           11    .11228157    .11228157
     nnet           12   -.08127624   -.08127624
     nnet           13    .00615321    .00615321

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01449104    .01449104
      ols            2   -.00725602   -.00725602
  lassocv            3   -.18562213   -.18562213
  ridgecv            4    .24571017    .24571017
  lassocv            5    .12496302    .12496302
  ridgecv            6    .28896499    .28896499
       rf            7    .53454257    .53454257
       rf            8    .25822409    .25822409
       rf            9   -.42101674   -.42101674
gradboost           10    .09584357    .09584357
gradboost           11    .04823099    .04823099
     nnet           12   -.33120606   -.33120606
     nnet           13    .01117482    .01117482

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .09474241    .09474241
      ols            2    .17570829    .17570829
  lassocv            3    .48178391    .48178391
  ridgecv            4    .13902702    .13902702
  lassocv            5    -.3037814    -.3037814
  ridgecv            6   -.09175614   -.09175614
       rf            7     .4800006     .4800006
       rf            8    .72334998    .72334998
       rf            9   -.78900813   -.78900813
gradboost           10    .08334794    .08334794
gradboost           11    .11228157    .11228157
     nnet           12   -.08127624   -.08127624
     nnet           13    .00615321    .00615321

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01449104    .01449104
      ols            2   -.00725602   -.00725602
  lassocv            3   -.18562213   -.18562213
  ridgecv            4    .24571017    .24571017
  lassocv            5    .12496302    .12496302
  ridgecv            6    .28896499    .28896499
       rf            7    .53454257    .53454257
       rf            8    .25822409    .25822409
       rf            9   -.42101674   -.42101674
gradboost           10    .09584357    .09584357
gradboost           11    .04823099    .04823099
     nnet           12   -.33120606   -.33120606
     nnet           13    .01117482    .01117482

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01449104    .01449104
      ols            2   -.00725602   -.00725602
  lassocv            3   -.18562213   -.18562213
  ridgecv            4    .24571017    .24571017
  lassocv            5    .12496302    .12496302
  ridgecv            6    .28896499    .28896499
       rf            7    .53454257    .53454257
       rf            8    .25822409    .25822409
       rf            9   -.42101674   -.42101674
gradboost           10    .09584357    .09584357
gradboost           11    .04823099    .04823099
     nnet           12   -.33120606   -.33120606
     nnet           13    .01117482    .01117482

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1     .014491     .014491 |
   2. |        2    -.007256    -.007256 |
   3. |        3   -.1856221   -.1856221 |
   4. |        4    .2457102    .2457102 |
      +----------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_84685/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .09474241    .09474241
      ols            2    .17570829    .17570829
  lassocv            3    .48178391    .48178391
  ridgecv            4    .13902702    .13902702
  lassocv            5    -.3037814    -.3037814
  ridgecv            6   -.09175614   -.09175614
       rf            7     .4800006     .4800006
       rf            8    .72334998    .72334998
       rf            9   -.78900813   -.78900813
gradboost           10    .08334794    .08334794
gradboost           11    .11228157    .11228157
     nnet           12   -.08127624   -.08127624
     nnet           13    .00615321    .00615321

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01449104    .01449104
      ols            2   -.00725602   -.00725602
  lassocv            3   -.18562213   -.18562213
  ridgecv            4    .24571017    .24571017
  lassocv            5    .12496302    .12496302
  ridgecv            6    .28896499    .28896499
       rf            7    .53454257    .53454257
       rf            8    .25822409    .25822409
       rf            9   -.42101674   -.42101674
gradboost           10    .09584357    .09584357
gradboost           11    .04823099    .04823099
     nnet           12   -.33120606   -.33120606
     nnet           13    .01117482    .01117482

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .09474241    .09474241
      ols            2    .17570829    .17570829
  lassocv            3    .48178391    .48178391
  ridgecv            4    .13902702    .13902702
  lassocv            5    -.3037814    -.3037814
  ridgecv            6   -.09175614   -.09175614
       rf            7     .4800006     .4800006
       rf            8    .72334998    .72334998
       rf            9   -.78900813   -.78900813
gradboost           10    .08334794    .08334794
gradboost           11    .11228157    .11228157
     nnet           12   -.08127624   -.08127624
     nnet           13    .00615321    .00615321

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0947424   .0947424 |
   2. |        2   .1757083   .1757083 |
   3. |        3   .4817839   .4817839 |
   4. |        4    .139027    .139027 |
      +--------------------------------+
(note: file out_84685/D1_pystacked_w_mn_ols_regular.dta not found)
file out_84685/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .13615085    .13615085
      ols            2    .16824789    .16824789
  lassocv            3    .28235785    .28235785
  ridgecv            4    .07722023    .07722023
  lassocv            5   -.10665836   -.10665836
  ridgecv            6   -.04459129   -.04459129
       rf            7    .57967097    .57967097
       rf            8    .72390538    .72390538
       rf            9   -.89081906   -.89081906
gradboost           10    .10667335    .10667335
gradboost           11    .07103422    .07103422
     nnet           12   -.25087266   -.25087266
     nnet           13   -.01835378   -.01835378

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01645426    .01645426
      ols            2   -.06334475   -.06334475
  lassocv            3   -.46457821   -.46457821
  ridgecv            4    .67902244    .67902244
  lassocv            5    .34287829    .34287829
  ridgecv            6   -.17947041   -.17947041
       rf            7     .5702623     .5702623
       rf            8    .31804258    .31804258
       rf            9   -.55180635   -.55180635
gradboost           10    .19554356    .19554356
gradboost           11     .0639343     .0639343
     nnet           12      .036432      .036432
     nnet           13    .07845324    .07845324

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .01645426    .01645426
      ols            2   -.06334475   -.06334475
  lassocv            3   -.46457821   -.46457821
  ridgecv            4    .67902244    .67902244
  lassocv            5    .34287829    .34287829
  ridgecv            6   -.17947041   -.17947041
       rf            7     .5702623     .5702623
       rf            8    .31804258    .31804258
       rf            9   -.55180635   -.55180635
gradboost           10    .19554356    .19554356
gradboost           11     .0639343     .0639343
     nnet           12      .036432      .036432
     nnet           13    .07845324    .07845324

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6722084          1    .0164543    .0164543 |
   2. |  3.274365          2   -.0633448   -.0633448 |
   3. | 2.9760209          3   -.4645782   -.4645782 |
   4. | 2.6410122          4    .6790224    .6790224 |
      +----------------------------------------------+
(note: file out_84685/Y_lnearn_ss_ols_short.dta not found)
file out_84685/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .13615085    .13615085
      ols            2    .16824789    .16824789
  lassocv            3    .28235785    .28235785
  ridgecv            4    .07722023    .07722023
  lassocv            5   -.10665836   -.10665836
  ridgecv            6   -.04459129   -.04459129
       rf            7    .57967097    .57967097
       rf            8    .72390538    .72390538
       rf            9   -.89081906   -.89081906
gradboost           10    .10667335    .10667335
gradboost           11    .07103422    .07103422
     nnet           12   -.25087266   -.25087266
     nnet           13   -.01835378   -.01835378

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .59130535          1   .1361509   .1361509 |
   2. | .37029921          2   .1682479   .1682479 |
   3. | .01580928          3   .2823578   .2823578 |
   4. | .06227711          4   .0772202   .0772202 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ss_ols_short.dta not found)
file out_84685/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .01082738    .01082738
      ols            2   -.00493751   -.00493751
  lassocv            3    .06122219    .06122219
  ridgecv            4     .2708981     .2708981
  lassocv            5   -.12480432   -.12480432
  ridgecv            6     .2566848     .2566848
       rf            7    .55280009    .55280009
       rf            8    .27459299    .27459299
       rf            9   -.44461626   -.44461626
gradboost           10    .09679498    .09679498
gradboost           11     .0557208     .0557208
     nnet           12    .00820105    .00820105
     nnet           13     .0115566     .0115566

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6277516          1    .0108274    .0108274 |
   2. | 3.1993127          2   -.0049375   -.0049375 |
   3. | 2.9116754          3    .0612222    .0612222 |
   4. | 2.5533466          4    .2708981    .2708981 |
      +----------------------------------------------+
(note: file out_84685/Y_lnearn_ps_ols_pooled.dta not found)
file out_84685/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .08619301    .08619301
      ols            2    .17996676    .17996676
  lassocv            3    .30370408    .30370408
  ridgecv            4    .16241678    .16241678
  lassocv            5   -.10398052   -.10398052
  ridgecv            6   -.12062313   -.12062313
       rf            7    .48339937    .48339937
       rf            8     .7121783     .7121783
       rf            9    -.7840683    -.7840683
gradboost           10     .0746611     .0746611
gradboost           11    .11656669    .11656669
     nnet           12     .0674918     .0674918
     nnet           13    .00712692    .00712692

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .79568818          1    .086193    .086193 |
   2. | .56361804          2   .1799668   .1799668 |
   3. | .22313452          3   .3037041   .3037041 |
   4. | .28634717          4   .1624168   .1624168 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_ols_pooled.dta not found)
file out_84685/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.105    (0.016)
  ss  1  [shortstack]          [ss]    -0.105    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049264   .0164368    -6.38   0.000     -.137142   -.0727109
       _cons |   .0006678   .0063577     0.11   0.916    -.0117931    .0131286
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.105    (0.016)
  ss  1  [shortstack]          [ss]    -0.105    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049264   .0164368    -6.38   0.000     -.137142   -.0727109
       _cons |   .0006678   .0063577     0.11   0.916    -.0117931    .0131286
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.105    (0.016)
  ss  1  [shortstack]          [ss]    -0.105    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049264   .0164368    -6.38   0.000     -.137142   -.0727109
       _cons |   .0006678   .0063577     0.11   0.916    -.0117931    .0131286
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.105    (0.016)
  ss  1  [shortstack]          [ss]    -0.105    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049264   .0164368    -6.38   0.000     -.137142   -.0727109
       _cons |   .0006678   .0063577     0.11   0.916    -.0117931    .0131286
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_84685/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_84685/D1_pystacked_w_mn_avg_regular.dta not found)
file out_84685/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6470462          1   .0769231   .0769231 |
   2. | 3.1621518          2   .0769231   .0769231 |
   3. | 2.8714756          3   .0769231   .0769231 |
   4. | 2.5370972          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_84685/Y_lnearn_ss_avg_short.dta not found)
file out_84685/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .68858025          1   .0769231   .0769231 |
   2. | .42011752          2   .0769231   .0769231 |
   3. | .25147691          3   .0769231   .0769231 |
   4. |  .4040963          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ss_avg_short.dta not found)
file out_84685/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6470462          1   .0769231   .0769231 |
   2. | 3.1621518          2   .0769231   .0769231 |
   3. | 2.8714756          3   .0769231   .0769231 |
   4. | 2.5370972          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_84685/Y_lnearn_ps_avg_pooled.dta not found)
file out_84685/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .68858025          1   .0769231   .0769231 |
   2. | .42011752          2   .0769231   .0769231 |
   3. | .25147691          3   .0769231   .0769231 |
   4. |  .4040963          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_avg_pooled.dta not found)
file out_84685/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0993623   .0165003    -6.02   0.000    -.1317024   -.0670223
       _cons |  -.0012214   .0066427    -0.18   0.854    -.0142407     .011798
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1219339   .0154458    -7.89   0.000    -.1522071   -.0916606
       _cons |  -.0003479   .0068675    -0.05   0.960    -.0138079    .0131121
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0997062   .0166244    -6.00   0.000    -.1322894    -.067123
       _cons |  -.0012593   .0064019    -0.20   0.844    -.0138067    .0112881
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0991393   .0164836    -6.01   0.000    -.1314466    -.066832
       _cons |  -.0006691   .0064184    -0.10   0.917    -.0132488    .0119107
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0988568   .0166256    -5.95   0.000    -.1314423   -.0662713
       _cons |  -.0027873   .0064129    -0.43   0.664    -.0153564    .0097817
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1036795   .0165199    -6.28   0.000     -.136058    -.071301
       _cons |  -.0017295   .0064251    -0.27   0.788    -.0143225    .0108635
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1026586   .0164529    -6.24   0.000    -.1349056   -.0704115
       _cons |   -.002207   .0063852    -0.35   0.730    -.0147217    .0103078
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1118363    .016877    -6.63   0.000    -.1449146   -.0787579
       _cons |  -.0001056   .0066254    -0.02   0.987    -.0130912      .01288
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1135533   .0167296    -6.79   0.000    -.1463428   -.0807639
       _cons |  -.0001724   .0067538    -0.03   0.980    -.0134096    .0130649
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0888574   .0168181    -5.28   0.000    -.1218203   -.0558945
       _cons |  -.0003624   .0064298    -0.06   0.955    -.0129647    .0122398
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0839823   .0162978    -5.15   0.000    -.1159254   -.0520393
       _cons |  -.0040333    .006564    -0.61   0.539    -.0168984    .0088319
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.111039   .0155231    -7.15   0.000    -.1414637   -.0806143
       _cons |    .007457   .0075489     0.99   0.323    -.0073386    .0222527
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0568559   .0167565    -3.39   0.001    -.0896982   -.0240137
       _cons |   .0151238   .0076375     1.98   0.048     .0001545    .0300931
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1014066   .0165956    -6.11   0.000    -.1339333   -.0688798
       _cons |   -.003144   .0062874    -0.50   0.617    -.0154671     .009179
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.152       0.157       0.156       0.142
>        0.151       0.166       0.149       0.161       0.169       0.166  
   D_gender_r_ps   1      0.157       0.152       0.157       0.156       0.141
>        0.151       0.166       0.149       0.161       0.168       0.165  
   D_gender_r_ss   1      0.156       0.153       0.156       0.154       0.140
>        0.151       0.165       0.149       0.161       0.168       0.165  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.193       0.142       0.203       0.318       0.133
>        0.196       0.200       0.141       0.208       0.183       0.208  
     Y_lnearn_ps   1      0.193       0.143       0.202       0.318       0.133
>        0.195       0.202       0.141       0.207       0.183       0.206  
     Y_lnearn_ss   1      0.193       0.142       0.202       0.318       0.132
>        0.195       0.202       0.142       0.206       0.182       0.203  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .19321593    .14231236    .20300903    .31763664
 Y_lnearn_ps            1    .19281052    .14284367    .20169313    .31750243
 Y_lnearn_ss            1    .19250008    .14225214    .20184721    .31768763

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .13302924    .19608527     .2004567    .14116612    .20765188
 Y_lnearn_ps     .1326334    .19488385    .20197339    .14093347    .20723617
 Y_lnearn_ss    .13204488    .19493978    .20239278    .14238751    .20625999

                    fold9       fold10
Y1_pystacked    .18267197    .20833681
 Y_lnearn_ps    .18289414    .20571469
 Y_lnearn_ss    .18194998    .20344262
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1932159 | .1423124 |  .203009 | .3176366 | .1330292 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1960853 | .2004567 | .1411661 | .2076519 |  .182672 | .2083368 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1928105 | .1428437 | .2016931 | .3175024 | .1326334 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1948839 | .2019734 | .1409335 | .2072362 | .1828941 | .2057147 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1925001 | .1422521 | .2018472 | .3176876 | .1320449 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1949398 | .2023928 | .1423875 |   .20626 |   .18195 | .2034426 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_923/lnearn_mse_plm_mse.dta not found)
file out_923/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.152       0.157       0.156       0.142
>        0.151       0.166       0.149       0.161       0.169       0.166  
   D_gender_r_ps   1      0.157       0.152       0.157       0.156       0.141
>        0.151       0.166       0.149       0.161       0.168       0.165  
   D_gender_r_ss   1      0.156       0.153       0.156       0.154       0.140
>        0.151       0.165       0.149       0.161       0.168       0.165  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.193       0.142       0.203       0.318       0.133
>        0.196       0.200       0.141       0.208       0.183       0.208  
     Y_lnearn_ps   1      0.193       0.143       0.202       0.318       0.133
>        0.195       0.202       0.141       0.207       0.183       0.206  
     Y_lnearn_ss   1      0.193       0.142       0.202       0.318       0.132
>        0.195       0.202       0.142       0.206       0.182       0.203  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15696121    .15237545    .15716108    .15598462
D_gender_r~s            1    .15674921     .1522979    .15733417    .15578621
D_gender_r~s            1     .1563288     .1532254    .15573812    .15442835

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked     .1416327    .15148507    .16626537    .14918471    .16094102
D_gender_r~s    .14144759    .15096626    .16641304    .14891293    .16093207
D_gender_r~s    .14033159     .1513689    .16484936    .14936029    .16101725

                    fold9       fold10
D1_pystacked    .16898956    .16560844
D_gender_r~s    .16807386    .16534552
D_gender_r~s    .16751398    .16547173
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1569612 | .1523754 | .1571611 | .1559846 | .1416327 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1514851 | .1662654 | .1491847 |  .160941 | .1689896 | .1656085 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1567492 | .1522979 | .1573342 | .1557862 | .1414476 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1509663 |  .166413 | .1489129 | .1609321 | .1680739 | .1653455 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1563288 | .1532254 | .1557381 | .1544283 | .1403316 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1513689 | .1648494 | .1493603 | .1610173 |  .167514 | .1654717 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_923/gender_r_mse_plm_mse.dta not found)
file out_923/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_923/plm_mse.dta not found)
file out_923/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_923/results.dta not found)
file out_923/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1014066   .0165956    -6.11   0.000    -.1339333   -.0688798
       _cons |   -.003144   .0062874    -0.50   0.617    -.0154671     .009179
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.016)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1020964   .0165252    -6.18   0.000    -.1344852   -.0697075
       _cons |   -.002559   .0062987    -0.41   0.685    -.0149042    .0097861
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1014066   .0165956    -6.11   0.000    -.1339333   -.0688798
       _cons |   -.003144   .0062874    -0.50   0.617    -.0154671     .009179
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.016)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1008548   .0164841    -6.12   0.000    -.1331631   -.0685465
       _cons |  -.0030082   .0062925    -0.48   0.633    -.0153412    .0093248
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08166809    .08166809
      ols            2    .00129426    .00129426
  lassocv            3    .27081704    .27081704
  ridgecv            4    7.386e-17    7.386e-17
  lassocv            5    4.051e-17    4.051e-17
  ridgecv            6    4.476e-17    4.476e-17
       rf            7    .39011912    .39011912
       rf            8    2.630e-17    2.630e-17
       rf            9    9.719e-17    9.719e-17
gradboost           10    .00562313    .00562313
gradboost           11    .22064273    .22064273
     nnet           12    .01464953    .01464953
     nnet           13    .01518609    .01518609

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03557831    .03557831
      ols            2    8.070e-17    8.070e-17
  lassocv            3    .09120735    .09120735
  ridgecv            4    .04889195    .04889195
  lassocv            5    .05859756    .05859756
  ridgecv            6    .15301356    .15301356
       rf            7    .42425901    .42425901
       rf            8    7.038e-17    7.038e-17
       rf            9    7.102e-17    7.102e-17
gradboost           10    .00677718    .00677718
gradboost           11    .12372445    .12372445
     nnet           12    .02948087    .02948087
     nnet           13    .02846975    .02846975

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08166809    .08166809
      ols            2    .00129426    .00129426
  lassocv            3    .27081704    .27081704
  ridgecv            4    7.386e-17    7.386e-17
  lassocv            5    4.051e-17    4.051e-17
  ridgecv            6    4.476e-17    4.476e-17
       rf            7    .39011912    .39011912
       rf            8    2.630e-17    2.630e-17
       rf            9    9.719e-17    9.719e-17
gradboost           10    .00562313    .00562313
gradboost           11    .22064273    .22064273
     nnet           12    .01464953    .01464953
     nnet           13    .01518609    .01518609

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03557831    .03557831
      ols            2    8.070e-17    8.070e-17
  lassocv            3    .09120735    .09120735
  ridgecv            4    .04889195    .04889195
  lassocv            5    .05859756    .05859756
  ridgecv            6    .15301356    .15301356
       rf            7    .42425901    .42425901
       rf            8    7.038e-17    7.038e-17
       rf            9    7.102e-17    7.102e-17
gradboost           10    .00677718    .00677718
gradboost           11    .12372445    .12372445
     nnet           12    .02948087    .02948087
     nnet           13    .02846975    .02846975

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .03557831    .03557831
      ols            2    8.070e-17    8.070e-17
  lassocv            3    .09120735    .09120735
  ridgecv            4    .04889195    .04889195
  lassocv            5    .05859756    .05859756
  ridgecv            6    .15301356    .15301356
       rf            7    .42425901    .42425901
       rf            8    7.038e-17    7.038e-17
       rf            9    7.102e-17    7.102e-17
gradboost           10    .00677718    .00677718
gradboost           11    .12372445    .12372445
     nnet           12    .02948087    .02948087
     nnet           13    .02846975    .02846975

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0355783   .0355783 |
   2. |        2   8.07e-17   8.07e-17 |
   3. |        3   .0912074   .0912074 |
   4. |        4    .048892    .048892 |
      +--------------------------------+
(note: file out_923/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_923/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08166809    .08166809
      ols            2    .00129426    .00129426
  lassocv            3    .27081704    .27081704
  ridgecv            4    7.386e-17    7.386e-17
  lassocv            5    4.051e-17    4.051e-17
  ridgecv            6    4.476e-17    4.476e-17
       rf            7    .39011912    .39011912
       rf            8    2.630e-17    2.630e-17
       rf            9    9.719e-17    9.719e-17
gradboost           10    .00562313    .00562313
gradboost           11    .22064273    .22064273
     nnet           12    .01464953    .01464953
     nnet           13    .01518609    .01518609

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03557831    .03557831
      ols            2    8.070e-17    8.070e-17
  lassocv            3    .09120735    .09120735
  ridgecv            4    .04889195    .04889195
  lassocv            5    .05859756    .05859756
  ridgecv            6    .15301356    .15301356
       rf            7    .42425901    .42425901
       rf            8    7.038e-17    7.038e-17
       rf            9    7.102e-17    7.102e-17
gradboost           10    .00677718    .00677718
gradboost           11    .12372445    .12372445
     nnet           12    .02948087    .02948087
     nnet           13    .02846975    .02846975

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .08166809    .08166809
      ols            2    .00129426    .00129426
  lassocv            3    .27081704    .27081704
  ridgecv            4    7.386e-17    7.386e-17
  lassocv            5    4.051e-17    4.051e-17
  ridgecv            6    4.476e-17    4.476e-17
       rf            7    .39011912    .39011912
       rf            8    2.630e-17    2.630e-17
       rf            9    9.719e-17    9.719e-17
gradboost           10    .00562313    .00562313
gradboost           11    .22064273    .22064273
     nnet           12    .01464953    .01464953
     nnet           13    .01518609    .01518609

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0816681   .0816681 |
   2. |        2   .0012943   .0012943 |
   3. |        3    .270817    .270817 |
   4. |        4   7.39e-17   7.39e-17 |
      +--------------------------------+
(note: file out_923/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_923/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .23353685    .23353685
      ols            2            0            0
  lassocv            3    .10086369    .10086369
  ridgecv            4    1.415e-16    1.415e-16
  lassocv            5    1.010e-16    1.010e-16
  ridgecv            6    2.527e-17    2.527e-17
       rf            7    .45534123    .45534123
       rf            8            0            0
       rf            9    1.181e-16    1.181e-16
gradboost           10            0            0
gradboost           11    .19360391    .19360391
     nnet           12    3.695e-16    3.695e-16
     nnet           13    .01665432    .01665432

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .04283888    .04283888
      ols            2            0            0
  lassocv            3    1.085e-17    1.085e-17
  ridgecv            4    7.395e-17    7.395e-17
  lassocv            5    .16485841    .16485841
  ridgecv            6    .20782394    .20782394
       rf            7    .40917522    .40917522
       rf            8    6.157e-17    6.157e-17
       rf            9            0            0
gradboost           10    6.656e-17    6.656e-17
gradboost           11    .12829323    .12829323
     nnet           12            0            0
     nnet           13    .04701032    .04701032

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .04283888    .04283888
      ols            2            0            0
  lassocv            3    1.085e-17    1.085e-17
  ridgecv            4    7.395e-17    7.395e-17
  lassocv            5    .16485841    .16485841
  ridgecv            6    .20782394    .20782394
       rf            7    .40917522    .40917522
       rf            8    6.157e-17    6.157e-17
       rf            9            0            0
gradboost           10    6.656e-17    6.656e-17
gradboost           11    .12829323    .12829323
     nnet           12            0            0
     nnet           13    .04701032    .04701032

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6401884          1   .0428389   .0428389 |
   2. | 3.1444374          2          0          0 |
   3. | 2.8706682          3   1.08e-17   1.08e-17 |
   4. | 2.5467736          4   7.39e-17   7.39e-17 |
      +--------------------------------------------+
(note: file out_923/Y_lnearn_ss_nnls1_short.dta not found)
file out_923/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .23353685    .23353685
      ols            2            0            0
  lassocv            3    .10086369    .10086369
  ridgecv            4    1.415e-16    1.415e-16
  lassocv            5    1.010e-16    1.010e-16
  ridgecv            6    2.527e-17    2.527e-17
       rf            7    .45534123    .45534123
       rf            8            0            0
       rf            9    1.181e-16    1.181e-16
gradboost           10            0            0
gradboost           11    .19360391    .19360391
     nnet           12    3.695e-16    3.695e-16
     nnet           13    .01665432    .01665432

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .74266501          1   .2335369   .2335369 |
   2. |  .4526672          2          0          0 |
   3. | .14339518          3   .1008637   .1008637 |
   4. | .30118885          4   1.42e-16   1.42e-16 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_nnls1_short.dta not found)
file out_923/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02601886    .02601886
      ols            2    5.929e-16    5.929e-16
  lassocv            3    .17289316    .17289316
  ridgecv            4    .06351563    .06351563
  lassocv            5            0            0
  ridgecv            6    .11699676    .11699676
       rf            7    .44860721    .44860721
       rf            8    3.096e-16    3.096e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .14161335    .14161335
     nnet           12            0            0
     nnet           13    .03035503    .03035503

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6396771          1   .0260189   .0260189 |
   2. | 3.1337876          2   5.93e-16   5.93e-16 |
   3. | 2.8710946          3   .1728932   .1728932 |
   4. | 2.5463045          4   .0635156   .0635156 |
      +--------------------------------------------+
(note: file out_923/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_923/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .06672891    .06672891
      ols            2            0            0
  lassocv            3    .30524563    .30524563
  ridgecv            4            0            0
  lassocv            5    3.655e-16    3.655e-16
  ridgecv            6    9.881e-17    9.881e-17
       rf            7    .39028694    .39028694
       rf            8    1.059e-15    1.059e-15
       rf            9    1.314e-15    1.314e-15
gradboost           10    1.120e-16    1.120e-16
gradboost           11    .23103593    .23103593
     nnet           12            0            0
     nnet           13    .00670259    .00670259

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .74116064          1   .0667289   .0667289 |
   2. |  .4630429          2          0          0 |
   3. | .14351758          3   .3052456   .3052456 |
   4. | .30169248          4          0          0 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ps_nnls1_pooled.dta not found)
file out_923/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.016)
  ss  1  [shortstack]          [ss]    -0.094    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0938889   .0165168    -5.68   0.000    -.1262613   -.0615166
       _cons |   -.002574   .0063853    -0.40   0.687     -.015089     .009941
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.016)
  ss  1  [shortstack]          [ss]    -0.094    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1018803   .0163663    -6.23   0.000    -.1339576    -.069803
       _cons |  -.0025119   .0063826    -0.39   0.694    -.0150216    .0099977
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.094    (0.017)
  ss  1  [shortstack]          [ss]    -0.094    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0938889   .0165168    -5.68   0.000    -.1262613   -.0615166
       _cons |   -.002574   .0063853    -0.40   0.687     -.015089     .009941
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.094    (0.017)
  ps  1   [poolstack]          [ps]    -0.103    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030023   .0165768    -6.21   0.000    -.1354923   -.0705124
       _cons |   -.003116   .0063747    -0.49   0.625    -.0156102    .0093782
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .2         .2 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_923/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_923/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .6         .6 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_923/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_923/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            1            1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            1            1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6017079          1          0          0 |
   2. | 3.1777189          2          0          0 |
   3. | 2.8376827          3          0          0 |
   4. |  2.524555          4          0          0 |
      +--------------------------------------------+
(note: file out_923/Y_lnearn_ss_singlebest_short.dta not found)
file out_923/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76800001          1          0          0 |
   2. | .48800001          2          0          0 |
   3. | .13600001          3          0          0 |
   4. | .19599999          4          0          0 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_singlebest_short.dta not found)
file out_923/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5944841          1          0          0 |
   2. | 3.0736532          2          0          0 |
   3. | 2.8712728          3          0          0 |
   4. | 2.5709298          4          0          0 |
      +--------------------------------------------+
(note: file out_923/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_923/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .66940773          1          0          0 |
   2. | .38096282          2          0          0 |
   3. | .18201673          3          1          1 |
   4. | .38785279          4          0          0 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ps_singlebest_pooled.dta not found)
file out_923/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.507    (0.031)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1024728   .0165847    -6.18   0.000    -.1349783   -.0699673
       _cons |  -.1361798   .0061898   -22.00   0.000    -.1483116   -.1240481
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.507    (0.031)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.5066778   .0307125   -16.50   0.000    -.5668732   -.4464825
       _cons |  -.0071261   .0167948    -0.42   0.671    -.0400433     .025791
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1024728   .0165847    -6.18   0.000    -.1349783   -.0699673
       _cons |  -.1361798   .0061898   -22.00   0.000    -.1483116   -.1240481
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1022226   .0165521    -6.18   0.000    -.1346641    -.069781
       _cons |  -.0676884   .0061834   -10.95   0.000    -.0798076   -.0555692
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07729079    .07729079
      ols            2    .17392622    .17392622
  lassocv            3    .51470093    .51470093
  ridgecv            4    .08463399    .08463399
  lassocv            5   -.34583626   -.34583626
  ridgecv            6   -.00521371   -.00521371
       rf            7    .48248658    .48248658
       rf            8    .62609041    .62609041
       rf            9   -.75106551   -.75106551
gradboost           10    .09189672    .09189672
gradboost           11     .1328145     .1328145
     nnet           12   -.28679836   -.28679836
     nnet           13    .00697355    .00697355

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01318631    .01318631
      ols            2   -.01119225   -.01119225
  lassocv            3   -.03011035   -.03011035
  ridgecv            4    .21375371    .21375371
  lassocv            5    .00007286    .00007286
  ridgecv            6    .25586037    .25586037
       rf            7    .51921256    .51921256
       rf            8    .44510642    .44510642
       rf            9   -.55343442   -.55343442
gradboost           10    .04634999    .04634999
gradboost           11    .07878558    .07878558
     nnet           12    .02577673    .02577673
     nnet           13    .01990234    .01990234

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07729079    .07729079
      ols            2    .17392622    .17392622
  lassocv            3    .51470093    .51470093
  ridgecv            4    .08463399    .08463399
  lassocv            5   -.34583626   -.34583626
  ridgecv            6   -.00521371   -.00521371
       rf            7    .48248658    .48248658
       rf            8    .62609041    .62609041
       rf            9   -.75106551   -.75106551
gradboost           10    .09189672    .09189672
gradboost           11     .1328145     .1328145
     nnet           12   -.28679836   -.28679836
     nnet           13    .00697355    .00697355

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01318631    .01318631
      ols            2   -.01119225   -.01119225
  lassocv            3   -.03011035   -.03011035
  ridgecv            4    .21375371    .21375371
  lassocv            5    .00007286    .00007286
  ridgecv            6    .25586037    .25586037
       rf            7    .51921256    .51921256
       rf            8    .44510642    .44510642
       rf            9   -.55343442   -.55343442
gradboost           10    .04634999    .04634999
gradboost           11    .07878558    .07878558
     nnet           12    .02577673    .02577673
     nnet           13    .01990234    .01990234

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01318631    .01318631
      ols            2   -.01119225   -.01119225
  lassocv            3   -.03011035   -.03011035
  ridgecv            4    .21375371    .21375371
  lassocv            5    .00007286    .00007286
  ridgecv            6    .25586037    .25586037
       rf            7    .51921256    .51921256
       rf            8    .44510642    .44510642
       rf            9   -.55343442   -.55343442
gradboost           10    .04634999    .04634999
gradboost           11    .07878558    .07878558
     nnet           12    .02577673    .02577673
     nnet           13    .01990234    .01990234

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1    .0131863    .0131863 |
   2. |        2   -.0111922   -.0111922 |
   3. |        3   -.0301103   -.0301103 |
   4. |        4    .2137537    .2137537 |
      +----------------------------------+
(note: file out_923/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_923/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07729079    .07729079
      ols            2    .17392622    .17392622
  lassocv            3    .51470093    .51470093
  ridgecv            4    .08463399    .08463399
  lassocv            5   -.34583626   -.34583626
  ridgecv            6   -.00521371   -.00521371
       rf            7    .48248658    .48248658
       rf            8    .62609041    .62609041
       rf            9   -.75106551   -.75106551
gradboost           10    .09189672    .09189672
gradboost           11     .1328145     .1328145
     nnet           12   -.28679836   -.28679836
     nnet           13    .00697355    .00697355

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01318631    .01318631
      ols            2   -.01119225   -.01119225
  lassocv            3   -.03011035   -.03011035
  ridgecv            4    .21375371    .21375371
  lassocv            5    .00007286    .00007286
  ridgecv            6    .25586037    .25586037
       rf            7    .51921256    .51921256
       rf            8    .44510642    .44510642
       rf            9   -.55343442   -.55343442
gradboost           10    .04634999    .04634999
gradboost           11    .07878558    .07878558
     nnet           12    .02577673    .02577673
     nnet           13    .01990234    .01990234

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07729079    .07729079
      ols            2    .17392622    .17392622
  lassocv            3    .51470093    .51470093
  ridgecv            4    .08463399    .08463399
  lassocv            5   -.34583626   -.34583626
  ridgecv            6   -.00521371   -.00521371
       rf            7    .48248658    .48248658
       rf            8    .62609041    .62609041
       rf            9   -.75106551   -.75106551
gradboost           10    .09189672    .09189672
gradboost           11     .1328145     .1328145
     nnet           12   -.28679836   -.28679836
     nnet           13    .00697355    .00697355

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0772908   .0772908 |
   2. |        2   .1739262   .1739262 |
   3. |        3   .5147009   .5147009 |
   4. |        4    .084634    .084634 |
      +--------------------------------+
(note: file out_923/D1_pystacked_w_mn_ols_regular.dta not found)
file out_923/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .21144215    .21144215
      ols            2    .15092993    .15092993
  lassocv            3    .30608304    .30608304
  ridgecv            4    .18785799    .18785799
  lassocv            5   -.21684227   -.21684227
  ridgecv            6   -.14368863   -.14368863
       rf            7    .54550037    .54550037
       rf            8    .56082862    .56082862
       rf            9    -.5991316    -.5991316
gradboost           10   -.03333516   -.03333516
gradboost           11    .14477065    .14477065
     nnet           12    .02620245    .02620245
     nnet           13    .01233414    .01233414

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01459334    .01459334
      ols            2    -.0212843    -.0212843
  lassocv            3   -.15744262   -.15744262
  ridgecv            4    .18031842    .18031842
  lassocv            5    .19341528    .19341528
  ridgecv            6    .22317978    .22317978
       rf            7    .62849885    .62849885
       rf            8   -.16066983   -.16066983
       rf            9   -.08270715   -.08270715
gradboost           10    .11020096    .11020096
gradboost           11    .05283418    .05283418
     nnet           12    .02322356    .02322356
     nnet           13    .04053873    .04053873

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .01459334    .01459334
      ols            2    -.0212843    -.0212843
  lassocv            3   -.15744262   -.15744262
  ridgecv            4    .18031842    .18031842
  lassocv            5    .19341528    .19341528
  ridgecv            6    .22317978    .22317978
       rf            7    .62849885    .62849885
       rf            8   -.16066983   -.16066983
       rf            9   -.08270715   -.08270715
gradboost           10    .11020096    .11020096
gradboost           11    .05283418    .05283418
     nnet           12    .02322356    .02322356
     nnet           13    .04053873    .04053873

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.7176772          1    .0145933    .0145933 |
   2. | 3.2964167          2   -.0212843   -.0212843 |
   3. | 2.9953133          3   -.1574426   -.1574426 |
   4. | 2.6526682          4    .1803184    .1803184 |
      +----------------------------------------------+
(note: file out_923/Y_lnearn_ss_ols_short.dta not found)
file out_923/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .21144215    .21144215
      ols            2    .15092993    .15092993
  lassocv            3    .30608304    .30608304
  ridgecv            4    .18785799    .18785799
  lassocv            5   -.21684227   -.21684227
  ridgecv            6   -.14368863   -.14368863
       rf            7    .54550037    .54550037
       rf            8    .56082862    .56082862
       rf            9    -.5991316    -.5991316
gradboost           10   -.03333516   -.03333516
gradboost           11    .14477065    .14477065
     nnet           12    .02620245    .02620245
     nnet           13    .01233414    .01233414

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .82635228          1   .2114422   .2114422 |
   2. | .52958654          2   .1509299   .1509299 |
   3. | .17922596          3   .3060831   .3060831 |
   4. | .29655777          4    .187858    .187858 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_ols_short.dta not found)
file out_923/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02008947    .02008947
      ols            2   -.01524446   -.01524446
  lassocv            3    .04127449    .04127449
  ridgecv            4    .34449635    .34449635
  lassocv            5   -.08862396   -.08862396
  ridgecv            6    .13668428    .13668428
       rf            7    .53176403    .53176403
       rf            8    .48360831    .48360831
       rf            9   -.59368015   -.59368015
gradboost           10    .04458012    .04458012
gradboost           11    .08710361    .08710361
     nnet           12    .00976817    .00976817
     nnet           13    .01937313    .01937313

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6716144          1    .0200895    .0200895 |
   2. | 3.2023663          2   -.0152445   -.0152445 |
   3. | 2.9308822          3    .0412745    .0412745 |
   4. | 2.5884818          4    .3444963    .3444963 |
      +----------------------------------------------+
(note: file out_923/Y_lnearn_ps_ols_pooled.dta not found)
file out_923/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1     .0541807     .0541807
      ols            2    .17689457    .17689457
  lassocv            3    .52090659    .52090659
  ridgecv            4    .06751494    .06751494
  lassocv            5   -.34814785   -.34814785
  ridgecv            6    .03657626    .03657626
       rf            7    .48693896    .48693896
       rf            8    .62550327    .62550327
       rf            9   -.75709763   -.75709763
gradboost           10    .09098387    .09098387
gradboost           11    .13769502    .13769502
     nnet           12     .0092129     .0092129
     nnet           13    .00350297    .00350297

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7943655          1   .0541807   .0541807 |
   2. |  .5015709          2   .1768946   .1768946 |
   3. | .15410199          3   .5209066   .5209066 |
   4. |  .2577808          4   .0675149   .0675149 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ps_ols_pooled.dta not found)
file out_923/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.105    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047942   .0166256    -6.30   0.000    -.1373797   -.0722087
       _cons |  -.0013923   .0063441    -0.22   0.826    -.0138266    .0110419
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.105    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047942   .0166256    -6.30   0.000    -.1373797   -.0722087
       _cons |  -.0013923   .0063441    -0.22   0.826    -.0138266    .0110419
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.105    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047942   .0166256    -6.30   0.000    -.1373797   -.0722087
       _cons |  -.0013923   .0063441    -0.22   0.826    -.0138266    .0110419
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.105    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047942   .0166256    -6.30   0.000    -.1373797   -.0722087
       _cons |  -.0013923   .0063441    -0.22   0.826    -.0138266    .0110419
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_923/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_923/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_923/D1_pystacked_w_mn_avg_regular.dta not found)
file out_923/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6609149          1   .0769231   .0769231 |
   2. | 3.1700511          2   .0769231   .0769231 |
   3. |  2.862617          3   .0769231   .0769231 |
   4. | 2.5454252          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_923/Y_lnearn_ss_avg_short.dta not found)
file out_923/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71123696          1   .0769231   .0769231 |
   2. | .43365455          2   .0769231   .0769231 |
   3. | .24400807          3   .0769231   .0769231 |
   4. | .40368178          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_avg_short.dta not found)
file out_923/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6609149          1   .0769231   .0769231 |
   2. | 3.1700511          2   .0769231   .0769231 |
   3. |  2.862617          3   .0769231   .0769231 |
   4. | 2.5454252          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_923/Y_lnearn_ps_avg_pooled.dta not found)
file out_923/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71123696          1   .0769231   .0769231 |
   2. | .43365455          2   .0769231   .0769231 |
   3. | .24400807          3   .0769231   .0769231 |
   4. | .40368178          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ps_avg_pooled.dta not found)
file out_923/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985652   .0173966    -5.67   0.000     -.132662   -.0644685
       _cons |  -.0038327    .006588    -0.58   0.561    -.0167449    .0090796
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1216978   .0154543    -7.87   0.000    -.1519877   -.0914078
       _cons |  -.0006754   .0068607    -0.10   0.922    -.0141221    .0127714
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0974809   .0165474    -5.89   0.000    -.1299132   -.0650486
       _cons |  -.0019495   .0063828    -0.31   0.760    -.0144596    .0105607
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0971278   .0166155    -5.85   0.000    -.1296936   -.0645621
       _cons |  -.0013282     .00641    -0.21   0.836    -.0138915    .0112352
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0988223   .0166825    -5.92   0.000    -.1315195   -.0661251
       _cons |  -.0028445   .0063746    -0.45   0.655    -.0153386    .0096495
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0968938   .0178975    -5.41   0.000    -.1319723   -.0618153
       _cons |  -.0028299   .0063958    -0.44   0.658    -.0153654    .0097056
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011128   .0165468    -6.11   0.000    -.1335438   -.0686817
       _cons |  -.0028135    .006384    -0.44   0.659    -.0153258    .0096988
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1105095   .0169309    -6.53   0.000    -.1436935   -.0773255
       _cons |  -.0001453   .0066275    -0.02   0.983    -.0131349    .0128444
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1124517   .0167448    -6.72   0.000     -.145271   -.0796324
       _cons |  -.0002129   .0067525    -0.03   0.975    -.0134476    .0130218
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0894476   .0166074    -5.39   0.000    -.1219976   -.0568977
       _cons |  -.0005612   .0064511    -0.09   0.931    -.0132051    .0120827
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0905723   .0161693    -5.60   0.000    -.1222635   -.0588811
       _cons |  -.0064913    .006559    -0.99   0.322    -.0193467    .0063641
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.109844    .015874    -6.92   0.000    -.1409565   -.0787315
       _cons |   .0057078    .007507     0.76   0.447    -.0090056    .0204211
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0683509   .0178967    -3.82   0.000    -.1034278    -.033274
       _cons |   .0002452   .0079698     0.03   0.975    -.0153753    .0158658
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.106    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1041745    .016445    -6.33   0.000    -.1364061   -.0719429
       _cons |  -.0021962   .0063028    -0.35   0.728    -.0145495    .0101572
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.151       0.166       0.158       0.161
>        0.155       0.152       0.150       0.161       0.170       0.149  
   D_gender_r_ps   1      0.157       0.151       0.165       0.158       0.160
>        0.155       0.152       0.150       0.161       0.168       0.149  
   D_gender_r_ss   1      0.157       0.150       0.165       0.157       0.160
>        0.155       0.152       0.149       0.161       0.167       0.149  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.195       0.257       0.139       0.136       0.164
>        0.156       0.221       0.177       0.243       0.297       0.159  
     Y_lnearn_ps   1      0.194       0.255       0.139       0.136       0.161
>        0.155       0.221       0.177       0.244       0.295       0.160  
     Y_lnearn_ss   1      0.194       0.254       0.140       0.136       0.159
>        0.155       0.220       0.174       0.243       0.295       0.159  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .19504493    .25664861    .13946864    .13633325
 Y_lnearn_ps            1    .19430519       .25507    .13935363    .13596626
 Y_lnearn_ss            1    .19351711     .2535594    .13959166    .13553491

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .16393212    .15621875    .22108097    .17707323    .24304831
 Y_lnearn_ps    .16051677     .1549002    .22062531    .17696044    .24435424
 Y_lnearn_ss    .15949346    .15542266    .21991811    .17429438    .24326817

                    fold9       fold10
Y1_pystacked    .29739861    .15940576
 Y_lnearn_ps    .29533048    .16013733
 Y_lnearn_ss    .29493021    .15931971
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1950449 | .2566486 | .1394686 | .1363332 | .1639321 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1562188 |  .221081 | .1770732 | .2430483 | .2973986 | .1594058 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1943052 |   .25507 | .1393536 | .1359663 | .1605168 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1549002 | .2206253 | .1769604 | .2443542 | .2953305 | .1601373 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1935171 | .2535594 | .1395916 | .1355349 | .1594935 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1554227 | .2199181 | .1742944 | .2432682 | .2949302 | .1593197 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_36931/lnearn_mse_plm_mse.dta not found)
file out_36931/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.151       0.166       0.158       0.161
>        0.155       0.152       0.150       0.161       0.170       0.149  
   D_gender_r_ps   1      0.157       0.151       0.165       0.158       0.160
>        0.155       0.152       0.150       0.161       0.168       0.149  
   D_gender_r_ss   1      0.157       0.150       0.165       0.157       0.160
>        0.155       0.152       0.149       0.161       0.167       0.149  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.195       0.257       0.139       0.136       0.164
>        0.156       0.221       0.177       0.243       0.297       0.159  
     Y_lnearn_ps   1      0.194       0.255       0.139       0.136       0.161
>        0.155       0.221       0.177       0.244       0.295       0.160  
     Y_lnearn_ss   1      0.194       0.254       0.140       0.136       0.159
>        0.155       0.220       0.174       0.243       0.295       0.159  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15732821    .15074417    .16574354    .15822312
D_gender_r~s            1    .15682077    .15091301     .1650471    .15750735
D_gender_r~s            1    .15658765    .15002088    .16481975    .15732696

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked     .1613688     .1545837    .15213053    .15047764    .16147623
D_gender_r~s    .16038603    .15483615    .15236328    .14960602    .16128984
D_gender_r~s    .16046417    .15452026    .15236864    .14871791    .16103398

                    fold9       fold10
D1_pystacked     .1699456    .14857482
D_gender_r~s    .16754514      .148703
D_gender_r~s    .16725659    .14933584
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1573282 | .1507442 | .1657435 | .1582231 | .1613688 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1545837 | .1521305 | .1504776 | .1614762 | .1699456 | .1485748 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1568208 |  .150913 | .1650471 | .1575074 |  .160386 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1548361 | .1523633 |  .149606 | .1612898 | .1675451 |  .148703 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1565877 | .1500209 | .1648197 |  .157327 | .1604642 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1545203 | .1523686 | .1487179 |  .161034 | .1672566 | .1493358 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_36931/gender_r_mse_plm_mse.dta not found)
file out_36931/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_36931/plm_mse.dta not found)
file out_36931/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_36931/results.dta not found)
file out_36931/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.106    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1041745    .016445    -6.33   0.000    -.1364061   -.0719429
       _cons |  -.0021962   .0063028    -0.35   0.728    -.0145495    .0101572
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.106    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1057781   .0165409    -6.39   0.000    -.1381976   -.0733586
       _cons |    -.00164   .0063276    -0.26   0.795    -.0140418    .0107618
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.104    (0.016)
  ss  1  [shortstack]          [ss]    -0.104    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1041745    .016445    -6.33   0.000    -.1364061   -.0719429
       _cons |  -.0021962   .0063028    -0.35   0.728    -.0145495    .0101572
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.105    (0.016)
  ss  1  [shortstack]          [ss]    -0.104    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1048387   .0164487    -6.37   0.000    -.1370775   -.0725998
       _cons |   -.002097    .006315    -0.33   0.740    -.0144742    .0102802
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08457548    .08457548
      ols            2    5.634e-17    5.634e-17
  lassocv            3    .25707593    .25707593
  ridgecv            4    5.509e-17    5.509e-17
  lassocv            5    4.759e-17    4.759e-17
  ridgecv            6    .00159897    .00159897
       rf            7    .39201952    .39201952
       rf            8    5.369e-17    5.369e-17
       rf            9    8.277e-17    8.277e-17
gradboost           10    .02748506    .02748506
gradboost           11    .20088216    .20088216
     nnet           12    .02021111    .02021111
     nnet           13    .01615178    .01615178

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03583925    .03583925
      ols            2    9.889e-17    9.889e-17
  lassocv            3    .08260116    .08260116
  ridgecv            4    .07448152    .07448152
  lassocv            5    .05000737    .05000737
  ridgecv            6    .17605209    .17605209
       rf            7    .41298442    .41298442
       rf            8    8.751e-17    8.751e-17
       rf            9    1.411e-16    1.411e-16
gradboost           10    .01644922    .01644922
gradboost           11    .12243388    .12243388
     nnet           12    .00934711    .00934711
     nnet           13    .01980399    .01980399

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08457548    .08457548
      ols            2    5.634e-17    5.634e-17
  lassocv            3    .25707593    .25707593
  ridgecv            4    5.509e-17    5.509e-17
  lassocv            5    4.759e-17    4.759e-17
  ridgecv            6    .00159897    .00159897
       rf            7    .39201952    .39201952
       rf            8    5.369e-17    5.369e-17
       rf            9    8.277e-17    8.277e-17
gradboost           10    .02748506    .02748506
gradboost           11    .20088216    .20088216
     nnet           12    .02021111    .02021111
     nnet           13    .01615178    .01615178

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03583925    .03583925
      ols            2    9.889e-17    9.889e-17
  lassocv            3    .08260116    .08260116
  ridgecv            4    .07448152    .07448152
  lassocv            5    .05000737    .05000737
  ridgecv            6    .17605209    .17605209
       rf            7    .41298442    .41298442
       rf            8    8.751e-17    8.751e-17
       rf            9    1.411e-16    1.411e-16
gradboost           10    .01644922    .01644922
gradboost           11    .12243388    .12243388
     nnet           12    .00934711    .00934711
     nnet           13    .01980399    .01980399

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .03583925    .03583925
      ols            2    9.889e-17    9.889e-17
  lassocv            3    .08260116    .08260116
  ridgecv            4    .07448152    .07448152
  lassocv            5    .05000737    .05000737
  ridgecv            6    .17605209    .17605209
       rf            7    .41298442    .41298442
       rf            8    8.751e-17    8.751e-17
       rf            9    1.411e-16    1.411e-16
gradboost           10    .01644922    .01644922
gradboost           11    .12243388    .12243388
     nnet           12    .00934711    .00934711
     nnet           13    .01980399    .01980399

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0358392   .0358392 |
   2. |        2   9.89e-17   9.89e-17 |
   3. |        3   .0826012   .0826012 |
   4. |        4   .0744815   .0744815 |
      +--------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_36931/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08457548    .08457548
      ols            2    5.634e-17    5.634e-17
  lassocv            3    .25707593    .25707593
  ridgecv            4    5.509e-17    5.509e-17
  lassocv            5    4.759e-17    4.759e-17
  ridgecv            6    .00159897    .00159897
       rf            7    .39201952    .39201952
       rf            8    5.369e-17    5.369e-17
       rf            9    8.277e-17    8.277e-17
gradboost           10    .02748506    .02748506
gradboost           11    .20088216    .20088216
     nnet           12    .02021111    .02021111
     nnet           13    .01615178    .01615178

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03583925    .03583925
      ols            2    9.889e-17    9.889e-17
  lassocv            3    .08260116    .08260116
  ridgecv            4    .07448152    .07448152
  lassocv            5    .05000737    .05000737
  ridgecv            6    .17605209    .17605209
       rf            7    .41298442    .41298442
       rf            8    8.751e-17    8.751e-17
       rf            9    1.411e-16    1.411e-16
gradboost           10    .01644922    .01644922
gradboost           11    .12243388    .12243388
     nnet           12    .00934711    .00934711
     nnet           13    .01980399    .01980399

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .08457548    .08457548
      ols            2    5.634e-17    5.634e-17
  lassocv            3    .25707593    .25707593
  ridgecv            4    5.509e-17    5.509e-17
  lassocv            5    4.759e-17    4.759e-17
  ridgecv            6    .00159897    .00159897
       rf            7    .39201952    .39201952
       rf            8    5.369e-17    5.369e-17
       rf            9    8.277e-17    8.277e-17
gradboost           10    .02748506    .02748506
gradboost           11    .20088216    .20088216
     nnet           12    .02021111    .02021111
     nnet           13    .01615178    .01615178

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0845755   .0845755 |
   2. |        2   5.63e-17   5.63e-17 |
   3. |        3   .2570759   .2570759 |
   4. |        4   5.51e-17   5.51e-17 |
      +--------------------------------+
(note: file out_36931/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_36931/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .17870465    .17870465
      ols            2    9.233e-17    9.233e-17
  lassocv            3     .1655108     .1655108
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .44536442    .44536442
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .21042014    .21042014
     nnet           12            0            0
     nnet           13    1.095e-16    1.095e-16

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    1.379e-16    1.379e-16
      ols            2    1.566e-16    1.566e-16
  lassocv            3    1.080e-16    1.080e-16
  ridgecv            4    1.983e-16    1.983e-16
  lassocv            5    7.175e-17    7.175e-17
  ridgecv            6    .42430928    .42430928
       rf            7    .35197158    .35197158
       rf            8    5.180e-17    5.180e-17
       rf            9    2.749e-16    2.749e-16
gradboost           10     .0715962     .0715962
gradboost           11    .15212295    .15212295
     nnet           12    2.817e-16    2.817e-16
     nnet           13    2.193e-16    2.193e-16

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    1.379e-16    1.379e-16
      ols            2    1.566e-16    1.566e-16
  lassocv            3    1.080e-16    1.080e-16
  ridgecv            4    1.983e-16    1.983e-16
  lassocv            5    7.175e-17    7.175e-17
  ridgecv            6    .42430928    .42430928
       rf            7    .35197158    .35197158
       rf            8    5.180e-17    5.180e-17
       rf            9    2.749e-16    2.749e-16
gradboost           10     .0715962     .0715962
gradboost           11    .15212295    .15212295
     nnet           12    2.817e-16    2.817e-16
     nnet           13    2.193e-16    2.193e-16

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |  2.620841          1   1.38e-16   1.38e-16 |
   2. | 3.1625793          2   1.57e-16   1.57e-16 |
   3. |  2.819393          3   1.08e-16   1.08e-16 |
   4. | 2.4754234          4   1.98e-16   1.98e-16 |
      +--------------------------------------------+
(note: file out_36931/Y_lnearn_ss_nnls1_short.dta not found)
file out_36931/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .17870465    .17870465
      ols            2    9.233e-17    9.233e-17
  lassocv            3     .1655108     .1655108
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .44536442    .44536442
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .21042014    .21042014
     nnet           12            0            0
     nnet           13    1.095e-16    1.095e-16

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71709711          1   .1787046   .1787046 |
   2. | .44042135          2   9.23e-17   9.23e-17 |
   3. | .11839602          3   .1655108   .1655108 |
   4. | .31467174          4          0          0 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ss_nnls1_short.dta not found)
file out_36931/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02450749    .02450749
      ols            2    3.799e-16    3.799e-16
  lassocv            3    .16138544    .16138544
  ridgecv            4    .09826729    .09826729
  lassocv            5            0            0
  ridgecv            6     .1010848     .1010848
       rf            7    .45115905    .45115905
       rf            8    3.517e-16    3.517e-16
       rf            9    6.129e-17    6.129e-17
gradboost           10    2.520e-16    2.520e-16
gradboost           11    .14086447    .14086447
     nnet           12    6.193e-16    6.193e-16
     nnet           13    .02273146    .02273146

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6108343          1   .0245075   .0245075 |
   2. | 3.1535195          2   3.80e-16   3.80e-16 |
   3. |  2.825121          3   .1613854   .1613854 |
   4. | 2.4836125          4   .0982673   .0982673 |
      +--------------------------------------------+
(note: file out_36931/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_36931/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .06983065    .06983065
      ols            2            0            0
  lassocv            3    .29732959    .29732959
  ridgecv            4            0            0
  lassocv            5    5.331e-16    5.331e-16
  ridgecv            6    3.102e-16    3.102e-16
       rf            7    .40393519    .40393519
       rf            8            0            0
       rf            9    3.145e-15    3.145e-15
gradboost           10            0            0
gradboost           11    .21752399    .21752399
     nnet           12    1.411e-16    1.411e-16
     nnet           13    .01138059    .01138059

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71613669          1   .0698306   .0698306 |
   2. | .43592334          2          0          0 |
   3. | .12588776          3   .2973296   .2973296 |
   4. | .31345818          4          0          0 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ps_nnls1_pooled.dta not found)
file out_36931/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.104    (0.016)
  ss  1  [shortstack]          [ss]    -0.098    (0.016)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0984796   .0162691    -6.05   0.000    -.1303664   -.0665928
       _cons |  -.0010688   .0063895    -0.17   0.867     -.013592    .0114543
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.104    (0.016)
  ss  1  [shortstack]          [ss]    -0.098    (0.016)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1036542   .0163708    -6.33   0.000    -.1357404    -.071568
       _cons |  -.0009978    .006443    -0.15   0.877    -.0136258    .0116303
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.098    (0.016)
  ss  1  [shortstack]          [ss]    -0.098    (0.016)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0984796   .0162691    -6.05   0.000    -.1303664   -.0665928
       _cons |  -.0010688   .0063895    -0.17   0.867     -.013592    .0114543
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.108    (0.017)
  ss  1  [shortstack]          [ss]    -0.098    (0.016)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1081972   .0166354    -6.50   0.000     -.140802   -.0755923
       _cons |  -.0029675   .0063885    -0.46   0.642    -.0154888    .0095537
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .3           .3
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .3           .3
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .3           .3
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .1         .1 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_36931/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .3           .3
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .6         .6 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_36931/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_36931/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6347899          1          0          0 |
   2. | 3.1467297          2          0          0 |
   3. | 2.8158879          3          0          0 |
   4. | 2.4530172          4          0          0 |
      +--------------------------------------------+
(note: file out_36931/Y_lnearn_ss_singlebest_short.dta not found)
file out_36931/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75400001          1          0          0 |
   2. | .51599997          2          0          0 |
   3. |       .13          3          0          0 |
   4. |      .214          4          0          0 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ss_singlebest_short.dta not found)
file out_36931/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |  2.583617          1          0          0 |
   2. | 3.0539806          2          0          0 |
   3. | 2.8516467          3          0          0 |
   4. | 2.5104506          4          0          0 |
      +--------------------------------------------+
(note: file out_36931/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_36931/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .68212616          1          0          0 |
   2. | .37094787          2          0          0 |
   3. | .21059774          3          1          1 |
   4. | .39978138          4          0          0 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ps_singlebest_pooled.dta not found)
file out_36931/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -1.013    (0.026)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1024841   .0164045    -6.25   0.000    -.1346363    -.070332
       _cons |  -.1280306   .0062717   -20.41   0.000    -.1403229   -.1157384
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -1.013    (0.026)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -1.01272      .0255   -39.71   0.000    -1.062699    -.962741
       _cons |   1.581583   .0237706    66.54   0.000     1.534994    1.628173
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.102    (0.016)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1024841   .0164045    -6.25   0.000    -.1346363    -.070332
       _cons |  -.1280306   .0062717   -20.41   0.000    -.1403229   -.1157384
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.105    (0.016)
  ss  1  [shortstack]          [ss]    -0.102    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.016)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049508   .0164912    -6.36   0.000     -.137273   -.0726285
       _cons |  -.0866388   .0062098   -13.95   0.000    -.0988098   -.0744678
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07100691    .07100691
      ols            2    .18061815    .18061815
  lassocv            3    .37474775    .37474775
  ridgecv            4    .10256013    .10256013
  lassocv            5   -.22424111   -.22424111
  ridgecv            6   -.01373517   -.01373517
       rf            7    .48963272    .48963272
       rf            8    .61235826    .61235826
       rf            9   -.74668811   -.74668811
gradboost           10     .1284332     .1284332
gradboost           11    .10181994    .10181994
     nnet           12   -.36138483   -.36138483
     nnet           13    .01452818    .01452818

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01150465    .01150465
      ols            2   -.00838065   -.00838065
  lassocv            3   -.00672148   -.00672148
  ridgecv            4    .16274166    .16274166
  lassocv            5    .01811257    .01811257
  ridgecv            6    .29633132    .29633132
       rf            7    .54733609    .54733609
       rf            8    .22893308    .22893308
       rf            9   -.40719409   -.40719409
gradboost           10    .10742687    .10742687
gradboost           11    .04514352    .04514352
     nnet           12   -.51571188   -.51571188
     nnet           13    .00955899    .00955899

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07100691    .07100691
      ols            2    .18061815    .18061815
  lassocv            3    .37474775    .37474775
  ridgecv            4    .10256013    .10256013
  lassocv            5   -.22424111   -.22424111
  ridgecv            6   -.01373517   -.01373517
       rf            7    .48963272    .48963272
       rf            8    .61235826    .61235826
       rf            9   -.74668811   -.74668811
gradboost           10     .1284332     .1284332
gradboost           11    .10181994    .10181994
     nnet           12   -.36138483   -.36138483
     nnet           13    .01452818    .01452818

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01150465    .01150465
      ols            2   -.00838065   -.00838065
  lassocv            3   -.00672148   -.00672148
  ridgecv            4    .16274166    .16274166
  lassocv            5    .01811257    .01811257
  ridgecv            6    .29633132    .29633132
       rf            7    .54733609    .54733609
       rf            8    .22893308    .22893308
       rf            9   -.40719409   -.40719409
gradboost           10    .10742687    .10742687
gradboost           11    .04514352    .04514352
     nnet           12   -.51571188   -.51571188
     nnet           13    .00955899    .00955899

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01150465    .01150465
      ols            2   -.00838065   -.00838065
  lassocv            3   -.00672148   -.00672148
  ridgecv            4    .16274166    .16274166
  lassocv            5    .01811257    .01811257
  ridgecv            6    .29633132    .29633132
       rf            7    .54733609    .54733609
       rf            8    .22893308    .22893308
       rf            9   -.40719409   -.40719409
gradboost           10    .10742687    .10742687
gradboost           11    .04514352    .04514352
     nnet           12   -.51571188   -.51571188
     nnet           13    .00955899    .00955899

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1    .0115046    .0115046 |
   2. |        2   -.0083806   -.0083806 |
   3. |        3   -.0067215   -.0067215 |
   4. |        4    .1627417    .1627417 |
      +----------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_36931/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07100691    .07100691
      ols            2    .18061815    .18061815
  lassocv            3    .37474775    .37474775
  ridgecv            4    .10256013    .10256013
  lassocv            5   -.22424111   -.22424111
  ridgecv            6   -.01373517   -.01373517
       rf            7    .48963272    .48963272
       rf            8    .61235826    .61235826
       rf            9   -.74668811   -.74668811
gradboost           10     .1284332     .1284332
gradboost           11    .10181994    .10181994
     nnet           12   -.36138483   -.36138483
     nnet           13    .01452818    .01452818

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01150465    .01150465
      ols            2   -.00838065   -.00838065
  lassocv            3   -.00672148   -.00672148
  ridgecv            4    .16274166    .16274166
  lassocv            5    .01811257    .01811257
  ridgecv            6    .29633132    .29633132
       rf            7    .54733609    .54733609
       rf            8    .22893308    .22893308
       rf            9   -.40719409   -.40719409
gradboost           10    .10742687    .10742687
gradboost           11    .04514352    .04514352
     nnet           12   -.51571188   -.51571188
     nnet           13    .00955899    .00955899

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07100691    .07100691
      ols            2    .18061815    .18061815
  lassocv            3    .37474775    .37474775
  ridgecv            4    .10256013    .10256013
  lassocv            5   -.22424111   -.22424111
  ridgecv            6   -.01373517   -.01373517
       rf            7    .48963272    .48963272
       rf            8    .61235826    .61235826
       rf            9   -.74668811   -.74668811
gradboost           10     .1284332     .1284332
gradboost           11    .10181994    .10181994
     nnet           12   -.36138483   -.36138483
     nnet           13    .01452818    .01452818

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0710069   .0710069 |
   2. |        2   .1806182   .1806182 |
   3. |        3   .3747478   .3747478 |
   4. |        4   .1025601   .1025601 |
      +--------------------------------+
(note: file out_36931/D1_pystacked_w_mn_ols_regular.dta not found)
file out_36931/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .15848561    .15848561
      ols            2     .1559768     .1559768
  lassocv            3    .65787473    .65787473
  ridgecv            4    .05446949    .05446949
  lassocv            5   -.49797214   -.49797214
  ridgecv            6   -.04121269   -.04121269
       rf            7    .56184462    .56184462
       rf            8    .53629714    .53629714
       rf            9    -.6932148    -.6932148
gradboost           10    .07875087    .07875087
gradboost           11    .14393781    .14393781
     nnet           12   -.10365002   -.10365002
     nnet           13   -.00487242   -.00487242

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    -.0250711    -.0250711
      ols            2    .03206593    .03206593
  lassocv            3   -.19721052   -.19721052
  ridgecv            4    .13603668    .13603668
  lassocv            5   -.02038972   -.02038972
  ridgecv            6    .56452177    .56452177
       rf            7    .57698471    .57698471
       rf            8   -.19028077   -.19028077
       rf            9   -.12400995   -.12400995
gradboost           10    .24160871    .24160871
gradboost           11    .06793494    .06793494
     nnet           12    .01369751    .01369751
     nnet           13   -.03092977   -.03092977

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    -.0250711    -.0250711
      ols            2    .03206593    .03206593
  lassocv            3   -.19721052   -.19721052
  ridgecv            4    .13603668    .13603668
  lassocv            5   -.02038972   -.02038972
  ridgecv            6    .56452177    .56452177
       rf            7    .57698471    .57698471
       rf            8   -.19028077   -.19028077
       rf            9   -.12400995   -.12400995
gradboost           10    .24160871    .24160871
gradboost           11    .06793494    .06793494
     nnet           12    .01369751    .01369751
     nnet           13   -.03092977   -.03092977

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.7342416          1   -.0250711   -.0250711 |
   2. | 3.2944844          2    .0320659    .0320659 |
   3. | 2.9499715          3   -.1972105   -.1972105 |
   4. | 2.5857507          4    .1360367    .1360367 |
      +----------------------------------------------+
(note: file out_36931/Y_lnearn_ss_ols_short.dta not found)
file out_36931/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .15848561    .15848561
      ols            2     .1559768     .1559768
  lassocv            3    .65787473    .65787473
  ridgecv            4    .05446949    .05446949
  lassocv            5   -.49797214   -.49797214
  ridgecv            6   -.04121269   -.04121269
       rf            7    .56184462    .56184462
       rf            8    .53629714    .53629714
       rf            9    -.6932148    -.6932148
gradboost           10    .07875087    .07875087
gradboost           11    .14393781    .14393781
     nnet           12   -.10365002   -.10365002
     nnet           13   -.00487242   -.00487242

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .68087627          1   .1584856   .1584856 |
   2. | .43164721          2   .1559768   .1559768 |
   3. | .10670153          3   .6578747   .6578747 |
   4. | .19415221          4   .0544695   .0544695 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ss_ols_short.dta not found)
file out_36931/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .00776275    .00776275
      ols            2   -.01228424   -.01228424
  lassocv            3    .13669086    .13669086
  ridgecv            4    .25605635    .25605635
  lassocv            5   -.12629196   -.12629196
  ridgecv            6    .19669026    .19669026
       rf            7    .56308012    .56308012
       rf            8    .23803918    .23803918
       rf            9   -.42293282   -.42293282
gradboost           10    .10980297    .10980297
gradboost           11    .05539428    .05539428
     nnet           12    .01314118    .01314118
     nnet           13    .01291978    .01291978

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6659427          1    .0077628    .0077628 |
   2. | 3.2240824          2   -.0122842   -.0122842 |
   3. |  2.900898          3    .1366909    .1366909 |
   4. | 2.5455169          4    .2560563    .2560563 |
      +----------------------------------------------+
(note: file out_36931/Y_lnearn_ps_ols_pooled.dta not found)
file out_36931/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .05529243    .05529243
      ols            2     .1833645     .1833645
  lassocv            3    .38396482    .38396482
  ridgecv            4    .11894755    .11894755
  lassocv            5   -.22370867   -.22370867
  ridgecv            6   -.01146642   -.01146642
       rf            7    .49542729    .49542729
       rf            8    .62004082    .62004082
       rf            9   -.75956723   -.75956723
gradboost           10    .12269751    .12269751
gradboost           11    .11019087    .11019087
     nnet           12    .00173074    .00173074
     nnet           13    .01087683    .01087683

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77636457          1   .0552924   .0552924 |
   2. | .49030864          2   .1833645   .1833645 |
   3. | .12924981          3   .3839648   .3839648 |
   4. | .25725045          4   .1189475   .1189475 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ps_ols_pooled.dta not found)
file out_36931/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.108    (0.017)
  ss  1  [shortstack]          [ss]    -0.108    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1084516   .0167504    -6.47   0.000    -.1412819   -.0756214
       _cons |  -.0013128   .0063968    -0.21   0.837    -.0138503    .0112247
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.108    (0.017)
  ss  1  [shortstack]          [ss]    -0.108    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1084516   .0167504    -6.47   0.000    -.1412819   -.0756214
       _cons |  -.0013128   .0063968    -0.21   0.837    -.0138503    .0112247
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.108    (0.017)
  ss  1  [shortstack]          [ss]    -0.108    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1084516   .0167504    -6.47   0.000    -.1412819   -.0756214
       _cons |  -.0013128   .0063968    -0.21   0.837    -.0138503    .0112247
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.108    (0.017)
  ss  1  [shortstack]          [ss]    -0.108    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1084516   .0167504    -6.47   0.000    -.1412819   -.0756214
       _cons |  -.0013128   .0063968    -0.21   0.837    -.0138503    .0112247
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_36931/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_36931/D1_pystacked_w_mn_avg_regular.dta not found)
file out_36931/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |   2.65917          1   .0769231   .0769231 |
   2. | 3.1522662          2   .0769231   .0769231 |
   3. | 2.8140942          3   .0769231   .0769231 |
   4. | 2.5152736          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_36931/Y_lnearn_ss_avg_short.dta not found)
file out_36931/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72381665          1   .0769231   .0769231 |
   2. | .42594428          2   .0769231   .0769231 |
   3. | .18305728          3   .0769231   .0769231 |
   4. | .40566526          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ss_avg_short.dta not found)
file out_36931/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |   2.65917          1   .0769231   .0769231 |
   2. | 3.1522662          2   .0769231   .0769231 |
   3. | 2.8140942          3   .0769231   .0769231 |
   4. | 2.5152736          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_36931/Y_lnearn_ps_avg_pooled.dta not found)
file out_36931/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72381665          1   .0769231   .0769231 |
   2. | .42594428          2   .0769231   .0769231 |
   3. | .18305728          3   .0769231   .0769231 |
   4. | .40566526          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ps_avg_pooled.dta not found)
file out_36931/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030689   .0191597    -5.38   0.000    -.1406212   -.0655166
       _cons |  -.0002827    .006778    -0.04   0.967    -.0135673    .0130019
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1211169   .0153968    -7.87   0.000    -.1512941   -.0909397
       _cons |  -.0005784   .0068577    -0.08   0.933    -.0140193    .0128625
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.102216   .0166289    -6.15   0.000    -.1348082   -.0696239
       _cons |  -.0003572   .0064126    -0.06   0.956    -.0129256    .0122112
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011694   .0165834    -6.10   0.000    -.1336723   -.0686665
       _cons |   -.000408   .0064157    -0.06   0.949    -.0129825    .0121665
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1045375   .0165556    -6.31   0.000     -.136986   -.0720891
       _cons |  -.0014882   .0063987    -0.23   0.816    -.0140294    .0110531
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1057271   .0167069    -6.33   0.000    -.1384721   -.0729821
       _cons |  -.0011845   .0063816    -0.19   0.853    -.0136923    .0113233
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.104779   .0163324    -6.42   0.000      -.13679    -.072768
       _cons |  -.0027567   .0063955    -0.43   0.666    -.0152918    .0097783
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1118944     .01687    -6.63   0.000    -.1449589   -.0788298
       _cons |    .000281   .0066336     0.04   0.966    -.0127206    .0132826
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1137427   .0166671    -6.82   0.000    -.1464097   -.0810758
       _cons |   .0001228   .0067539     0.02   0.985    -.0131146    .0133601
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0917119   .0163515    -5.61   0.000    -.1237602   -.0596637
       _cons |  -.0017681   .0064211    -0.28   0.783    -.0143533     .010817
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0897329   .0162088    -5.54   0.000    -.1215016   -.0579642
       _cons |  -.0042597   .0065512    -0.65   0.516    -.0170997    .0085803
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1120581   .0168152    -6.66   0.000    -.1450153   -.0791009
       _cons |   -.002638   .0079884    -0.33   0.741    -.0182949     .013019
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0857115   .0218072    -3.93   0.000    -.1284527   -.0429702
       _cons |  -.0019459   .0080983    -0.24   0.810    -.0178183    .0139264
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.084    (0.021)
  ss  1  [shortstack]          [ss]    -0.096    (0.017)
  ps  1   [poolstack]          [ps]    -0.096    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0956368   .0167428    -5.71   0.000    -.1284521   -.0628216
       _cons |  -.0016691   .0063102    -0.26   0.791    -.0140369    .0106986
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.146       0.147       0.168       0.171
>        0.135       0.158       0.156       0.167       0.165       0.153  
   D_gender_r_ps   1      0.157       0.146       0.148       0.168       0.170
>        0.135       0.160       0.157       0.166       0.165       0.152  
   D_gender_r_ss   1      0.156       0.145       0.147       0.168       0.169
>        0.135       0.160       0.156       0.168       0.165       0.151  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.212       0.179       0.196       0.193       0.160
>        0.149       0.222       0.285       0.376       0.149       0.213  
     Y_lnearn_ps   1      0.194       0.177       0.195       0.195       0.159
>        0.144       0.223       0.284       0.204       0.148       0.212  
     Y_lnearn_ss   1      0.194       0.178       0.196       0.195       0.158
>        0.143       0.224       0.284       0.198       0.148       0.212  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .21197824    .17863468    .19628446    .19276256
 Y_lnearn_ps            1    .19410272     .1770466    .19532993    .19528611
 Y_lnearn_ss            1    .19363902    .17762163    .19627527    .19542795

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .15971128    .14882642    .22216165    .28484198    .37551005
 Y_lnearn_ps    .15906774    .14351889    .22292526    .28408773    .20351607
 Y_lnearn_ss    .15843281    .14328721    .22371676    .28398916    .19753798

                    fold9       fold10
Y1_pystacked    .14862534    .21267429
 Y_lnearn_ps    .14813686     .2121582
 Y_lnearn_ss    .14774905     .2123932
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .2119782 | .1786347 | .1962845 | .1927626 | .1597113 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1488264 | .2221617 |  .284842 |   .37551 | .1486253 | .2126743 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1941027 | .1770466 | .1953299 | .1952861 | .1590677 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1435189 | .2229253 | .2840877 | .2035161 | .1481369 | .2121582 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |  .193639 | .1776216 | .1962753 |  .195428 | .1584328 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1432872 | .2237168 | .2839892 |  .197538 | .1477491 | .2123932 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_26898/lnearn_mse_plm_mse.dta not found)
file out_26898/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.157       0.146       0.147       0.168       0.171
>        0.135       0.158       0.156       0.167       0.165       0.153  
   D_gender_r_ps   1      0.157       0.146       0.148       0.168       0.170
>        0.135       0.160       0.157       0.166       0.165       0.152  
   D_gender_r_ss   1      0.156       0.145       0.147       0.168       0.169
>        0.135       0.160       0.156       0.168       0.165       0.151  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.212       0.179       0.196       0.193       0.160
>        0.149       0.222       0.285       0.376       0.149       0.213  
     Y_lnearn_ps   1      0.194       0.177       0.195       0.195       0.159
>        0.144       0.223       0.284       0.204       0.148       0.212  
     Y_lnearn_ss   1      0.194       0.178       0.196       0.195       0.158
>        0.143       0.224       0.284       0.198       0.148       0.212  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15669753    .14563338    .14742148    .16835106
D_gender_r~s            1    .15672787    .14559475    .14787457     .1682119
D_gender_r~s            1    .15646456     .1453888    .14698984    .16834212

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .17073566    .13539328    .15847373    .15585345       .16705
D_gender_r~s    .17046388    .13511135    .15995449    .15675404     .1655968
D_gender_r~s    .16935361    .13473651    .15968891    .15579651    .16808363

                    fold9       fold10
D1_pystacked    .16548537    .15260415
D_gender_r~s    .16534642    .15239622
D_gender_r~s    .16524884    .15104919
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1566975 | .1456334 | .1474215 | .1683511 | .1707357 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1353933 | .1584737 | .1558535 |   .16705 | .1654854 | .1526041 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1567279 | .1455947 | .1478746 | .1682119 | .1704639 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1351113 | .1599545 |  .156754 | .1655968 | .1653464 | .1523962 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1564646 | .1453888 | .1469898 | .1683421 | .1693536 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1347365 | .1596889 | .1557965 | .1680836 | .1652488 | .1510492 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_26898/gender_r_mse_plm_mse.dta not found)
file out_26898/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_26898/plm_mse.dta not found)
file out_26898/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_26898/results.dta not found)
file out_26898/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.084    (0.021)
  ss  1  [shortstack]          [ss]    -0.096    (0.017)
  ps  1   [poolstack]          [ps]    -0.096    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0956368   .0167428    -5.71   0.000    -.1284521   -.0628216
       _cons |  -.0016691   .0063102    -0.26   0.791    -.0140369    .0106986
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.084    (0.021)
  ss  1  [shortstack]          [ss]    -0.096    (0.017)
  ps  1   [poolstack]          [ps]    -0.096    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0836022   .0206526    -4.05   0.000    -.1240806   -.0431237
       _cons |   .0016003   .0066046     0.24   0.809    -.0113445    .0145451
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.096    (0.017)
  ss  1  [shortstack]          [ss]    -0.096    (0.017)
  ps  1   [poolstack]          [ps]    -0.096    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0956368   .0167428    -5.71   0.000    -.1284521   -.0628216
       _cons |  -.0016691   .0063102    -0.26   0.791    -.0140369    .0106986
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.096    (0.017)
  ss  1  [shortstack]          [ss]    -0.096    (0.017)
  ps  1   [poolstack]          [ps]    -0.096    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0963142   .0166947    -5.77   0.000    -.1290351   -.0635932
       _cons |  -.0013696   .0063175    -0.22   0.828    -.0137516    .0110124
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06476027    .06476027
      ols            2    .00117494    .00117494
  lassocv            3    .26634813    .26634813
  ridgecv            4    6.867e-17    6.867e-17
  lassocv            5    2.155e-17    2.155e-17
  ridgecv            6    2.691e-17    2.691e-17
       rf            7    .42157812    .42157812
       rf            8    6.693e-17    6.693e-17
       rf            9    1.335e-16    1.335e-16
gradboost           10    .00169615    .00169615
gradboost           11    .21361604    .21361604
     nnet           12    .00974364    .00974364
     nnet           13    .02108272    .02108272

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .01728566    .01728566
      ols            2    1.344e-16    1.344e-16
  lassocv            3    .07751674    .07751674
  ridgecv            4    .04584499    .04584499
  lassocv            5    .15498253    .15498253
  ridgecv            6    .11317758    .11317758
       rf            7    .41309529    .41309529
       rf            8    9.413e-17    9.413e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01624782    .01624782
gradboost           11    .11805292    .11805292
     nnet           12    .01554368    .01554368
     nnet           13     .0282528     .0282528

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06476027    .06476027
      ols            2    .00117494    .00117494
  lassocv            3    .26634813    .26634813
  ridgecv            4    6.867e-17    6.867e-17
  lassocv            5    2.155e-17    2.155e-17
  ridgecv            6    2.691e-17    2.691e-17
       rf            7    .42157812    .42157812
       rf            8    6.693e-17    6.693e-17
       rf            9    1.335e-16    1.335e-16
gradboost           10    .00169615    .00169615
gradboost           11    .21361604    .21361604
     nnet           12    .00974364    .00974364
     nnet           13    .02108272    .02108272

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .01728566    .01728566
      ols            2    1.344e-16    1.344e-16
  lassocv            3    .07751674    .07751674
  ridgecv            4    .04584499    .04584499
  lassocv            5    .15498253    .15498253
  ridgecv            6    .11317758    .11317758
       rf            7    .41309529    .41309529
       rf            8    9.413e-17    9.413e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01624782    .01624782
gradboost           11    .11805292    .11805292
     nnet           12    .01554368    .01554368
     nnet           13     .0282528     .0282528

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01728566    .01728566
      ols            2    1.344e-16    1.344e-16
  lassocv            3    .07751674    .07751674
  ridgecv            4    .04584499    .04584499
  lassocv            5    .15498253    .15498253
  ridgecv            6    .11317758    .11317758
       rf            7    .41309529    .41309529
       rf            8    9.413e-17    9.413e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01624782    .01624782
gradboost           11    .11805292    .11805292
     nnet           12    .01554368    .01554368
     nnet           13     .0282528     .0282528

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0172857   .0172857 |
   2. |        2   1.34e-16   1.34e-16 |
   3. |        3   .0775167   .0775167 |
   4. |        4    .045845    .045845 |
      +--------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_26898/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06476027    .06476027
      ols            2    .00117494    .00117494
  lassocv            3    .26634813    .26634813
  ridgecv            4    6.867e-17    6.867e-17
  lassocv            5    2.155e-17    2.155e-17
  ridgecv            6    2.691e-17    2.691e-17
       rf            7    .42157812    .42157812
       rf            8    6.693e-17    6.693e-17
       rf            9    1.335e-16    1.335e-16
gradboost           10    .00169615    .00169615
gradboost           11    .21361604    .21361604
     nnet           12    .00974364    .00974364
     nnet           13    .02108272    .02108272

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .01728566    .01728566
      ols            2    1.344e-16    1.344e-16
  lassocv            3    .07751674    .07751674
  ridgecv            4    .04584499    .04584499
  lassocv            5    .15498253    .15498253
  ridgecv            6    .11317758    .11317758
       rf            7    .41309529    .41309529
       rf            8    9.413e-17    9.413e-17
       rf            9    1.050e-16    1.050e-16
gradboost           10    .01624782    .01624782
gradboost           11    .11805292    .11805292
     nnet           12    .01554368    .01554368
     nnet           13     .0282528     .0282528

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .06476027    .06476027
      ols            2    .00117494    .00117494
  lassocv            3    .26634813    .26634813
  ridgecv            4    6.867e-17    6.867e-17
  lassocv            5    2.155e-17    2.155e-17
  ridgecv            6    2.691e-17    2.691e-17
       rf            7    .42157812    .42157812
       rf            8    6.693e-17    6.693e-17
       rf            9    1.335e-16    1.335e-16
gradboost           10    .00169615    .00169615
gradboost           11    .21361604    .21361604
     nnet           12    .00974364    .00974364
     nnet           13    .02108272    .02108272

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0647603   .0647603 |
   2. |        2   .0011749   .0011749 |
   3. |        3   .2663481   .2663481 |
   4. |        4   6.87e-17   6.87e-17 |
      +--------------------------------+
(note: file out_26898/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_26898/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .11466425    .11466425
      ols            2    1.912e-16    1.912e-16
  lassocv            3    .23103923    .23103923
  ridgecv            4    1.135e-16    1.135e-16
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .38780027    .38780027
       rf            8    4.490e-18    4.490e-18
       rf            9            0            0
gradboost           10            0            0
gradboost           11     .2630518     .2630518
     nnet           12            0            0
     nnet           13    .00344445    .00344445

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    1.813e-18    1.813e-18
      ols            2    1.067e-17    1.067e-17
  lassocv            3    .12432255    .12432255
  ridgecv            4    .17589395    .17589395
  lassocv            5    1.423e-16    1.423e-16
  ridgecv            6    2.231e-17    2.231e-17
       rf            7    .43286806    .43286806
       rf            8    2.438e-17    2.438e-17
       rf            9    7.328e-17    7.328e-17
gradboost           10    7.649e-17    7.649e-17
gradboost           11    .23225888    .23225888
     nnet           12    1.807e-16    1.807e-16
     nnet           13    .03465656    .03465656

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    1.813e-18    1.813e-18
      ols            2    1.067e-17    1.067e-17
  lassocv            3    .12432255    .12432255
  ridgecv            4    .17589395    .17589395
  lassocv            5    1.423e-16    1.423e-16
  ridgecv            6    2.231e-17    2.231e-17
       rf            7    .43286806    .43286806
       rf            8    2.438e-17    2.438e-17
       rf            9    7.328e-17    7.328e-17
gradboost           10    7.649e-17    7.649e-17
gradboost           11    .23225888    .23225888
     nnet           12    1.807e-16    1.807e-16
     nnet           13    .03465656    .03465656

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5891351          1   1.81e-18   1.81e-18 |
   2. | 3.1213949          2   1.07e-17   1.07e-17 |
   3. | 2.8402105          3   .1243225   .1243225 |
   4. | 2.5087149          4   .1758939   .1758939 |
      +--------------------------------------------+
(note: file out_26898/Y_lnearn_ss_nnls1_short.dta not found)
file out_26898/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .11466425    .11466425
      ols            2    1.912e-16    1.912e-16
  lassocv            3    .23103923    .23103923
  ridgecv            4    1.135e-16    1.135e-16
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .38780027    .38780027
       rf            8    4.490e-18    4.490e-18
       rf            9            0            0
gradboost           10            0            0
gradboost           11     .2630518     .2630518
     nnet           12            0            0
     nnet           13    .00344445    .00344445

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76123642          1   .1146643   .1146643 |
   2. |  .3984043          2   1.91e-16   1.91e-16 |
   3. | .13627754          3   .2310392   .2310392 |
   4. | .27599446          4   1.13e-16   1.13e-16 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ss_nnls1_short.dta not found)
file out_26898/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1     .0271962     .0271962
      ols            2    8.961e-16    8.961e-16
  lassocv            3    .23016824    .23016824
  ridgecv            4    .10472751    .10472751
  lassocv            5    2.838e-16    2.838e-16
  ridgecv            6     .0321028     .0321028
       rf            7    .44033126    .44033126
       rf            8    2.596e-16    2.596e-16
       rf            9    6.189e-16    6.189e-16
gradboost           10            0            0
gradboost           11    .13914885    .13914885
     nnet           12    3.787e-15    3.787e-15
     nnet           13    .02632514    .02632514

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5892818          1   .0271962   .0271962 |
   2. | 3.1190367          2   8.96e-16   8.96e-16 |
   3. | 2.8356201          3   .2301682   .2301682 |
   4. | 2.5090172          4   .1047275   .1047275 |
      +--------------------------------------------+
(note: file out_26898/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_26898/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02780084    .02780084
      ols            2            0            0
  lassocv            3    .30707616    .30707616
  ridgecv            4    2.140e-16    2.140e-16
  lassocv            5    1.151e-16    1.151e-16
  ridgecv            6    2.495e-16    2.495e-16
       rf            7     .4189404     .4189404
       rf            8    1.807e-16    1.807e-16
       rf            9    8.083e-16    8.083e-16
gradboost           10    8.308e-17    8.308e-17
gradboost           11    .22351214    .22351214
     nnet           12    1.764e-16    1.764e-16
     nnet           13    .02267047    .02267047

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76193667          1   .0278008   .0278008 |
   2. | .39926913          2          0          0 |
   3. | .13947205          3   .3070762   .3070762 |
   4. | .26887015          4   2.14e-16   2.14e-16 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ps_nnls1_pooled.dta not found)
file out_26898/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.089    (0.025)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1037563   .0167445    -6.20   0.000    -.1365749   -.0709377
       _cons |  -.0037931   .0063777    -0.59   0.552    -.0162931    .0087069
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.089    (0.025)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0885104   .0252455    -3.51   0.000    -.1379907   -.0390302
       _cons |   .0041238   .0082408     0.50   0.617    -.0120278    .0202754
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1037563   .0167445    -6.20   0.000    -.1365749   -.0709377
       _cons |  -.0037931   .0063777    -0.59   0.552    -.0162931    .0087069
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]    -0.104    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1003494    .016503    -6.08   0.000    -.1326947   -.0680041
       _cons |  -.0035403    .006386    -0.55   0.579    -.0160565     .008976
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .8           .8
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .8           .8
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3          0          0 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_26898/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .8           .8
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .2           .2
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .8           .8
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .2         .2 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_26898/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_26898/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5566738          1          0          0 |
   2. | 3.0564551          2          0          0 |
   3. | 2.8390148          3          0          0 |
   4. | 2.5136676          4          0          0 |
      +--------------------------------------------+
(note: file out_26898/Y_lnearn_ss_singlebest_short.dta not found)
file out_26898/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7226373          1          0          0 |
   2. | .35832474          2          0          0 |
   3. | .20955198          3          1          1 |
   4. | .37818033          4          0          0 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ss_singlebest_short.dta not found)
file out_26898/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5566738          1          0          0 |
   2. | 3.0564551          2          0          0 |
   3. | 2.8390148          3          0          0 |
   4. | 2.5136676          4          0          0 |
      +--------------------------------------------+
(note: file out_26898/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_26898/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |      .792          1          0          0 |
   2. | .43000001          2          0          0 |
   3. |      .146          3          0          0 |
   4. |      .162          4          0          0 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ps_singlebest_pooled.dta not found)
file out_26898/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.379    (0.024)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1007752   .0167248    -6.03   0.000    -.1335552   -.0679953
       _cons |   .0628234   .0062313    10.08   0.000     .0506103    .0750365
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.379    (0.024)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.3791592   .0235245   -16.12   0.000    -.4252664    -.333052
       _cons |   .3104476   .0122601    25.32   0.000     .2864182     .334477
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1007752   .0167248    -6.03   0.000    -.1335552   -.0679953
       _cons |   .0628234   .0062313    10.08   0.000     .0506103    .0750365
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1008242   .0166801    -6.04   0.000    -.1335165   -.0681319
       _cons |  -.1231053   .0062122   -19.82   0.000     -.135281   -.1109297
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .05230141    .05230141
      ols            2    .18407316    .18407316
  lassocv            3     .3878062     .3878062
  ridgecv            4    .09814269    .09814269
  lassocv            5   -.24256303   -.24256303
  ridgecv            6    .00015113    .00015113
       rf            7     .5312068     .5312068
       rf            8    .54932634    .54932634
       rf            9    -.6931469    -.6931469
gradboost           10    .10747371    .10747371
gradboost           11    .11206361    .11206361
     nnet           12   -.09588338   -.09588338
     nnet           13    .01670681    .01670681

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01050527    .01050527
      ols            2   -.01766027   -.01766027
  lassocv            3    -.1130283    -.1130283
  ridgecv            4    .36930013    .36930013
  lassocv            5    .14943762    .14943762
  ridgecv            6    .06649534    .06649534
       rf            7    .55313588    .55313588
       rf            8    .19921841    .19921841
       rf            9   -.35865519   -.35865519
gradboost           10    .08499165    .08499165
gradboost           11    .05961806    .05961806
     nnet           12   -.13469848   -.13469848
     nnet           13    .01880087    .01880087

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .05230141    .05230141
      ols            2    .18407316    .18407316
  lassocv            3     .3878062     .3878062
  ridgecv            4    .09814269    .09814269
  lassocv            5   -.24256303   -.24256303
  ridgecv            6    .00015113    .00015113
       rf            7     .5312068     .5312068
       rf            8    .54932634    .54932634
       rf            9    -.6931469    -.6931469
gradboost           10    .10747371    .10747371
gradboost           11    .11206361    .11206361
     nnet           12   -.09588338   -.09588338
     nnet           13    .01670681    .01670681

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01050527    .01050527
      ols            2   -.01766027   -.01766027
  lassocv            3    -.1130283    -.1130283
  ridgecv            4    .36930013    .36930013
  lassocv            5    .14943762    .14943762
  ridgecv            6    .06649534    .06649534
       rf            7    .55313588    .55313588
       rf            8    .19921841    .19921841
       rf            9   -.35865519   -.35865519
gradboost           10    .08499165    .08499165
gradboost           11    .05961806    .05961806
     nnet           12   -.13469848   -.13469848
     nnet           13    .01880087    .01880087

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01050527    .01050527
      ols            2   -.01766027   -.01766027
  lassocv            3    -.1130283    -.1130283
  ridgecv            4    .36930013    .36930013
  lassocv            5    .14943762    .14943762
  ridgecv            6    .06649534    .06649534
       rf            7    .55313588    .55313588
       rf            8    .19921841    .19921841
       rf            9   -.35865519   -.35865519
gradboost           10    .08499165    .08499165
gradboost           11    .05961806    .05961806
     nnet           12   -.13469848   -.13469848
     nnet           13    .01880087    .01880087

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1    .0105053    .0105053 |
   2. |        2   -.0176603   -.0176603 |
   3. |        3   -.1130283   -.1130283 |
   4. |        4    .3693001    .3693001 |
      +----------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_26898/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .05230141    .05230141
      ols            2    .18407316    .18407316
  lassocv            3     .3878062     .3878062
  ridgecv            4    .09814269    .09814269
  lassocv            5   -.24256303   -.24256303
  ridgecv            6    .00015113    .00015113
       rf            7     .5312068     .5312068
       rf            8    .54932634    .54932634
       rf            9    -.6931469    -.6931469
gradboost           10    .10747371    .10747371
gradboost           11    .11206361    .11206361
     nnet           12   -.09588338   -.09588338
     nnet           13    .01670681    .01670681

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01050527    .01050527
      ols            2   -.01766027   -.01766027
  lassocv            3    -.1130283    -.1130283
  ridgecv            4    .36930013    .36930013
  lassocv            5    .14943762    .14943762
  ridgecv            6    .06649534    .06649534
       rf            7    .55313588    .55313588
       rf            8    .19921841    .19921841
       rf            9   -.35865519   -.35865519
gradboost           10    .08499165    .08499165
gradboost           11    .05961806    .05961806
     nnet           12   -.13469848   -.13469848
     nnet           13    .01880087    .01880087

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .05230141    .05230141
      ols            2    .18407316    .18407316
  lassocv            3     .3878062     .3878062
  ridgecv            4    .09814269    .09814269
  lassocv            5   -.24256303   -.24256303
  ridgecv            6    .00015113    .00015113
       rf            7     .5312068     .5312068
       rf            8    .54932634    .54932634
       rf            9    -.6931469    -.6931469
gradboost           10    .10747371    .10747371
gradboost           11    .11206361    .11206361
     nnet           12   -.09588338   -.09588338
     nnet           13    .01670681    .01670681

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0523014   .0523014 |
   2. |        2   .1840732   .1840732 |
   3. |        3   .3878062   .3878062 |
   4. |        4   .0981427   .0981427 |
      +--------------------------------+
(note: file out_26898/D1_pystacked_w_mn_ols_regular.dta not found)
file out_26898/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .15250736    .15250736
      ols            2    .15682786    .15682786
  lassocv            3    .33911494    .33911494
  ridgecv            4    .09343725    .09343725
  lassocv            5   -.26953482   -.26953482
  ridgecv            6   -.03184253   -.03184253
       rf            7    .43016269    .43016269
       rf            8    .79755188    .79755188
       rf            9   -.90839879   -.90839879
gradboost           10     .1292414     .1292414
gradboost           11    .16750078    .16750078
     nnet           12    .10204097    .10204097
     nnet           13    .01034951    .01034951

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.01515301   -.01515301
      ols            2   -.00428264   -.00428264
  lassocv            3    .21691727    .21691727
  ridgecv            4     -.060484     -.060484
  lassocv            5   -.26080231   -.26080231
  ridgecv            6    .52489428    .52489428
       rf            7    .52428934    .52428934
       rf            8    .23427111    .23427111
       rf            9    -.3997425    -.3997425
gradboost           10    .09214585    .09214585
gradboost           11    .13223048    .13223048
     nnet           12   -.04149584   -.04149584
     nnet           13    .03002609    .03002609

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1   -.01515301   -.01515301
      ols            2   -.00428264   -.00428264
  lassocv            3    .21691727    .21691727
  ridgecv            4     -.060484     -.060484
  lassocv            5   -.26080231   -.26080231
  ridgecv            6    .52489428    .52489428
       rf            7    .52428934    .52428934
       rf            8    .23427111    .23427111
       rf            9    -.3997425    -.3997425
gradboost           10    .09214585    .09214585
gradboost           11    .13223048    .13223048
     nnet           12   -.04149584   -.04149584
     nnet           13    .03002609    .03002609

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.4993618          1    -.015153    -.015153 |
   2. | 3.0653456          2   -.0042826   -.0042826 |
   3. | 2.7646102          3    .2169173    .2169173 |
   4. | 2.4014107          4    -.060484    -.060484 |
      +----------------------------------------------+
(note: file out_26898/Y_lnearn_ss_ols_short.dta not found)
file out_26898/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .15250736    .15250736
      ols            2    .15682786    .15682786
  lassocv            3    .33911494    .33911494
  ridgecv            4    .09343725    .09343725
  lassocv            5   -.26953482   -.26953482
  ridgecv            6   -.03184253   -.03184253
       rf            7    .43016269    .43016269
       rf            8    .79755188    .79755188
       rf            9   -.90839879   -.90839879
gradboost           10     .1292414     .1292414
gradboost           11    .16750078    .16750078
     nnet           12    .10204097    .10204097
     nnet           13    .01034951    .01034951

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .85359444          1   .1525073   .1525073 |
   2. | .46401963          2   .1568279   .1568279 |
   3. | .13183478          3   .3391149   .3391149 |
   4. | .25920217          4   .0934372   .0934372 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ss_ols_short.dta not found)
file out_26898/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .01232356    .01232356
      ols            2   -.01635184   -.01635184
  lassocv            3    .08445148    .08445148
  ridgecv            4    .43470082    .43470082
  lassocv            5   -.05769029   -.05769029
  ridgecv            6    .00096418    .00096418
       rf            7    .56495157    .56495157
       rf            8    .20275619    .20275619
       rf            9   -.37033407   -.37033407
gradboost           10    .09123959    .09123959
gradboost           11    .06893125    .06893125
     nnet           12    .00919205    .00919205
     nnet           13    .01545913    .01545913

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6766977          1    .0123236    .0123236 |
   2. | 3.2219886          2   -.0163518   -.0163518 |
   3. | 2.9483193          3    .0844515    .0844515 |
   4. | 2.6057167          4    .4347008    .4347008 |
      +----------------------------------------------+
(note: file out_26898/Y_lnearn_ps_ols_pooled.dta not found)
file out_26898/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02002753    .02002753
      ols            2    .18723195    .18723195
  lassocv            3    .36980113    .36980113
  ridgecv            4    .09779361    .09779361
  lassocv            5   -.20069048   -.20069048
  ridgecv            6    .01672392    .01672392
       rf            7    .53801229    .53801229
       rf            8    .54817695    .54817695
       rf            9   -.69969768   -.69969768
gradboost           10    .10030833    .10030833
gradboost           11    .12030927    .12030927
     nnet           12     .0226759     .0226759
     nnet           13     .0182352     .0182352

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .83693656          1   .0200275   .0200275 |
   2. |  .4435094          2   .1872319   .1872319 |
   3. | .16401623          3   .3698011   .3698011 |
   4. | .24116463          4   .0977936   .0977936 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ps_ols_pooled.dta not found)
file out_26898/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.088    (0.019)
  ss  1  [shortstack]          [ss]    -0.088    (0.019)
  ps  1   [poolstack]          [ps]    -0.088    (0.019)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.087999   .0190791    -4.61   0.000    -.1253934   -.0506046
       _cons |   .0017321   .0064479     0.27   0.788    -.0109056    .0143698
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.088    (0.019)
  ss  1  [shortstack]          [ss]    -0.088    (0.019)
  ps  1   [poolstack]          [ps]    -0.088    (0.019)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.087999   .0190791    -4.61   0.000    -.1253934   -.0506046
       _cons |   .0017321   .0064479     0.27   0.788    -.0109056    .0143698
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.088    (0.019)
  ss  1  [shortstack]          [ss]    -0.088    (0.019)
  ps  1   [poolstack]          [ps]    -0.088    (0.019)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.087999   .0190791    -4.61   0.000    -.1253934   -.0506046
       _cons |   .0017321   .0064479     0.27   0.788    -.0109056    .0143698
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.088    (0.019)
  ss  1  [shortstack]          [ss]    -0.088    (0.019)
  ps  1   [poolstack]          [ps]    -0.088    (0.019)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.087999   .0190791    -4.61   0.000    -.1253934   -.0506046
       _cons |   .0017321   .0064479     0.27   0.788    -.0109056    .0143698
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_26898/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_26898/D1_pystacked_w_mn_avg_regular.dta not found)
file out_26898/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6526633          1   .0769231   .0769231 |
   2. | 3.0954533          2   .0769231   .0769231 |
   3. | 2.8466173          3   .0769231   .0769231 |
   4. | 2.5510771          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_26898/Y_lnearn_ss_avg_short.dta not found)
file out_26898/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71939285          1   .0769231   .0769231 |
   2. | .42823291          2   .0769231   .0769231 |
   3. | .18577019          3   .0769231   .0769231 |
   4. | .40067065          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ss_avg_short.dta not found)
file out_26898/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6526633          1   .0769231   .0769231 |
   2. | 3.0954533          2   .0769231   .0769231 |
   3. | 2.8466173          3   .0769231   .0769231 |
   4. | 2.5510771          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_26898/Y_lnearn_ps_avg_pooled.dta not found)
file out_26898/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71939285          1   .0769231   .0769231 |
   2. | .42823291          2   .0769231   .0769231 |
   3. | .18577019          3   .0769231   .0769231 |
   4. | .40067065          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ps_avg_pooled.dta not found)
file out_26898/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0550921   .0469861    -1.17   0.241    -.1471833     .036999
       _cons |   .0043549    .007087     0.61   0.539    -.0095353    .0182452
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1209797   .0154605    -7.83   0.000    -.1512817   -.0906777
       _cons |  -.0003631   .0068638    -0.05   0.958    -.0138158    .0130897
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0980438   .0171398    -5.72   0.000    -.1316372   -.0644504
       _cons |  -.0001345   .0064789    -0.02   0.983    -.0128329    .0125639
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0970241   .0169003    -5.74   0.000    -.1301481   -.0639001
       _cons |  -.0001836   .0064298    -0.03   0.977    -.0127858    .0124186
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0716839   .1218039     0.59   0.556    -.1670474    .3104152
       _cons |   .0052235   .0081495     0.64   0.522    -.0107493    .0211962
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0195453   .0602795    -0.32   0.746    -.1376909    .0986003
       _cons |   .0014938   .0067072     0.22   0.824     -.011652    .0146397
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1003494    .016503    -6.08   0.000    -.1326947   -.0680041
       _cons |  -.0035403    .006386    -0.55   0.579    -.0160565     .008976
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1091619   .0169122    -6.45   0.000    -.1423093   -.0760145
       _cons |   .0000135   .0066228     0.00   0.998     -.012967    .0129939
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1122979   .0167462    -6.71   0.000    -.1451198   -.0794761
       _cons |   .0001947   .0067451     0.03   0.977    -.0130254    .0134148
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0887115   .0168432    -5.27   0.000    -.1217235   -.0556995
       _cons |  -.0005087   .0064406    -0.08   0.937    -.0131321    .0121147
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0795627   .0165638    -4.80   0.000    -.1120272   -.0470982
       _cons |  -.0031157   .0065313    -0.48   0.633    -.0159168    .0096855
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1027005   .0163597    -6.28   0.000    -.1347649   -.0706362
       _cons |  -.0002017   .0077484    -0.03   0.979    -.0153884    .0149849
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0310783   .0238327    -1.30   0.192    -.0777896    .0156329
       _cons |    .017901   .0079187     2.26   0.024     .0023807    .0334214
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1006843   .0166507    -6.05   0.000    -.1333191   -.0680495
       _cons |  -.0025033   .0062801    -0.40   0.690    -.0148121    .0098056
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.153       0.151       0.163       0.153
>        0.159       0.162       0.164       0.149       0.150       0.159  
   D_gender_r_ps   1      0.156       0.153       0.150       0.162       0.153
>        0.159       0.163       0.164       0.149       0.150       0.158  
   D_gender_r_ss   1      0.156       0.153       0.150       0.162       0.152
>        0.158       0.162       0.165       0.148       0.150       0.157  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.193       0.131       0.132       0.136       0.367
>        0.170       0.245       0.176       0.217       0.152       0.209  
     Y_lnearn_ps   1      0.193       0.132       0.133       0.131       0.368
>        0.169       0.243       0.174       0.217       0.151       0.210  
     Y_lnearn_ss   1      0.192       0.131       0.131       0.132       0.367
>        0.168       0.243       0.173       0.215       0.151       0.208  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .19346263    .13140864    .13201536    .13611695
 Y_lnearn_ps            1    .19310242    .13247944    .13300369    .13143445
 Y_lnearn_ss            1    .19197529    .13097935    .13135991    .13225636

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .36744699    .16983714    .24475677    .17587875    .21658856
 Y_lnearn_ps    .36832603    .16912419    .24333335    .17439792    .21733896
 Y_lnearn_ss    .36725551    .16812955    .24311624    .17342375    .21469344

                    fold9       fold10
Y1_pystacked    .15170876    .20877547
 Y_lnearn_ps     .1512212    .21026619
 Y_lnearn_ss    .15072522     .2077168
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1934626 | .1314086 | .1320154 |  .136117 |  .367447 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1698371 | .2447568 | .1758787 | .2165886 | .1517088 | .2087755 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1931024 | .1324794 | .1330037 | .1314345 |  .368326 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1691242 | .2433334 | .1743979 |  .217339 | .1512212 | .2102662 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1919753 | .1309794 | .1313599 | .1322564 | .3672555 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1681295 | .2431162 | .1734238 | .2146934 | .1507252 | .2077168 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_53356/lnearn_mse_plm_mse.dta not found)
file out_53356/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.153       0.151       0.163       0.153
>        0.159       0.162       0.164       0.149       0.150       0.159  
   D_gender_r_ps   1      0.156       0.153       0.150       0.162       0.153
>        0.159       0.163       0.164       0.149       0.150       0.158  
   D_gender_r_ss   1      0.156       0.153       0.150       0.162       0.152
>        0.158       0.162       0.165       0.148       0.150       0.157  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.193       0.131       0.132       0.136       0.367
>        0.170       0.245       0.176       0.217       0.152       0.209  
     Y_lnearn_ps   1      0.193       0.132       0.133       0.131       0.368
>        0.169       0.243       0.174       0.217       0.151       0.210  
     Y_lnearn_ss   1      0.192       0.131       0.131       0.132       0.367
>        0.168       0.243       0.173       0.215       0.151       0.208  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15606769    .15265025    .15075617     .1625345
D_gender_r~s            1    .15617014     .1529648    .15016521    .16244543
D_gender_r~s            1    .15570009    .15257122    .15023429    .16182764

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15251239    .15857931    .16202562     .1642016    .14884413
D_gender_r~s    .15264463    .15899841    .16252745    .16421511    .14934216
D_gender_r~s    .15244407    .15792489    .16157034    .16515226     .1484139

                    fold9       fold10
D1_pystacked    .14985484    .15872181
D_gender_r~s    .15021046    .15819314
D_gender_r~s    .14991445    .15695114
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1560677 | .1526503 | .1507562 | .1625345 | .1525124 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1585793 | .1620256 | .1642016 | .1488441 | .1498548 | .1587218 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1561701 | .1529648 | .1501652 | .1624454 | .1526446 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1589984 | .1625275 | .1642151 | .1493422 | .1502105 | .1581931 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1557001 | .1525712 | .1502343 | .1618276 | .1524441 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1579249 | .1615703 | .1651523 | .1484139 | .1499144 | .1569511 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_53356/gender_r_mse_plm_mse.dta not found)
file out_53356/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_53356/plm_mse.dta not found)
file out_53356/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_53356/results.dta not found)
file out_53356/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1006843   .0166507    -6.05   0.000    -.1333191   -.0680495
       _cons |  -.0025033   .0062801    -0.40   0.690    -.0148121    .0098056
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1005368   .0166933    -6.02   0.000     -.133255   -.0678186
       _cons |  -.0023233   .0063056    -0.37   0.713     -.014682    .0100353
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1006843   .0166507    -6.05   0.000    -.1333191   -.0680495
       _cons |  -.0025033   .0062801    -0.40   0.690    -.0148121    .0098056
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1010774   .0167003    -6.05   0.000    -.1338094   -.0683454
       _cons |  -.0020626   .0062976    -0.33   0.743    -.0144057    .0102806
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08434032    .08434032
      ols            2    1.431e-16    1.431e-16
  lassocv            3    .27260138    .27260138
  ridgecv            4    3.674e-17    3.674e-17
  lassocv            5    6.607e-17    6.607e-17
  ridgecv            6    .00504663    .00504663
       rf            7    .41378263    .41378263
       rf            8    1.032e-16    1.032e-16
       rf            9    1.033e-16    1.033e-16
gradboost           10     .0204351     .0204351
gradboost           11    .18667786    .18667786
     nnet           12    2.259e-16    2.259e-16
     nnet           13    .01711607    .01711607

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .00829463    .00829463
      ols            2    1.188e-16    1.188e-16
  lassocv            3    .00836916    .00836916
  ridgecv            4    .07268551    .07268551
  lassocv            5    .13847323    .13847323
  ridgecv            6    .17412498    .17412498
       rf            7    .36940765    .36940765
       rf            8    3.312e-17    3.312e-17
       rf            9    7.594e-17    7.594e-17
gradboost           10    .07097975    .07097975
gradboost           11    .10984148    .10984148
     nnet           12    .02544613    .02544613
     nnet           13    .02237749    .02237749

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08434032    .08434032
      ols            2    1.431e-16    1.431e-16
  lassocv            3    .27260138    .27260138
  ridgecv            4    3.674e-17    3.674e-17
  lassocv            5    6.607e-17    6.607e-17
  ridgecv            6    .00504663    .00504663
       rf            7    .41378263    .41378263
       rf            8    1.032e-16    1.032e-16
       rf            9    1.033e-16    1.033e-16
gradboost           10     .0204351     .0204351
gradboost           11    .18667786    .18667786
     nnet           12    2.259e-16    2.259e-16
     nnet           13    .01711607    .01711607

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .00829463    .00829463
      ols            2    1.188e-16    1.188e-16
  lassocv            3    .00836916    .00836916
  ridgecv            4    .07268551    .07268551
  lassocv            5    .13847323    .13847323
  ridgecv            6    .17412498    .17412498
       rf            7    .36940765    .36940765
       rf            8    3.312e-17    3.312e-17
       rf            9    7.594e-17    7.594e-17
gradboost           10    .07097975    .07097975
gradboost           11    .10984148    .10984148
     nnet           12    .02544613    .02544613
     nnet           13    .02237749    .02237749

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .00829463    .00829463
      ols            2    1.188e-16    1.188e-16
  lassocv            3    .00836916    .00836916
  ridgecv            4    .07268551    .07268551
  lassocv            5    .13847323    .13847323
  ridgecv            6    .17412498    .17412498
       rf            7    .36940765    .36940765
       rf            8    3.312e-17    3.312e-17
       rf            9    7.594e-17    7.594e-17
gradboost           10    .07097975    .07097975
gradboost           11    .10984148    .10984148
     nnet           12    .02544613    .02544613
     nnet           13    .02237749    .02237749

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0082946   .0082946 |
   2. |        2   1.19e-16   1.19e-16 |
   3. |        3   .0083692   .0083692 |
   4. |        4   .0726855   .0726855 |
      +--------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_53356/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .08434032    .08434032
      ols            2    1.431e-16    1.431e-16
  lassocv            3    .27260138    .27260138
  ridgecv            4    3.674e-17    3.674e-17
  lassocv            5    6.607e-17    6.607e-17
  ridgecv            6    .00504663    .00504663
       rf            7    .41378263    .41378263
       rf            8    1.032e-16    1.032e-16
       rf            9    1.033e-16    1.033e-16
gradboost           10     .0204351     .0204351
gradboost           11    .18667786    .18667786
     nnet           12    2.259e-16    2.259e-16
     nnet           13    .01711607    .01711607

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .00829463    .00829463
      ols            2    1.188e-16    1.188e-16
  lassocv            3    .00836916    .00836916
  ridgecv            4    .07268551    .07268551
  lassocv            5    .13847323    .13847323
  ridgecv            6    .17412498    .17412498
       rf            7    .36940765    .36940765
       rf            8    3.312e-17    3.312e-17
       rf            9    7.594e-17    7.594e-17
gradboost           10    .07097975    .07097975
gradboost           11    .10984148    .10984148
     nnet           12    .02544613    .02544613
     nnet           13    .02237749    .02237749

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .08434032    .08434032
      ols            2    1.431e-16    1.431e-16
  lassocv            3    .27260138    .27260138
  ridgecv            4    3.674e-17    3.674e-17
  lassocv            5    6.607e-17    6.607e-17
  ridgecv            6    .00504663    .00504663
       rf            7    .41378263    .41378263
       rf            8    1.032e-16    1.032e-16
       rf            9    1.033e-16    1.033e-16
gradboost           10     .0204351     .0204351
gradboost           11    .18667786    .18667786
     nnet           12    2.259e-16    2.259e-16
     nnet           13    .01711607    .01711607

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0843403   .0843403 |
   2. |        2   1.43e-16   1.43e-16 |
   3. |        3   .2726014   .2726014 |
   4. |        4   3.67e-17   3.67e-17 |
      +--------------------------------+
(note: file out_53356/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_53356/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .17648703    .17648703
      ols            2            0            0
  lassocv            3    .10490358    .10490358
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7     .4363173     .4363173
       rf            8    1.038e-16    1.038e-16
       rf            9            0            0
gradboost           10    6.442e-17    6.442e-17
gradboost           11    .27640158    .27640158
     nnet           12    1.123e-16    1.123e-16
     nnet           13    .00589051    .00589051

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3    2.043e-16    2.043e-16
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6    .43234911    .43234911
       rf            7    .34214901    .34214901
       rf            8            0            0
       rf            9    1.427e-16    1.427e-16
gradboost           10    8.793e-18    8.793e-18
gradboost           11    .22550188    .22550188
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3    2.043e-16    2.043e-16
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6    .43234911    .43234911
       rf            7    .34214901    .34214901
       rf            8            0            0
       rf            9    1.427e-16    1.427e-16
gradboost           10    8.793e-18    8.793e-18
gradboost           11    .22550188    .22550188
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6384626          1          0          0 |
   2. | 3.1411878          2          0          0 |
   3. | 2.7940887          3   2.04e-16   2.04e-16 |
   4. | 2.5096968          4          0          0 |
      +--------------------------------------------+
(note: file out_53356/Y_lnearn_ss_nnls1_short.dta not found)
file out_53356/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .17648703    .17648703
      ols            2            0            0
  lassocv            3    .10490358    .10490358
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7     .4363173     .4363173
       rf            8    1.038e-16    1.038e-16
       rf            9            0            0
gradboost           10    6.442e-17    6.442e-17
gradboost           11    .27640158    .27640158
     nnet           12    1.123e-16    1.123e-16
     nnet           13    .00589051    .00589051

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72447381          1    .176487    .176487 |
   2. | .45163045          2          0          0 |
   3. | .11226375          3   .1049036   .1049036 |
   4. | .23528184          4          0          0 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ss_nnls1_short.dta not found)
file out_53356/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .01366338    .01366338
      ols            2    2.651e-15    2.651e-15
  lassocv            3    .12042952    .12042952
  ridgecv            4     .1526048     .1526048
  lassocv            5    7.993e-16    7.993e-16
  ridgecv            6     .0778665     .0778665
       rf            7    .40026506    .40026506
       rf            8    3.199e-15    3.199e-15
       rf            9    3.963e-15    3.963e-15
gradboost           10    .07996828    .07996828
gradboost           11    .12960282    .12960282
     nnet           12    3.122e-15    3.122e-15
     nnet           13    .02559965    .02559965

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6081655          1   .0136634   .0136634 |
   2. | 3.1256865          2   2.65e-15   2.65e-15 |
   3. | 2.8070776          3   .1204295   .1204295 |
   4. | 2.5236722          4   .1526048   .1526048 |
      +--------------------------------------------+
(note: file out_53356/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_53356/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .03483112    .03483112
      ols            2            0            0
  lassocv            3    .33831514    .33831514
  ridgecv            4    4.187e-16    4.187e-16
  lassocv            5    8.814e-16    8.814e-16
  ridgecv            6    1.784e-16    1.784e-16
       rf            7      .408044      .408044
       rf            8    8.036e-16    8.036e-16
       rf            9    9.669e-16    9.669e-16
gradboost           10    2.534e-16    2.534e-16
gradboost           11    .20838778    .20838778
     nnet           12    2.392e-15    2.392e-15
     nnet           13    .01042195    .01042195

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72137205          1   .0348311   .0348311 |
   2. | .44684717          2          0          0 |
   3. | .13131431          3   .3383151   .3383151 |
   4. | .24916894          4   4.19e-16   4.19e-16 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_nnls1_pooled.dta not found)
file out_53356/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.099    (0.017)
  ss  1  [shortstack]          [ss]    -0.097    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0969697   .0164233    -5.90   0.000    -.1291587   -.0647806
       _cons |  -.0008437   .0063718    -0.13   0.895    -.0133322    .0116447
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.099    (0.017)
  ss  1  [shortstack]          [ss]    -0.097    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985543   .0167505    -5.88   0.000    -.1313847   -.0657238
       _cons |  -.0007915   .0064375    -0.12   0.902    -.0134088    .0118258
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.097    (0.016)
  ss  1  [shortstack]          [ss]    -0.097    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0969697   .0164233    -5.90   0.000    -.1291587   -.0647806
       _cons |  -.0008437   .0063718    -0.13   0.895    -.0133322    .0116447
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.097    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1035505    .016793    -6.17   0.000    -.1364641   -.0706368
       _cons |  -.0027862   .0063857    -0.44   0.663    -.0153021    .0097296
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .1         .1 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_53356/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .1           .1
  ridgecv            4            0            0
  lassocv            5           .4           .4
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .5         .5 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_53356/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_53356/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6180933          1          0          0 |
   2. | 3.1352291          2          0          0 |
   3. | 2.8108058          3          0          0 |
   4. | 2.4775155          4          0          0 |
      +--------------------------------------------+
(note: file out_53356/Y_lnearn_ss_singlebest_short.dta not found)
file out_53356/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77999997          1          0          0 |
   2. | .52399999          2          0          0 |
   3. |      .154          3          0          0 |
   4. |      .124          4          0          0 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ss_singlebest_short.dta not found)
file out_53356/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5748384          1          0          0 |
   2. | 3.0597723          2          0          0 |
   3. | 2.8202629          3          0          0 |
   4. | 2.5507748          4          0          0 |
      +--------------------------------------------+
(note: file out_53356/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_53356/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .67213875          1          0          0 |
   2. | .36453238          2          0          0 |
   3. | .17489405          3          1          1 |
   4. | .37791327          4          0          0 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_singlebest_pooled.dta not found)
file out_53356/D_gender_r_ps_singlebest_pooled.dta saved
22e-17    8.322e-17
     nnet           13    .01566811    .01566811

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02230806    .02230806
      ols            2    6.581e-17    6.581e-17
  lassocv            3    .05360533    .05360533
  ridgecv            4    .02279775    .02279775
  lassocv            5    .13714687    .13714687
  ridgecv            6    .15597895    .15597895
       rf            7    .39689811    .39689811
       rf            8    5.913e-17    5.913e-17
       rf            9    1.336e-16    1.336e-16
gradboost           10     .0133976     .0133976
gradboost           11    .13750194    .13750194
     nnet           12    .04683356    .04683356
     nnet           13    .01353184    .01353184

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1     .0756236     .0756236
      ols            2    8.285e-17    8.285e-17
  lassocv            3    .27773598    .27773598
  ridgecv            4    5.520e-17    5.520e-17
  lassocv            5      .007806      .007806
  ridgecv            6    3.234e-17    3.234e-17
       rf            7    .38995152    .38995152
       rf            8    5.240e-17    5.240e-17
       rf            9    1.951e-17    1.951e-17
gradboost           10    .02625088    .02625088
gradboost           11    .20696391    .20696391
     nnet           12    8.322e-17    8.322e-17
     nnet           13    .01566811    .01566811

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02230806    .02230806
      ols            2    6.581e-17    6.581e-17
  lassocv            3    .05360533    .05360533
  ridgecv            4    .02279775    .02279775
  lassocv            5    .13714687    .13714687
  ridgecv            6    .15597895    .15597895
       rf            7    .39689811    .39689811
       rf            8    5.913e-17    5.913e-17
       rf            9    1.336e-16    1.336e-16
gradboost           10     .0133976     .0133976
gradboost           11    .13750194    .13750194
     nnet           12    .04683356    .04683356
     nnet           13    .01353184    .01353184

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .02230806    .02230806
      ols            2    6.581e-17    6.581e-17
  lassocv            3    .05360533    .05360533
  ridgecv            4    .02279775    .02279775
  lassocv            5    .13714687    .13714687
  ridgecv            6    .15597895    .15597895
       rf            7    .39689811    .39689811
       rf            8    5.913e-17    5.913e-17
       rf            9    1.336e-16    1.336e-16
gradboost           10     .0133976     .0133976
gradboost           11    .13750194    .13750194
     nnet           12    .04683356    .04683356
     nnet           13    .01353184    .01353184

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0223081   .0223081 |
   2. |        2   6.58e-17   6.58e-17 |
   3. |        3   .0536053   .0536053 |
   4. |        4   .0227977   .0227977 |
      +--------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_8756/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1     .0756236     .0756236
      ols            2    8.285e-17    8.285e-17
  lassocv            3    .27773598    .27773598
  ridgecv            4    5.520e-17    5.520e-17
  lassocv            5      .007806      .007806
  ridgecv            6    3.234e-17    3.234e-17
       rf            7    .38995152    .38995152
       rf            8    5.240e-17    5.240e-17
       rf            9    1.951e-17    1.951e-17
gradboost           10    .02625088    .02625088
gradboost           11    .20696391    .20696391
     nnet           12    8.322e-17    8.322e-17
     nnet           13    .01566811    .01566811

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .02230806    .02230806
      ols            2    6.581e-17    6.581e-17
  lassocv            3    .05360533    .05360533
  ridgecv            4    .02279775    .02279775
  lassocv            5    .13714687    .13714687
  ridgecv            6    .15597895    .15597895
       rf            7    .39689811    .39689811
       rf            8    5.913e-17    5.913e-17
       rf            9    1.336e-16    1.336e-16
gradboost           10     .0133976     .0133976
gradboost           11    .13750194    .13750194
     nnet           12    .04683356    .04683356
     nnet           13    .01353184    .01353184

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1     .0756236     .0756236
      ols            2    8.285e-17    8.285e-17
  lassocv            3    .27773598    .27773598
  ridgecv            4    5.520e-17    5.520e-17
  lassocv            5      .007806      .007806
  ridgecv            6    3.234e-17    3.234e-17
       rf            7    .38995152    .38995152
       rf            8    5.240e-17    5.240e-17
       rf            9    1.951e-17    1.951e-17
gradboost           10    .02625088    .02625088
gradboost           11    .20696391    .20696391
     nnet           12    8.322e-17    8.322e-17
     nnet           13    .01566811    .01566811

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0756236   .0756236 |
   2. |        2   8.29e-17   8.29e-17 |
   3. |        3    .277736    .277736 |
   4. |        4   5.52e-17   5.52e-17 |
      +--------------------------------+
(note: file out_8756/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_8756/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .14636107    .14636107
      ols            2    1.590e-17    1.590e-17
  lassocv            3    .20891246    .20891246
  ridgecv            4    5.310e-17    5.310e-17
  lassocv            5    2.166e-16    2.166e-16
  ridgecv            6    3.639e-17    3.639e-17
       rf            7    .42618983    .42618983
       rf            8            0            0
       rf            9    2.491e-17    2.491e-17
gradboost           10            0            0
gradboost           11    .18614187    .18614187
     nnet           12    2.064e-16    2.064e-16
     nnet           13    .03239477    .03239477

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .05968033    .05968033
      ols            2            0            0
  lassocv            3    1.985e-17    1.985e-17
  ridgecv            4    4.300e-17    4.300e-17
  lassocv            5    .05210397    .05210397
  ridgecv            6     .3071539     .3071539
       rf            7    .37383484    .37383484
       rf            8    1.791e-16    1.791e-16
       rf            9    4.408e-16    4.408e-16
gradboost           10    .01890549    .01890549
gradboost           11    .13271673    .13271673
     nnet           12    .00367181    .00367181
     nnet           13    .05193293    .05193293

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .05968033    .05968033
      ols            2            0            0
  lassocv            3    1.985e-17    1.985e-17
  ridgecv            4    4.300e-17    4.300e-17
  lassocv            5    .05210397    .05210397
  ridgecv            6     .3071539     .3071539
       rf            7    .37383484    .37383484
       rf            8    1.791e-16    1.791e-16
       rf            9    4.408e-16    4.408e-16
gradboost           10    .01890549    .01890549
gradboost           11    .13271673    .13271673
     nnet           12    .00367181    .00367181
     nnet           13    .05193293    .05193293

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |  2.616312          1   .0596803   .0596803 |
   2. | 3.1111179          2          0          0 |
   3. | 2.8305622          3   1.99e-17   1.99e-17 |
   4. |  2.504648          4   4.30e-17   4.30e-17 |
      +--------------------------------------------+
(note: file out_8756/Y_lnearn_ss_nnls1_short.dta not found)
file out_8756/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .14636107    .14636107
      ols            2    1.590e-17    1.590e-17
  lassocv            3    .20891246    .20891246
  ridgecv            4    5.310e-17    5.310e-17
  lassocv            5    2.166e-16    2.166e-16
  ridgecv            6    3.639e-17    3.639e-17
       rf            7    .42618983    .42618983
       rf            8            0            0
       rf            9    2.491e-17    2.491e-17
gradboost           10            0            0
gradboost           11    .18614187    .18614187
     nnet           12    2.064e-16    2.064e-16
     nnet           13    .03239477    .03239477

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71571035          1   .1463611   .1463611 |
   2. | .47615155          2   1.59e-17   1.59e-17 |
   3. | .19161628          3   .2089125   .2089125 |
   4. | .27920369          4   5.31e-17   5.31e-17 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ss_nnls1_short.dta not found)
file out_8756/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .00908361    .00908361
      ols            2            0            0
  lassocv            3    .19662552    .19662552
  ridgecv            4    1.532e-17    1.532e-17
  lassocv            5            0            0
  ridgecv            6     .1949075     .1949075
       rf            7    .42584599    .42584599
       rf            8            0            0
       rf            9            0            0
gradboost           10    2.296e-16    2.296e-16
gradboost           11    .15767066    .15767066
     nnet           12    .00975688    .00975688
     nnet           13    .00610984    .00610984

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6094012          1   .0090836   .0090836 |
   2. | 3.1220659          2          0          0 |
   3. | 2.8236128          3   .1966255   .1966255 |
   4. | 2.5035246          4   1.53e-17   1.53e-17 |
      +--------------------------------------------+
(note: file out_8756/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_8756/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .04793234    .04793234
      ols            2    2.547e-15    2.547e-15
  lassocv            3    .32168821    .32168821
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .39554945    .39554945
       rf            8            0            0
       rf            9            0            0
gradboost           10    1.021e-16    1.021e-16
gradboost           11     .2222588     .2222588
     nnet           12            0            0
     nnet           13     .0125712     .0125712

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71710602          1   .0479323   .0479323 |
   2. | .48345436          2   2.55e-15   2.55e-15 |
   3. | .17706795          3   .3216882   .3216882 |
   4. | .27489434          4          0          0 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ps_nnls1_pooled.dta not found)
file out_8756/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0996212   .0166192    -5.99   0.000    -.1321942   -.0670482
       _cons |  -.0027377   .0062855    -0.44   0.663     -.015057    .0095816
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1006896   .0166893    -6.03   0.000       -.1334   -.0679791
       _cons |  -.0020621    .006301    -0.33   0.743    -.0144118    .0102876
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0996212   .0166192    -5.99   0.000    -.1321942   -.0670482
       _cons |  -.0027377   .0062855    -0.44   0.663     -.015057    .0095816
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.099    (0.017)
  ss  1  [shortstack]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0991015    .016597    -5.97   0.000    -.1316311    -.066572
       _cons |  -.0023595   .0062979    -0.37   0.708    -.0147032    .0099842
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06787764    .06787764
      ols            2     .0000171     .0000171
  lassocv            3    .27422597    .27422597
  ridgecv            4    8.842e-17    8.842e-17
  lassocv            5    6.167e-17    6.167e-17
  ridgecv            6    5.302e-17    5.302e-17
       rf            7    .40239726    .40239726
       rf            8    3.409e-17    3.409e-17
       rf            9    7.211e-17    7.211e-17
gradboost           10    .01717492    .01717492
gradboost           11    .19180729    .19180729
     nnet           12    .03060869    .03060869
     nnet           13    .01589114    .01589114

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03518804    .03518804
      ols            2    2.232e-16    2.232e-16
  lassocv            3    .04938426    .04938426
  ridgecv            4    .08556121    .08556121
  lassocv            5     .0596172     .0596172
  ridgecv            6    .18639046    .18639046
       rf            7    .42787131    .42787131
       rf            8    7.834e-17    7.834e-17
       rf            9    1.387e-16    1.387e-16
gradboost           10    .01782228    .01782228
gradboost           11     .1061111     .1061111
     nnet           12    .00423898    .00423898
     nnet           13    .02781516    .02781516

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06787764    .06787764
      ols            2     .0000171     .0000171
  lassocv            3    .27422597    .27422597
  ridgecv            4    8.842e-17    8.842e-17
  lassocv            5    6.167e-17    6.167e-17
  ridgecv            6    5.302e-17    5.302e-17
       rf            7    .40239726    .40239726
       rf            8    3.409e-17    3.409e-17
       rf            9    7.211e-17    7.211e-17
gradboost           10    .01717492    .01717492
gradboost           11    .19180729    .19180729
     nnet           12    .03060869    .03060869
     nnet           13    .01589114    .01589114

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03518804    .03518804
      ols            2    2.232e-16    2.232e-16
  lassocv            3    .04938426    .04938426
  ridgecv            4    .08556121    .08556121
  lassocv            5     .0596172     .0596172
  ridgecv            6    .18639046    .18639046
       rf            7    .42787131    .42787131
       rf            8    7.834e-17    7.834e-17
       rf            9    1.387e-16    1.387e-16
gradboost           10    .01782228    .01782228
gradboost           11     .1061111     .1061111
     nnet           12    .00423898    .00423898
     nnet           13    .02781516    .02781516

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .03518804    .03518804
      ols            2    2.232e-16    2.232e-16
  lassocv            3    .04938426    .04938426
  ridgecv            4    .08556121    .08556121
  lassocv            5     .0596172     .0596172
  ridgecv            6    .18639046    .18639046
       rf            7    .42787131    .42787131
       rf            8    7.834e-17    7.834e-17
       rf            9    1.387e-16    1.387e-16
gradboost           10    .01782228    .01782228
gradboost           11     .1061111     .1061111
     nnet           12    .00423898    .00423898
     nnet           13    .02781516    .02781516

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1    .035188    .035188 |
   2. |        2   2.23e-16   2.23e-16 |
   3. |        3   .0493843   .0493843 |
   4. |        4   .0855612   .0855612 |
      +--------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_3928/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06787764    .06787764
      ols            2     .0000171     .0000171
  lassocv            3    .27422597    .27422597
  ridgecv            4    8.842e-17    8.842e-17
  lassocv            5    6.167e-17    6.167e-17
  ridgecv            6    5.302e-17    5.302e-17
       rf            7    .40239726    .40239726
       rf            8    3.409e-17    3.409e-17
       rf            9    7.211e-17    7.211e-17
gradboost           10    .01717492    .01717492
gradboost           11    .19180729    .19180729
     nnet           12    .03060869    .03060869
     nnet           13    .01589114    .01589114

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .03518804    .03518804
      ols            2    2.232e-16    2.232e-16
  lassocv            3    .04938426    .04938426
  ridgecv            4    .08556121    .08556121
  lassocv            5     .0596172     .0596172
  ridgecv            6    .18639046    .18639046
       rf            7    .42787131    .42787131
       rf            8    7.834e-17    7.834e-17
       rf            9    1.387e-16    1.387e-16
gradboost           10    .01782228    .01782228
gradboost           11     .1061111     .1061111
     nnet           12    .00423898    .00423898
     nnet           13    .02781516    .02781516

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .06787764    .06787764
      ols            2     .0000171     .0000171
  lassocv            3    .27422597    .27422597
  ridgecv            4    8.842e-17    8.842e-17
  lassocv            5    6.167e-17    6.167e-17
  ridgecv            6    5.302e-17    5.302e-17
       rf            7    .40239726    .40239726
       rf            8    3.409e-17    3.409e-17
       rf            9    7.211e-17    7.211e-17
gradboost           10    .01717492    .01717492
gradboost           11    .19180729    .19180729
     nnet           12    .03060869    .03060869
     nnet           13    .01589114    .01589114

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0678776   .0678776 |
   2. |        2   .0000171   .0000171 |
   3. |        3    .274226    .274226 |
   4. |        4   8.84e-17   8.84e-17 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_3928/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .18552498    .18552498
      ols            2    7.833e-17    7.833e-17
  lassocv            3    .16738801    .16738801
  ridgecv            4            0            0
  lassocv            5    4.606e-17    4.606e-17
  ridgecv            6            0            0
       rf            7     .4451756     .4451756
       rf            8            0            0
       rf            9    2.010e-16    2.010e-16
gradboost           10            0            0
gradboost           11    .20191141    .20191141
     nnet           12    1.362e-16    1.362e-16
     nnet           13    3.517e-17    3.517e-17

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .01553592    .01553592
      ols            2    1.925e-16    1.925e-16
  lassocv            3            0            0
  ridgecv            4    1.242e-16    1.242e-16
  lassocv            5    .08470734    .08470734
  ridgecv            6    .34969629    .34969629
       rf            7    .33458995    .33458995
       rf            8    2.309e-16    2.309e-16
       rf            9    1.236e-16    1.236e-16
gradboost           10    .02748501    .02748501
gradboost           11    .17737356    .17737356
     nnet           12    6.254e-16    6.254e-16
     nnet           13    .01061192    .01061192

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .01553592    .01553592
      ols            2    1.925e-16    1.925e-16
  lassocv            3            0            0
  ridgecv            4    1.242e-16    1.242e-16
  lassocv            5    .08470734    .08470734
  ridgecv            6    .34969629    .34969629
       rf            7    .33458995    .33458995
       rf            8    2.309e-16    2.309e-16
       rf            9    1.236e-16    1.236e-16
gradboost           10    .02748501    .02748501
gradboost           11    .17737356    .17737356
     nnet           12    6.254e-16    6.254e-16
     nnet           13    .01061192    .01061192

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6151917          1   .0155359   .0155359 |
   2. | 3.1401521          2   1.92e-16   1.92e-16 |
   3. | 2.8450507          3          0          0 |
   4. | 2.5170601          4   1.24e-16   1.24e-16 |
      +--------------------------------------------+
(note: file out_3928/Y_lnearn_ss_nnls1_short.dta not found)
file out_3928/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .18552498    .18552498
      ols            2    7.833e-17    7.833e-17
  lassocv            3    .16738801    .16738801
  ridgecv            4            0            0
  lassocv            5    4.606e-17    4.606e-17
  ridgecv            6            0            0
       rf            7     .4451756     .4451756
       rf            8            0            0
       rf            9    2.010e-16    2.010e-16
gradboost           10            0            0
gradboost           11    .20191141    .20191141
     nnet           12    1.362e-16    1.362e-16
     nnet           13    3.517e-17    3.517e-17

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71332505          1    .185525    .185525 |
   2. | .45415596          2   7.83e-17   7.83e-17 |
   3. | .14373416          3    .167388    .167388 |
   4. | .31608984          4          0          0 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_nnls1_short.dta not found)
file out_3928/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .03400133    .03400133
      ols            2            0            0
  lassocv            3    .10655726    .10655726
  ridgecv            4    .13737688    .13737688
  lassocv            5    7.511e-16    7.511e-16
  ridgecv            6    .10265953    .10265953
       rf            7    .46315488    .46315488
       rf            8            0            0
       rf            9            0            0
gradboost           10     .0016363     .0016363
gradboost           11    .12668838    .12668838
     nnet           12            0            0
     nnet           13    .02792543    .02792543

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6170872          1   .0340013   .0340013 |
   2. | 3.1288661          2          0          0 |
   3. | 2.8477268          3   .1065573   .1065573 |
   4. |  2.533072          4   .1373769   .1373769 |
      +--------------------------------------------+
(note: file out_3928/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_3928/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .05816116    .05816116
      ols            2            0            0
  lassocv            3    .32053201    .32053201
  ridgecv            4    5.355e-16    5.355e-16
  lassocv            5    7.730e-16    7.730e-16
  ridgecv            6    2.806e-16    2.806e-16
       rf            7    .41169287    .41169287
       rf            8    6.989e-17    6.989e-17
       rf            9    1.482e-15    1.482e-15
gradboost           10    1.402e-16    1.402e-16
gradboost           11     .2039524     .2039524
     nnet           12            0            0
     nnet           13    .00566155    .00566155

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71452681          1   .0581612   .0581612 |
   2. | .45700015          2          0          0 |
   3. | .14843833          3    .320532    .320532 |
   4. | .31435832          4   5.35e-16   5.35e-16 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ps_nnls1_pooled.dta not found)
file out_3928/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.104504   .0166328    -6.28   0.000    -.1371036   -.0719044
       _cons |  -.0018232   .0063674    -0.29   0.775    -.0143031    .0106567
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1041965   .0166412    -6.26   0.000    -.1368127   -.0715803
       _cons |  -.0040865   .0064202    -0.64   0.524    -.0166699     .008497
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_8756/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.105    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.104504   .0166328    -6.28   0.000    -.1371036   -.0719044
       _cons |  -.0018232   .0063674    -0.29   0.775    -.0143031    .0106567
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_8756/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.108    (0.017)
  ss  1  [shortstack]          [ss]    -0.105    (0.017)
  ps  1   [poolstack]          [ps]    -0.108    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1078713   .0167704    -6.43   0.000    -.1407408   -.0750019
       _cons |  -.0035054   .0063784    -0.55   0.583    -.0160069    .0089961
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_8756/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6            0            0
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6            0            0
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6            0            0
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3          0          0 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_8756/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .3           .3
  ridgecv            6            0            0
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .4           .4
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7           .4           .4
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .4         .4 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_8756/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_8756/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6313498          1          0          0 |
   2. | 3.0872314          2          0          0 |
   3. | 2.8313332          3          0          0 |
   4. | 2.4667325          4          0          0 |
      +--------------------------------------------+
(note: file out_8756/Y_lnearn_ss_singlebest_short.dta not found)
file out_8756/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7171393          1          0          0 |
   2. | .39970461          2          0          0 |
   3. | .21579501          3          1          1 |
   4. | .36534116          4          0          0 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ss_singlebest_short.dta not found)
file out_8756/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5501611          1          0          0 |
   2. | 3.0842552          2          0          0 |
   3. | 2.8475616          3          0          0 |
   4. | 2.5534763          4          0          0 |
      +--------------------------------------------+
(note: file out_8756/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_8756/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7171393          1          0          0 |
   2. | .39970461          2          0          0 |
   3. | .21579501          3          1          1 |
   4. | .36534116          4          0          0 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ps_singlebest_pooled.dta not found)
file out_8756/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.098    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0976093   .0165148    -5.91   0.000    -.1299776    -.065241
       _cons |  -.0015623   .0063733    -0.25   0.806    -.0140538    .0109292
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.098    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1033434   .0165406    -6.25   0.000    -.1357623   -.0709244
       _cons |  -.0036566   .0063743    -0.57   0.566      -.01615    .0088369
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.098    (0.017)
  ss  1  [shortstack]          [ss]    -0.098    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0976093   .0165148    -5.91   0.000    -.1299776    -.065241
       _cons |  -.0015623   .0063733    -0.25   0.806    -.0140538    .0109292
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.098    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1023614   .0166907    -6.13   0.000    -.1350746   -.0696481
       _cons |  -.0029903   .0063853    -0.47   0.640    -.0155053    .0095247
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3          0          0 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_3928/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .2           .2
  ridgecv            6           .2           .2
       rf            7           .6           .6
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .6           .6
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .3           .3
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .6         .6 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_3928/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6169641          1          0          0 |
   2. | 3.1108422          2          0          0 |
   3. | 2.8407269          3          0          0 |
   4. | 2.4759867          4          0          0 |
      +--------------------------------------------+
(note: file out_3928/Y_lnearn_ss_singlebest_short.dta not found)
file out_3928/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71799999          1          0          0 |
   2. | .50199997          2          0          0 |
   3. | .15800001          3          0          0 |
   4. |       .22          4          0          0 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_singlebest_short.dta not found)
file out_3928/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5728197          1          0          0 |
   2. | 3.0676279          2          0          0 |
   3. | 2.8487411          3          0          0 |
   4. | 2.5909932          4          0          0 |
      +--------------------------------------------+
(note: file out_3928/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_3928/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .68487716          1          0          0 |
   2. | .36346725          2          0          0 |
   3. |  .1969115          3          1          1 |
   4. | .39301601          4          0          0 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ps_singlebest_pooled.dta not found)
file out_3928/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.040    (0.013)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1028315    .016482    -6.24   0.000    -.1351356   -.0705273
       _cons |  -.1399298   .0061812   -22.64   0.000    -.1520448   -.1278148
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.040    (0.013)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0403514   .0129856    -3.11   0.002    -.0658028      -.0149
       _cons |  -.0218754   .0083493    -2.62   0.009    -.0382398    -.005511
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1028315    .016482    -6.24   0.000    -.1351356   -.0705273
       _cons |  -.1399298   .0061812   -22.64   0.000    -.1520448   -.1278148
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.104    (0.017)
  ss  1  [shortstack]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]    -0.104    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1044462   .0165542    -6.31   0.000    -.1368918   -.0720007
       _cons |  -.0788487   .0061865   -12.75   0.000     -.090974   -.0667233
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06029464    .06029464
      ols            2    .17381531    .17381531
  lassocv            3    .39324296    .39324296
  ridgecv            4    .03786102    .03786102
  lassocv            5   -.19950754   -.19950754
  ridgecv            6    .02660151    .02660151
       rf            7    .48007191    .48007191
       rf            8    .66883872    .66883872
       rf            9   -.78560445   -.78560445
gradboost           10    .11783566    .11783566
gradboost           11    .11208238    .11208238
     nnet           12   -.32610198   -.32610198
     nnet           13    .00622341    .00622341

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01647911    .01647911
      ols            2   -.01252107   -.01252107
  lassocv            3   -.16289237   -.16289237
  ridgecv            4    .37288614    .37288614
  lassocv            5    .18309431    .18309431
  ridgecv            6    .05901239    .05901239
       rf            7    .50423144    .50423144
       rf            8    .42150599    .42150599
       rf            9   -.55106401   -.55106401
gradboost           10    .05744054    .05744054
gradboost           11    .08918646    .08918646
     nnet           12    .03709062    .03709062
     nnet           13   -.00617488   -.00617488

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06029464    .06029464
      ols            2    .17381531    .17381531
  lassocv            3    .39324296    .39324296
  ridgecv            4    .03786102    .03786102
  lassocv            5   -.19950754   -.19950754
  ridgecv            6    .02660151    .02660151
       rf            7    .48007191    .48007191
       rf            8    .66883872    .66883872
       rf            9   -.78560445   -.78560445
gradboost           10    .11783566    .11783566
gradboost           11    .11208238    .11208238
     nnet           12   -.32610198   -.32610198
     nnet           13    .00622341    .00622341

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01647911    .01647911
      ols            2   -.01252107   -.01252107
  lassocv            3   -.16289237   -.16289237
  ridgecv            4    .37288614    .37288614
  lassocv            5    .18309431    .18309431
  ridgecv            6    .05901239    .05901239
       rf            7    .50423144    .50423144
       rf            8    .42150599    .42150599
       rf            9   -.55106401   -.55106401
gradboost           10    .05744054    .05744054
gradboost           11    .08918646    .08918646
     nnet           12    .03709062    .03709062
     nnet           13   -.00617488   -.00617488

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01647911    .01647911
      ols            2   -.01252107   -.01252107
  lassocv            3   -.16289237   -.16289237
  ridgecv            4    .37288614    .37288614
  lassocv            5    .18309431    .18309431
  ridgecv            6    .05901239    .05901239
       rf            7    .50423144    .50423144
       rf            8    .42150599    .42150599
       rf            9   -.55106401   -.55106401
gradboost           10    .05744054    .05744054
gradboost           11    .08918646    .08918646
     nnet           12    .03709062    .03709062
     nnet           13   -.00617488   -.00617488

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1    .0164791    .0164791 |
   2. |        2   -.0125211   -.0125211 |
   3. |        3   -.1628924   -.1628924 |
   4. |        4    .3728862    .3728862 |
      +----------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_8756/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06029464    .06029464
      ols            2    .17381531    .17381531
  lassocv            3    .39324296    .39324296
  ridgecv            4    .03786102    .03786102
  lassocv            5   -.19950754   -.19950754
  ridgecv            6    .02660151    .02660151
       rf            7    .48007191    .48007191
       rf            8    .66883872    .66883872
       rf            9   -.78560445   -.78560445
gradboost           10    .11783566    .11783566
gradboost           11    .11208238    .11208238
     nnet           12   -.32610198   -.32610198
     nnet           13    .00622341    .00622341

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01647911    .01647911
      ols            2   -.01252107   -.01252107
  lassocv            3   -.16289237   -.16289237
  ridgecv            4    .37288614    .37288614
  lassocv            5    .18309431    .18309431
  ridgecv            6    .05901239    .05901239
       rf            7    .50423144    .50423144
       rf            8    .42150599    .42150599
       rf            9   -.55106401   -.55106401
gradboost           10    .05744054    .05744054
gradboost           11    .08918646    .08918646
     nnet           12    .03709062    .03709062
     nnet           13   -.00617488   -.00617488

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .06029464    .06029464
      ols            2    .17381531    .17381531
  lassocv            3    .39324296    .39324296
  ridgecv            4    .03786102    .03786102
  lassocv            5   -.19950754   -.19950754
  ridgecv            6    .02660151    .02660151
       rf            7    .48007191    .48007191
       rf            8    .66883872    .66883872
       rf            9   -.78560445   -.78560445
gradboost           10    .11783566    .11783566
gradboost           11    .11208238    .11208238
     nnet           12   -.32610198   -.32610198
     nnet           13    .00622341    .00622341

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0602946   .0602946 |
   2. |        2   .1738153   .1738153 |
   3. |        3    .393243    .393243 |
   4. |        4    .037861    .037861 |
      +--------------------------------+
(note: file out_8756/D1_pystacked_w_mn_ols_regular.dta not found)
file out_8756/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .13137833    .13137833
      ols            2    .16210421    .16210421
  lassocv            3    .45051822    .45051822
  ridgecv            4    .09356439    .09356439
  lassocv            5   -.33201234   -.33201234
  ridgecv            6   -.05316062   -.05316062
       rf            7    .50251668    .50251668
       rf            8    .70834428    .70834428
       rf            9   -.83901217   -.83901217
gradboost           10    .15684127    .15684127
gradboost           11    .07793813    .07793813
     nnet           12   -.02844318   -.02844318
     nnet           13      .035423      .035423

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .05378949    .05378949
      ols            2   -.02362447   -.02362447
  lassocv            3   -.52961462   -.52961462
  ridgecv            4    .25454415    .25454415
  lassocv            5    .29839378    .29839378
  ridgecv            6    .33779048    .33779048
       rf            7    .52314736    .52314736
       rf            8    .20127148    .20127148
       rf            9   -.36127505   -.36127505
gradboost           10    .12999184    .12999184
gradboost           11    .06565264    .06565264
     nnet           12    .05351128    .05351128
     nnet           13    .04467212    .04467212

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .05378949    .05378949
      ols            2   -.02362447   -.02362447
  lassocv            3   -.52961462   -.52961462
  ridgecv            4    .25454415    .25454415
  lassocv            5    .29839378    .29839378
  ridgecv            6    .33779048    .33779048
       rf            7    .52314736    .52314736
       rf            8    .20127148    .20127148
       rf            9   -.36127505   -.36127505
gradboost           10    .12999184    .12999184
gradboost           11    .06565264    .06565264
     nnet           12    .05351128    .05351128
     nnet           13    .04467212    .04467212

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.7028543          1    .0537895    .0537895 |
   2. | 3.2635864          2   -.0236245   -.0236245 |
   3. | 2.9742469          3   -.5296146   -.5296146 |
   4. | 2.6231025          4    .2545441    .2545441 |
      +----------------------------------------------+
(note: file out_8756/Y_lnearn_ss_ols_short.dta not found)
file out_8756/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .13137833    .13137833
      ols            2    .16210421    .16210421
  lassocv            3    .45051822    .45051822
  ridgecv            4    .09356439    .09356439
  lassocv            5   -.33201234   -.33201234
  ridgecv            6   -.05316062   -.05316062
       rf            7    .50251668    .50251668
       rf            8    .70834428    .70834428
       rf            9   -.83901217   -.83901217
gradboost           10    .15684127    .15684127
gradboost           11    .07793813    .07793813
     nnet           12   -.02844318   -.02844318
     nnet           13      .035423      .035423

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75089176          1   .1313783   .1313783 |
   2. | .48015072          2   .1621042   .1621042 |
   3. | .17080429          3   .4505182   .4505182 |
   4. | .20573018          4   .0935644   .0935644 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ss_ols_short.dta not found)
file out_8756/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .00425016    .00425016
      ols            2   -.00687296   -.00687296
  lassocv            3   -.01525353   -.01525353
  ridgecv            4    .39147072    .39147072
  lassocv            5    .00453918    .00453918
  ridgecv            6    .07921101    .07921101
       rf            7    .51922717    .51922717
       rf            8    .43587269    .43587269
       rf            9   -.57511793   -.57511793
gradboost           10    .06132369    .06132369
gradboost           11    .09778952    .09778952
     nnet           12    .03128872    .03128872
     nnet           13   -.00293541   -.00293541

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6447478          1    .0042502    .0042502 |
   2. | 3.1986892          2    -.006873    -.006873 |
   3. | 2.9013504          3   -.0152535   -.0152535 |
   4. | 2.5615681          4    .3914707    .3914707 |
      +----------------------------------------------+
(note: file out_8756/Y_lnearn_ps_ols_pooled.dta not found)
file out_8756/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .03167753    .03167753
      ols            2    .17703828    .17703828
  lassocv            3    .33306048    .33306048
  ridgecv            4    .06743924    .06743924
  lassocv            5   -.10451594   -.10451594
  ridgecv            6    .00083145    .00083145
       rf            7    .48917153    .48917153
       rf            8    .64940919    .64940919
       rf            9   -.78473319   -.78473319
gradboost           10    .10825329    .10825329
gradboost           11    .11940019    .11940019
     nnet           12    .01617784    .01617784
     nnet           13    .00837828    .00837828

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77530709          1   .0316775   .0316775 |
   2. |  .5168708          2   .1770383   .1770383 |
   3. | .18727609          3   .3330605   .3330605 |
   4. | .23842828          4   .0674392   .0674392 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ps_ols_pooled.dta not found)
file out_8756/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.907    (0.061)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0994371   .0165827    -6.00   0.000    -.1319386   -.0669356
       _cons |   .0184302   .0061822     2.98   0.003     .0063133    .0305471
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.907    (0.061)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.9070037   .0612814   -14.80   0.000    -1.027113   -.7868943
       _cons |   1.058056    .027058    39.10   0.000     1.005023    1.111088
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.099    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0994371   .0165827    -6.00   0.000    -.1319386   -.0669356
       _cons |   .0184302   .0061822     2.98   0.003     .0063133    .0305471
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.100    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.100359   .0166496    -6.03   0.000    -.1329916   -.0677264
       _cons |  -.1109943   .0061926   -17.92   0.000    -.1231316    -.098857
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07914937    .07914937
      ols            2     .1681915     .1681915
  lassocv            3    .53906042    .53906042
  ridgecv            4      .071585      .071585
  lassocv            5     -.349941     -.349941
  ridgecv            6   -.03262779   -.03262779
       rf            7    .50958545    .50958545
       rf            8    .54118835    .54118835
       rf            9   -.68439517   -.68439517
gradboost           10    .12498819    .12498819
gradboost           11    .09500916    .09500916
     nnet           12   -.08013572   -.08013572
     nnet           13     .0079645     .0079645

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01558452    .01558452
      ols            2   -.00976928   -.00976928
  lassocv            3     .0029485     .0029485
  ridgecv            4    .19604337    .19604337
  lassocv            5   -.01870001   -.01870001
  ridgecv            6    .29169672    .29169672
       rf            7    .59610403    .59610403
       rf            8   -.00609056   -.00609056
       rf            9   -.16957786   -.16957786
gradboost           10    .09090209    .09090209
gradboost           11    .03461746    .03461746
     nnet           12   -.42394981   -.42394981
     nnet           13    .01758205    .01758205

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07914937    .07914937
      ols            2     .1681915     .1681915
  lassocv            3    .53906042    .53906042
  ridgecv            4      .071585      .071585
  lassocv            5     -.349941     -.349941
  ridgecv            6   -.03262779   -.03262779
       rf            7    .50958545    .50958545
       rf            8    .54118835    .54118835
       rf            9   -.68439517   -.68439517
gradboost           10    .12498819    .12498819
gradboost           11    .09500916    .09500916
     nnet           12   -.08013572   -.08013572
     nnet           13     .0079645     .0079645

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01558452    .01558452
      ols            2   -.00976928   -.00976928
  lassocv            3     .0029485     .0029485
  ridgecv            4    .19604337    .19604337
  lassocv            5   -.01870001   -.01870001
  ridgecv            6    .29169672    .29169672
       rf            7    .59610403    .59610403
       rf            8   -.00609056   -.00609056
       rf            9   -.16957786   -.16957786
gradboost           10    .09090209    .09090209
gradboost           11    .03461746    .03461746
     nnet           12   -.42394981   -.42394981
     nnet           13    .01758205    .01758205

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01558452    .01558452
      ols            2   -.00976928   -.00976928
  lassocv            3     .0029485     .0029485
  ridgecv            4    .19604337    .19604337
  lassocv            5   -.01870001   -.01870001
  ridgecv            6    .29169672    .29169672
       rf            7    .59610403    .59610403
       rf            8   -.00609056   -.00609056
       rf            9   -.16957786   -.16957786
gradboost           10    .09090209    .09090209
gradboost           11    .03461746    .03461746
     nnet           12   -.42394981   -.42394981
     nnet           13    .01758205    .01758205

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1    .0155845    .0155845 |
   2. |        2   -.0097693   -.0097693 |
   3. |        3    .0029485    .0029485 |
   4. |        4    .1960434    .1960434 |
      +----------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_3928/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .07914937    .07914937
      ols            2     .1681915     .1681915
  lassocv            3    .53906042    .53906042
  ridgecv            4      .071585      .071585
  lassocv            5     -.349941     -.349941
  ridgecv            6   -.03262779   -.03262779
       rf            7    .50958545    .50958545
       rf            8    .54118835    .54118835
       rf            9   -.68439517   -.68439517
gradboost           10    .12498819    .12498819
gradboost           11    .09500916    .09500916
     nnet           12   -.08013572   -.08013572
     nnet           13     .0079645     .0079645

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .01558452    .01558452
      ols            2   -.00976928   -.00976928
  lassocv            3     .0029485     .0029485
  ridgecv            4    .19604337    .19604337
  lassocv            5   -.01870001   -.01870001
  ridgecv            6    .29169672    .29169672
       rf            7    .59610403    .59610403
       rf            8   -.00609056   -.00609056
       rf            9   -.16957786   -.16957786
gradboost           10    .09090209    .09090209
gradboost           11    .03461746    .03461746
     nnet           12   -.42394981   -.42394981
     nnet           13    .01758205    .01758205

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07914937    .07914937
      ols            2     .1681915     .1681915
  lassocv            3    .53906042    .53906042
  ridgecv            4      .071585      .071585
  lassocv            5     -.349941     -.349941
  ridgecv            6   -.03262779   -.03262779
       rf            7    .50958545    .50958545
       rf            8    .54118835    .54118835
       rf            9   -.68439517   -.68439517
gradboost           10    .12498819    .12498819
gradboost           11    .09500916    .09500916
     nnet           12   -.08013572   -.08013572
     nnet           13     .0079645     .0079645

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0791494   .0791494 |
   2. |        2   .1681915   .1681915 |
   3. |        3   .5390604   .5390604 |
   4. |        4    .071585    .071585 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_ols_regular.dta not found)
file out_3928/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .16179655    .16179655
      ols            2    .15851139    .15851139
  lassocv            3    .42935999    .42935999
  ridgecv            4    .10379813    .10379813
  lassocv            5   -.34207153   -.34207153
  ridgecv            6   -.03971216   -.03971216
       rf            7     .5165613     .5165613
       rf            8    .71485431    .71485431
       rf            9   -.82792484   -.82792484
gradboost           10    .12610836    .12610836
gradboost           11    .10219682    .10219682
     nnet           12    .05093922    .05093922
     nnet           13   -.02085516   -.02085516

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1     .0045763     .0045763
      ols            2    .01085754    .01085754
  lassocv            3   -.23458982   -.23458982
  ridgecv            4    .10182558    .10182558
  lassocv            5    .17941614    .17941614
  ridgecv            6    .41665764    .41665764
       rf            7    .43338188    .43338188
       rf            8    .48963863    .48963863
       rf            9   -.62578791   -.62578791
gradboost           10    .12754733    .12754733
gradboost           11    .10699421    .10699421
     nnet           12   -.02369365   -.02369365
     nnet           13    .00267251    .00267251

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1     .0045763     .0045763
      ols            2    .01085754    .01085754
  lassocv            3   -.23458982   -.23458982
  ridgecv            4    .10182558    .10182558
  lassocv            5    .17941614    .17941614
  ridgecv            6    .41665764    .41665764
       rf            7    .43338188    .43338188
       rf            8    .48963863    .48963863
       rf            9   -.62578791   -.62578791
gradboost           10    .12754733    .12754733
gradboost           11    .10699421    .10699421
     nnet           12   -.02369365   -.02369365
     nnet           13    .00267251    .00267251

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.5527182          1    .0045763    .0045763 |
   2. | 3.1068897          2    .0108575    .0108575 |
   3. |  2.819695          3   -.2345898   -.2345898 |
   4. | 2.4837208          4    .1018256    .1018256 |
      +----------------------------------------------+
(note: file out_3928/Y_lnearn_ss_ols_short.dta not found)
file out_3928/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .16179655    .16179655
      ols            2    .15851139    .15851139
  lassocv            3    .42935999    .42935999
  ridgecv            4    .10379813    .10379813
  lassocv            5   -.34207153   -.34207153
  ridgecv            6   -.03971216   -.03971216
       rf            7     .5165613     .5165613
       rf            8    .71485431    .71485431
       rf            9   -.82792484   -.82792484
gradboost           10    .12610836    .12610836
gradboost           11    .10219682    .10219682
     nnet           12    .05093922    .05093922
     nnet           13   -.02085516   -.02085516

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .78725427          1   .1617965   .1617965 |
   2. | .49503988          2   .1585114   .1585114 |
   3. | .18866023          3     .42936     .42936 |
   4. | .27367362          4   .1037981   .1037981 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_ols_short.dta not found)
file out_3928/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .01448429    .01448429
      ols            2   -.01327388   -.01327388
  lassocv            3    .10248529    .10248529
  ridgecv            4     .2644983     .2644983
  lassocv            5   -.15142226   -.15142226
  ridgecv            6    .24744738    .24744738
       rf            7     .6022238     .6022238
       rf            8    .01651953    .01651953
       rf            9   -.19948837   -.19948837
gradboost           10     .1000018     .1000018
gradboost           11    .04155953    .04155953
     nnet           12   -.00595144   -.00595144
     nnet           13    .01759292    .01759292

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6891374          1    .0144843    .0144843 |
   2. | 3.2318623          2   -.0132739   -.0132739 |
   3. | 2.9531413          3    .1024853    .1024853 |
   4. | 2.6157801          4    .2644983    .2644983 |
      +----------------------------------------------+
(note: file out_3928/Y_lnearn_ps_ols_pooled.dta not found)
file out_3928/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .06278356    .06278356
      ols            2    .17373754    .17373754
  lassocv            3    .43535715    .43535715
  ridgecv            4     .1042592     .1042592
  lassocv            5   -.22050682   -.22050682
  ridgecv            6   -.04168614   -.04168614
       rf            7    .51495669    .51495669
       rf            8     .5504172     .5504172
       rf            9   -.70160454   -.70160454
gradboost           10    .11681951    .11681951
gradboost           11    .10010464    .10010464
     nnet           12    .01704683    .01704683
     nnet           13    .00400639    .00400639

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77053769          1   .0627836   .0627836 |
   2. | .48210381          2   .1737375   .1737375 |
   3. | .18003026          3   .4353572   .4353572 |
   4. | .28723388          4   .1042592   .1042592 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ps_ols_pooled.dta not found)
file out_3928/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1022372    .016616    -6.15   0.000    -.1348039   -.0696705
       _cons |   .0005838   .0063387     0.09   0.927    -.0118399    .0130075
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1022372    .016616    -6.15   0.000    -.1348039   -.0696705
       _cons |   .0005838   .0063387     0.09   0.927    -.0118399    .0130075
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1022372    .016616    -6.15   0.000    -.1348039   -.0696705
       _cons |   .0005838   .0063387     0.09   0.927    -.0118399    .0130075
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1022372    .016616    -6.15   0.000    -.1348039   -.0696705
       _cons |   .0005838   .0063387     0.09   0.927    -.0118399    .0130075
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_8756/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_8756/D1_pystacked_w_mn_avg_regular.dta not found)
file out_8756/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6595482          1   .0769231   .0769231 |
   2. | 3.1145179          2   .0769231   .0769231 |
   3. | 2.8197554          3   .0769231   .0769231 |
   4. | 2.5001263          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_8756/Y_lnearn_ss_avg_short.dta not found)
file out_8756/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69005698          1   .0769231   .0769231 |
   2. |  .4605036          2   .0769231   .0769231 |
   3. | .29968758          3   .0769231   .0769231 |
   4. | .39173606          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ss_avg_short.dta not found)
file out_8756/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6595482          1   .0769231   .0769231 |
   2. | 3.1145179          2   .0769231   .0769231 |
   3. | 2.8197554          3   .0769231   .0769231 |
   4. | 2.5001263          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_8756/Y_lnearn_ps_avg_pooled.dta not found)
file out_8756/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69005698          1   .0769231   .0769231 |
   2. |  .4605036          2   .0769231   .0769231 |
   3. | .29968758          3   .0769231   .0769231 |
   4. | .39173606          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ps_avg_pooled.dta not found)
file out_8756/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1157307   .0189624    -6.10   0.000    -.1528963   -.0785651
       _cons |  -.0009386   .0065553    -0.14   0.886    -.0137868    .0119095
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1216778   .0153972    -7.90   0.000    -.1518559   -.0914998
       _cons |   -.000396    .006856    -0.06   0.954    -.0138335    .0130414
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.102881   .0168011    -6.12   0.000    -.1358106   -.0699514
       _cons |  -.0014805   .0064032    -0.23   0.817    -.0140306    .0110696
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1002628   .0166604    -6.02   0.000    -.1329165    -.067609
       _cons |  -.0008331    .006412    -0.13   0.897    -.0134003    .0117342
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1028514   .0168073    -6.12   0.000    -.1357931   -.0699096
       _cons |  -.0022493   .0063784    -0.35   0.724    -.0147507    .0102521
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1058526    .016756    -6.32   0.000    -.1386937   -.0730115
       _cons |  -.0017875   .0063667    -0.28   0.779    -.0142661    .0106911
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1037537   .0164003    -6.33   0.000    -.1358977   -.0716098
       _cons |  -.0033218   .0063856    -0.52   0.603    -.0158374    .0091938
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1114926   .0168602    -6.61   0.000     -.144538   -.0784472
       _cons |  -.0001031   .0066199    -0.02   0.988    -.0130779    .0128716
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1132061   .0166985    -6.78   0.000    -.1459346   -.0804775
       _cons |   .0000967   .0067448     0.01   0.989     -.013123    .0133163
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0888605   .0165856    -5.36   0.000    -.1213676   -.0563533
       _cons |  -.0035592   .0064308    -0.55   0.580    -.0161633    .0090449
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.095445   .0162763    -5.86   0.000    -.1273461    -.063544
       _cons |  -.0076812   .0065777    -1.17   0.243    -.0205732    .0052108
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0822628   .0155461    -5.29   0.000    -.1127325    -.051793
       _cons |   .0001705   .0073933     0.02   0.982      -.01432     .014661
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0671412   .0224704    -2.99   0.003    -.1111823   -.0231001
       _cons |   .0290915   .0079808     3.65   0.000     .0134494    .0447336
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101768   .0168164    -6.05   0.000    -.1347275   -.0688085
       _cons |   .0000875   .0063694     0.01   0.989    -.0123963    .0125713
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101768   .0168164    -6.05   0.000    -.1347275   -.0688085
       _cons |   .0000875   .0063694     0.01   0.989    -.0123963    .0125713
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101768   .0168164    -6.05   0.000    -.1347275   -.0688085
       _cons |   .0000875   .0063694     0.01   0.989    -.0123963    .0125713
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101768   .0168164    -6.05   0.000    -.1347275   -.0688085
       _cons |   .0000875   .0063694     0.01   0.989    -.0123963    .0125713
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_3928/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_avg_regular.dta not found)
file out_3928/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6737714          1   .0769231   .0769231 |
   2. |  3.169561          2   .0769231   .0769231 |
   3. |  2.840357          3   .0769231   .0769231 |
   4. | 2.5327881          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3928/Y_lnearn_ss_avg_short.dta not found)
file out_3928/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71810078          1   .0769231   .0769231 |
   2. | .44702634          2   .0769231   .0769231 |
   3. | .21847305          3   .0769231   .0769231 |
   4. |  .3890933          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_avg_short.dta not found)
file out_3928/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6737714          1   .0769231   .0769231 |
   2. |  3.169561          2   .0769231   .0769231 |
   3. |  2.840357          3   .0769231   .0769231 |
   4. | 2.5327881          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3928/Y_lnearn_ps_avg_pooled.dta not found)
file out_3928/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71810078          1   .0769231   .0769231 |
   2. | .44702634          2   .0769231   .0769231 |
   3. | .21847305          3   .0769231   .0769231 |
   4. |  .3890933          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ps_avg_pooled.dta not found)
file out_3928/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1083882   .0182579    -5.94   0.000     -.144173   -.0726034
       _cons |  -.0028579      .0067    -0.43   0.670    -.0159897    .0102738
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1214974   .0154167    -7.88   0.000    -.1517135   -.0912812
       _cons |  -.0000133   .0068562    -0.00   0.998    -.0134513    .0134246
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0990156   .0166399    -5.95   0.000    -.1316291    -.066402
       _cons |  -.0009126   .0063889    -0.14   0.886    -.0134347    .0116095
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0990929   .0167004    -5.93   0.000     -.131825   -.0663609
       _cons |  -.0005378   .0064033    -0.08   0.933     -.013088    .0120124
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0992226   .0167219    -5.93   0.000    -.1319969   -.0664483
       _cons |  -.0017602   .0063723    -0.28   0.782    -.0142496    .0107292
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1046336    .016841    -6.21   0.000    -.1376414   -.0716258
       _cons |  -.0016802   .0063651    -0.26   0.792    -.0141556    .0107951
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1004037   .0165691    -6.06   0.000    -.1328786   -.0679288
       _cons |  -.0027724   .0063922    -0.43   0.664     -.015301    .0097561
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1112788   .0169041    -6.58   0.000    -.1444102   -.0781473
       _cons |   .0004758   .0066213     0.07   0.943    -.0125016    .0134532
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1134806    .016707    -6.79   0.000    -.1462256   -.0807356
       _cons |   .0000386   .0067466     0.01   0.995    -.0131844    .0132617
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0904615   .0165879    -5.45   0.000    -.1229732   -.0579498
       _cons |  -.0016895   .0064236    -0.26   0.793    -.0142795    .0109005
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0798435   .0163308    -4.89   0.000    -.1118512   -.0478358
       _cons |  -.0059171   .0065319    -0.91   0.365    -.0187195    .0068853
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1212966   .0174121    -6.97   0.000    -.1554237   -.0871696
       _cons |   .0166526   .0080524     2.07   0.039     .0008702     .032435
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0296721   .0210013    -1.41   0.158    -.0708338    .0114896
       _cons |   .0043746   .0083046     0.53   0.598     -.011902    .0206512
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.037    (0.036)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1012219   .0166558    -6.08   0.000    -.1338668   -.0685771
       _cons |  -.0158829   .0073167    -2.17   0.030    -.0302234   -.0015425
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.037    (0.036)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.037238   .0355278    -1.05   0.295    -.1068713    .0323953
       _cons |    .813829   .0273814    29.72   0.000     .7601625    .8674956
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1012219   .0166558    -6.08   0.000    -.1338668   -.0685771
       _cons |  -.0158829   .0073167    -2.17   0.030    -.0302234   -.0015425
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.102    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1015416   .0167849    -6.05   0.000    -.1344394   -.0686438
       _cons |  -.0591748   .0066143    -8.95   0.000    -.0721386    -.046211
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06347892    .06347892
      ols            2    .18069476    .18069476
  lassocv            3    .42719025    .42719025
  ridgecv            4    .06978304    .06978304
  lassocv            5   -.29282898   -.29282898
  ridgecv            6    .06908814    .06908814
       rf            7    .51297901    .51297901
       rf            8    .60294822    .60294822
       rf            9    -.7238818    -.7238818
gradboost           10    .11299549    .11299549
gradboost           11    .08676177    .08676177
     nnet           12   -.60157432   -.60157432
     nnet           13     .0061265     .0061265

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.00790264   -.00790264
      ols            2   -.00428002   -.00428002
  lassocv            3   -.20381215   -.20381215
  ridgecv            4    .24520311    .24520311
  lassocv            5    .18474843    .18474843
  ridgecv            6    .25285967    .25285967
       rf            7    .51103892    .51103892
       rf            8    .30410662    .30410662
       rf            9   -.50683296   -.50683296
gradboost           10    .17843425    .17843425
gradboost           11    .02895504    .02895504
     nnet           12   -.28332583   -.28332583
     nnet           13    .00950443    .00950443

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06347892    .06347892
      ols            2    .18069476    .18069476
  lassocv            3    .42719025    .42719025
  ridgecv            4    .06978304    .06978304
  lassocv            5   -.29282898   -.29282898
  ridgecv            6    .06908814    .06908814
       rf            7    .51297901    .51297901
       rf            8    .60294822    .60294822
       rf            9    -.7238818    -.7238818
gradboost           10    .11299549    .11299549
gradboost           11    .08676177    .08676177
     nnet           12   -.60157432   -.60157432
     nnet           13     .0061265     .0061265

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.00790264   -.00790264
      ols            2   -.00428002   -.00428002
  lassocv            3   -.20381215   -.20381215
  ridgecv            4    .24520311    .24520311
  lassocv            5    .18474843    .18474843
  ridgecv            6    .25285967    .25285967
       rf            7    .51103892    .51103892
       rf            8    .30410662    .30410662
       rf            9   -.50683296   -.50683296
gradboost           10    .17843425    .17843425
gradboost           11    .02895504    .02895504
     nnet           12   -.28332583   -.28332583
     nnet           13    .00950443    .00950443

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1   -.00790264   -.00790264
      ols            2   -.00428002   -.00428002
  lassocv            3   -.20381215   -.20381215
  ridgecv            4    .24520311    .24520311
  lassocv            5    .18474843    .18474843
  ridgecv            6    .25285967    .25285967
       rf            7    .51103892    .51103892
       rf            8    .30410662    .30410662
       rf            9   -.50683296   -.50683296
gradboost           10    .17843425    .17843425
gradboost           11    .02895504    .02895504
     nnet           12   -.28332583   -.28332583
     nnet           13    .00950443    .00950443

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1   -.0079026   -.0079026 |
   2. |        2     -.00428     -.00428 |
   3. |        3   -.2038122   -.2038122 |
   4. |        4    .2452031    .2452031 |
      +----------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_53356/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .06347892    .06347892
      ols            2    .18069476    .18069476
  lassocv            3    .42719025    .42719025
  ridgecv            4    .06978304    .06978304
  lassocv            5   -.29282898   -.29282898
  ridgecv            6    .06908814    .06908814
       rf            7    .51297901    .51297901
       rf            8    .60294822    .60294822
       rf            9    -.7238818    -.7238818
gradboost           10    .11299549    .11299549
gradboost           11    .08676177    .08676177
     nnet           12   -.60157432   -.60157432
     nnet           13     .0061265     .0061265

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.00790264   -.00790264
      ols            2   -.00428002   -.00428002
  lassocv            3   -.20381215   -.20381215
  ridgecv            4    .24520311    .24520311
  lassocv            5    .18474843    .18474843
  ridgecv            6    .25285967    .25285967
       rf            7    .51103892    .51103892
       rf            8    .30410662    .30410662
       rf            9   -.50683296   -.50683296
gradboost           10    .17843425    .17843425
gradboost           11    .02895504    .02895504
     nnet           12   -.28332583   -.28332583
     nnet           13    .00950443    .00950443

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .06347892    .06347892
      ols            2    .18069476    .18069476
  lassocv            3    .42719025    .42719025
  ridgecv            4    .06978304    .06978304
  lassocv            5   -.29282898   -.29282898
  ridgecv            6    .06908814    .06908814
       rf            7    .51297901    .51297901
       rf            8    .60294822    .60294822
       rf            9    -.7238818    -.7238818
gradboost           10    .11299549    .11299549
gradboost           11    .08676177    .08676177
     nnet           12   -.60157432   -.60157432
     nnet           13     .0061265     .0061265

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0634789   .0634789 |
   2. |        2   .1806948   .1806948 |
   3. |        3   .4271902   .4271902 |
   4. |        4    .069783    .069783 |
      +--------------------------------+
(note: file out_53356/D1_pystacked_w_mn_ols_regular.dta not found)
file out_53356/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .15273753    .15273753
      ols            2    .15134157    .15134157
  lassocv            3    .39284901    .39284901
  ridgecv            4    .19184242    .19184242
  lassocv            5    -.3122115    -.3122115
  ridgecv            6   -.15639879   -.15639879
       rf            7      .540623      .540623
       rf            8    .53519544    .53519544
       rf            9   -.67389245   -.67389245
gradboost           10    .07781526    .07781526
gradboost           11    .19864363    .19864363
     nnet           12    .41025849    .41025849
     nnet           13    .00409085    .00409085

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.02259494   -.02259494
      ols            2    .01409273    .01409273
  lassocv            3   -.17726105   -.17726105
  ridgecv            4    .07648258    .07648258
  lassocv            5    .02539065    .02539065
  ridgecv            6    .54268091    .54268091
       rf            7    .40279666    .40279666
       rf            8    .85924296    .85924296
       rf            9   -.95682125   -.95682125
gradboost           10    .02167265    .02167265
gradboost           11    .18606989    .18606989
     nnet           12     .0375371     .0375371
     nnet           13   -.01539147   -.01539147

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1   -.02259494   -.02259494
      ols            2    .01409273    .01409273
  lassocv            3   -.17726105   -.17726105
  ridgecv            4    .07648258    .07648258
  lassocv            5    .02539065    .02539065
  ridgecv            6    .54268091    .54268091
       rf            7    .40279666    .40279666
       rf            8    .85924296    .85924296
       rf            9   -.95682125   -.95682125
gradboost           10    .02167265    .02167265
gradboost           11    .18606989    .18606989
     nnet           12     .0375371     .0375371
     nnet           13   -.01539147   -.01539147

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. |  2.604334          1   -.0225949   -.0225949 |
   2. | 3.1231112          2    .0140927    .0140927 |
   3. | 2.7817585          3   -.1772611   -.1772611 |
   4. | 2.4861528          4    .0764826    .0764826 |
      +----------------------------------------------+
(note: file out_53356/Y_lnearn_ss_ols_short.dta not found)
file out_53356/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .15273753    .15273753
      ols            2    .15134157    .15134157
  lassocv            3    .39284901    .39284901
  ridgecv            4    .19184242    .19184242
  lassocv            5    -.3122115    -.3122115
  ridgecv            6   -.15639879   -.15639879
       rf            7      .540623      .540623
       rf            8    .53519544    .53519544
       rf            9   -.67389245   -.67389245
gradboost           10    .07781526    .07781526
gradboost           11    .19864363    .19864363
     nnet           12    .41025849    .41025849
     nnet           13    .00409085    .00409085

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | 1.0351679          1   .1527375   .1527375 |
   2. | .73033211          2   .1513416   .1513416 |
   3. |  .3670879          3    .392849    .392849 |
   4. | .43251659          4   .1918424   .1918424 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ss_ols_short.dta not found)
file out_53356/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .00482984    .00482984
      ols            2   -.02065437   -.02065437
  lassocv            3   -.00853601   -.00853601
  ridgecv            4    .43937662    .43937662
  lassocv            5   -.08167312   -.08167312
  ridgecv            6    .10643769    .10643769
       rf            7    .53217747    .53217747
       rf            8    .33074279    .33074279
       rf            9   -.53250857   -.53250857
gradboost           10    .19528306    .19528306
gradboost           11    .03630192    .03630192
     nnet           12    .00652708    .00652708
     nnet           13    .01505901    .01505901

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6353048          1    .0048298    .0048298 |
   2. | 3.1796702          2   -.0206544   -.0206544 |
   3. | 2.8800569          3    -.008536    -.008536 |
   4. | 2.5673103          4    .4393766    .4393766 |
      +----------------------------------------------+
(note: file out_53356/Y_lnearn_ps_ols_pooled.dta not found)
file out_53356/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .02083341    .02083341
      ols            2    .18469731    .18469731
  lassocv            3    .42370434    .42370434
  ridgecv            4    .05957704    .05957704
  lassocv            5    -.2691196    -.2691196
  ridgecv            6    .10319834    .10319834
       rf            7    .51692717    .51692717
       rf            8    .59587442    .59587442
       rf            9   -.72714491   -.72714491
gradboost           10    .10367481    .10367481
gradboost           11    .09798532    .09798532
     nnet           12     -.245162     -.245162
     nnet           13      .006037      .006037

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .66542341          1   .0208334   .0208334 |
   2. | .34111787          2   .1846973   .1846973 |
   3. | .01830387          3   .4237043   .4237043 |
   4. | .07410513          4    .059577    .059577 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_ols_pooled.dta not found)
file out_53356/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.107    (0.017)
  ss  1  [shortstack]          [ss]    -0.107    (0.017)
  ps  1   [poolstack]          [ps]    -0.107    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1070988   .0171071    -6.26   0.000    -.1406281   -.0735696
       _cons |  -.0012508   .0063564    -0.20   0.844    -.0137091    .0112074
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.107    (0.017)
  ss  1  [shortstack]          [ss]    -0.107    (0.017)
  ps  1   [poolstack]          [ps]    -0.107    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1070988   .0171071    -6.26   0.000    -.1406281   -.0735696
       _cons |  -.0012508   .0063564    -0.20   0.844    -.0137091    .0112074
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.107    (0.017)
  ss  1  [shortstack]          [ss]    -0.107    (0.017)
  ps  1   [poolstack]          [ps]    -0.107    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1070988   .0171071    -6.26   0.000    -.1406281   -.0735696
       _cons |  -.0012508   .0063564    -0.20   0.844    -.0137091    .0112074
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.107    (0.017)
  ss  1  [shortstack]          [ss]    -0.107    (0.017)
  ps  1   [poolstack]          [ps]    -0.107    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1070988   .0171071    -6.26   0.000    -.1406281   -.0735696
       _cons |  -.0012508   .0063564    -0.20   0.844    -.0137091    .0112074
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_53356/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_53356/D1_pystacked_w_mn_avg_regular.dta not found)
file out_53356/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6417978          1   .0769231   .0769231 |
   2. | 3.1583594          2   .0769231   .0769231 |
   3. |  2.823372          3   .0769231   .0769231 |
   4. | 2.5572811          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_53356/Y_lnearn_ss_avg_short.dta not found)
file out_53356/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69861201          1   .0769231   .0769231 |
   2. | .44039597          2   .0769231   .0769231 |
   3. | .23824529          3   .0769231   .0769231 |
   4. |  .3896817          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ss_avg_short.dta not found)
file out_53356/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6417978          1   .0769231   .0769231 |
   2. | 3.1583594          2   .0769231   .0769231 |
   3. |  2.823372          3   .0769231   .0769231 |
   4. | 2.5572811          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_53356/Y_lnearn_ps_avg_pooled.dta not found)
file out_53356/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69861201          1   .0769231   .0769231 |
   2. | .44039597          2   .0769231   .0769231 |
   3. | .23824529          3   .0769231   .0769231 |
   4. |  .3896817          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_avg_pooled.dta not found)
file out_53356/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1017919   .0182118    -5.59   0.000    -.1374863   -.0660975
       _cons |  -.0003693   .0067408    -0.05   0.956     -.013581    .0128424
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1189563    .015449    -7.70   0.000    -.1492358   -.0886768
       _cons |   .0000592    .006858     0.01   0.993    -.0133821    .0135006
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0991974   .0166915    -5.94   0.000    -.1319121   -.0664827
       _cons |   .0003776   .0063901     0.06   0.953    -.0121468    .0129019
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0999256   .0167037    -5.98   0.000    -.1326643   -.0671869
       _cons |  -9.59e-06   .0064004    -0.00   0.999    -.0125542     .012535
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0992012   .0166681    -5.95   0.000    -.1318701   -.0665322
       _cons |  -.0011165   .0063926    -0.17   0.861    -.0136458    .0114128
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1022283   .0167901    -6.09   0.000    -.1351364   -.0693203
       _cons |  -.0009633   .0063648    -0.15   0.880    -.0134381    .0115116
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0992314   .0165426    -6.00   0.000    -.1316543   -.0668086
       _cons |  -.0025417   .0063945    -0.40   0.691    -.0150746    .0099912
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.110582     .01692    -6.54   0.000    -.1437446   -.0774193
       _cons |   .0004002   .0066234     0.06   0.952    -.0125814    .0133817
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.113136   .0167084    -6.77   0.000     -.145884   -.0803881
       _cons |   .0003189   .0067505     0.05   0.962     -.012912    .0135497
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0907458   .0167537    -5.42   0.000    -.1235824   -.0579092
       _cons |  -.0017385   .0064504    -0.27   0.788    -.0143811    .0109041
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0886288   .0166738    -5.32   0.000    -.1213089   -.0559487
       _cons |  -.0054714    .006517    -0.84   0.401    -.0182445    .0073017
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1091339   .0154926    -7.04   0.000    -.1394987    -.078769
       _cons |   .0001844   .0074905     0.02   0.980    -.0144967    .0148655
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0367812   .0280336    -1.31   0.190     -.091726    .0181637
       _cons |  -.0063516   .0079175    -0.80   0.422    -.0218696    .0091664
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0988764   .0165523    -5.97   0.000    -.1313183   -.0664345
       _cons |  -.0023738   .0062887    -0.38   0.706    -.0146994    .0099518
------------------------------------------------------------------------------
Stacking final estimator: nnls1

.         
.         foreach mat in lnearn_mse gender_r_mse {
  2.                         ddml extract, show(mse)
  3.                         mat `mat' = r(`mat')
  4.                         mat list `mat'
  5.                                 preserve
  6.                                 svmat `mat'
  7.                                 keep `mat'*
  8.                                 keep if _n<=$L
  9.                                 gen stack_type = "conventional" if _n==1
 10.                                 replace stack_type = "pooled" if _n==2
 11.                                 replace stack_type = "short" if _n==3
 12.                                 gen model = "plm"
 13.                                 list if _n<=$L
 14.                                 save `folder'/`mat'_plm_mse, replace
 15.                                 restore 
 16.         }       

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.135       0.154       0.174       0.147
>        0.164       0.161       0.160       0.157       0.149       0.162  
   D_gender_r_ps   1      0.156       0.135       0.154       0.174       0.147
>        0.164       0.160       0.160       0.157       0.149       0.162  
   D_gender_r_ss   1      0.156       0.134       0.155       0.173       0.147
>        0.164       0.159       0.161       0.156       0.148       0.162  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.194       0.150       0.132       0.307       0.137
>        0.191       0.253       0.199       0.169       0.238       0.162  
     Y_lnearn_ps   1      0.193       0.149       0.132       0.307       0.137
>        0.191       0.254       0.198       0.169       0.236       0.161  
     Y_lnearn_ss   1      0.193       0.150       0.132       0.306       0.136
>        0.190       0.251       0.197       0.168       0.234       0.161  

lnearn_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
Y1_pystacked            1    .19378109    .14998402     .1320438    .30741718
 Y_lnearn_ps            1    .19332872    .14926723    .13212116    .30733652
 Y_lnearn_ss            1    .19253505    .14957507    .13202669    .30640434

                    fold4        fold5        fold6        fold7        fold8
Y1_pystacked    .13690352    .19109297    .25349922    .19863931    .16876273
 Y_lnearn_ps    .13653789    .19137286    .25352348    .19751239    .16887988
 Y_lnearn_ss    .13628304    .19042063    .25080905    .19670727    .16805257

                    fold9       fold10
Y1_pystacked    .23782051    .16186362
 Y_lnearn_ps    .23552451    .16142963
 Y_lnearn_ss    .23423916    .16104901
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1937811 |  .149984 | .1320438 | .3074172 | .1369035 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  .191093 | .2534992 | .1986393 | .1687627 | .2378205 | .1618636 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1933287 | .1492672 | .1321212 | .3073365 | .1365379 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1913729 | .2535235 | .1975124 | .1688799 | .2355245 | .1614296 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 | .1925351 | .1495751 | .1320267 | .3064044 |  .136283 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1904206 |  .250809 | .1967073 | .1680526 | .2342392 |  .161049 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnearn~3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_3702/lnearn_mse_plm_mse.dta not found)
file out_3702/lnearn_mse_plm_mse.dta saved

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.135       0.154       0.174       0.147
>        0.164       0.161       0.160       0.157       0.149       0.162  
   D_gender_r_ps   1      0.156       0.135       0.154       0.174       0.147
>        0.164       0.160       0.160       0.157       0.149       0.162  
   D_gender_r_ss   1      0.156       0.134       0.155       0.173       0.147
>        0.164       0.159       0.161       0.156       0.148       0.162  

MSEs for lnearn:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked   1      0.194       0.150       0.132       0.307       0.137
>        0.191       0.253       0.199       0.169       0.238       0.162  
     Y_lnearn_ps   1      0.193       0.149       0.132       0.307       0.137
>        0.191       0.254       0.198       0.169       0.236       0.161  
     Y_lnearn_ss   1      0.193       0.150       0.132       0.306       0.136
>        0.190       0.251       0.197       0.168       0.234       0.161  

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15635472    .13468181    .15425665    .17390452
D_gender_r~s            1    .15625633    .13459739    .15440252    .17402628
D_gender_r~s            1    .15595726    .13397659    .15522147    .17337936

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .14734031    .16438334    .16106954    .16025716    .15660139
D_gender_r~s    .14738723    .16419259    .16048541    .15969785    .15694841
D_gender_r~s     .1470551    .16359726    .15894679    .16107772    .15614451

                    fold9       fold10
D1_pystacked    .14945953    .16159465
D_gender_r~s    .14927552    .16155228
D_gender_r~s      .148446    .16172494
(4,823 observations deleted)
(12 missing values generated)
(1 real change made)
(1 real change made)

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1563547 | .1346818 | .1542567 | .1739045 | .1473403 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1643833 | .1610695 | .1602572 | .1566014 | .1494595 | .1615946 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |           conventional            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1562563 | .1345974 | .1544025 | .1740263 | .1473872 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1641926 | .1604854 | .1596978 | .1569484 | .1492755 | .1615523 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                 pooled            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1559573 | .1339766 | .1552215 | .1733794 | .1470551 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1635973 | .1589468 | .1610777 | .1561445 |  .148446 | .1617249 |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                  short            |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |             stack_type            |            model            |
     |                                   |              plm            |
     +-----------------------------------------------------------------+
(note: file out_3702/gender_r_mse_plm_mse.dta not found)
file out_3702/gender_r_mse_plm_mse.dta saved
. 
.         cap drop mse_*
.         foreach var of varlist Y1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/plm_mse, replace
(note: file out_3702/plm_mse.dta not found)
file out_3702/plm_mse.dta saved
.         restore
.         cap drop mse_*
. 
.         ** initialize results file
.         regsave gender_r using `folder'/results.dta, ci addlabel(model,partia
> l,seed,`seed',final,init,learner,-99) replace
(note: file out_3702/results.dta not found)
file out_3702/results.dta saved
. 
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final')
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay  
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay 
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay  
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,partial,seed,`seed',final,`final',learner,-3) append     
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)   
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)   
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=4
 18.                                                 save `folder'/`mat'_`final
> '_regular, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         qui ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=4
 30.                                                 save `folder'/`mat'_`final
> '_short, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
. 
.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 34.                                         qui ddml extract, show(psweights)
 35.                                         mat `mat' = r(`mat')
 36.                                         mat list `mat'
 37.                                                 preserve
 38.                                                 svmat `mat'
 39.                                                 keep `mat'*
 40.                                                 list if _n<=4
 41.                                                 save `folder'/`mat'_`final
> '_pooled, replace
 42.                                                 restore
 43.                         }       
 44.         
.         }


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0988764   .0165523    -5.97   0.000    -.1313183   -.0664345
       _cons |  -.0023738   .0062887    -0.38   0.706    -.0146994    .0099518
------------------------------------------------------------------------------
Stacking final estimator: nnls1



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1013563   .0166575    -6.08   0.000    -.1340043   -.0687083
       _cons |  -.0010153   .0063069    -0.16   0.872    -.0133766     .011346
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.099    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0988764   .0165523    -5.97   0.000    -.1313183   -.0664345
       _cons |  -.0023738   .0062887    -0.38   0.706    -.0146994    .0099518
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.099    (0.017)
  ss  1  [shortstack]          [ss]    -0.099    (0.017)
  ps  1   [poolstack]          [ps]    -0.099    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0993093   .0166415    -5.97   0.000    -.1319261   -.0666925
       _cons |   -.002457   .0063012    -0.39   0.697     -.014807    .0098931
------------------------------------------------------------------------------
Stacking final estimator: nnls1

file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06399378    .06399378
      ols            2    .00029559    .00029559
  lassocv            3    .29651471    .29651471
  ridgecv            4    2.122e-17    2.122e-17
  lassocv            5    2.009e-17    2.009e-17
  ridgecv            6    2.637e-17    2.637e-17
       rf            7     .3986044     .3986044
       rf            8    9.157e-17    9.157e-17
       rf            9    1.157e-16    1.157e-16
gradboost           10    .00993623    .00993623
gradboost           11    .20707378    .20707378
     nnet           12    .00685131    .00685131
     nnet           13     .0167302     .0167302

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .01676817    .01676817
      ols            2    9.295e-17    9.295e-17
  lassocv            3    .03452935    .03452935
  ridgecv            4    .11911258    .11911258
  lassocv            5    .01483884    .01483884
  ridgecv            6    .18879262    .18879262
       rf            7    .40182179    .40182179
       rf            8    8.854e-17    8.854e-17
       rf            9    9.718e-17    9.718e-17
gradboost           10    .03738146    .03738146
gradboost           11    .13194934    .13194934
     nnet           12     .0336153     .0336153
     nnet           13    .02119054    .02119054

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06399378    .06399378
      ols            2    .00029559    .00029559
  lassocv            3    .29651471    .29651471
  ridgecv            4    2.122e-17    2.122e-17
  lassocv            5    2.009e-17    2.009e-17
  ridgecv            6    2.637e-17    2.637e-17
       rf            7     .3986044     .3986044
       rf            8    9.157e-17    9.157e-17
       rf            9    1.157e-16    1.157e-16
gradboost           10    .00993623    .00993623
gradboost           11    .20707378    .20707378
     nnet           12    .00685131    .00685131
     nnet           13     .0167302     .0167302

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .01676817    .01676817
      ols            2    9.295e-17    9.295e-17
  lassocv            3    .03452935    .03452935
  ridgecv            4    .11911258    .11911258
  lassocv            5    .01483884    .01483884
  ridgecv            6    .18879262    .18879262
       rf            7    .40182179    .40182179
       rf            8    8.854e-17    8.854e-17
       rf            9    9.718e-17    9.718e-17
gradboost           10    .03738146    .03738146
gradboost           11    .13194934    .13194934
     nnet           12     .0336153     .0336153
     nnet           13    .02119054    .02119054

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .01676817    .01676817
      ols            2    9.295e-17    9.295e-17
  lassocv            3    .03452935    .03452935
  ridgecv            4    .11911258    .11911258
  lassocv            5    .01483884    .01483884
  ridgecv            6    .18879262    .18879262
       rf            7    .40182179    .40182179
       rf            8    8.854e-17    8.854e-17
       rf            9    9.718e-17    9.718e-17
gradboost           10    .03738146    .03738146
gradboost           11    .13194934    .13194934
     nnet           12     .0336153     .0336153
     nnet           13    .02119054    .02119054

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0167682   .0167682 |
   2. |        2   9.29e-17   9.29e-17 |
   3. |        3   .0345294   .0345294 |
   4. |        4   .1191126   .1191126 |
      +--------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_nnls1_regular.dta not found)
file out_3702/Y1_pystacked_w_mn_nnls1_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .06399378    .06399378
      ols            2    .00029559    .00029559
  lassocv            3    .29651471    .29651471
  ridgecv            4    2.122e-17    2.122e-17
  lassocv            5    2.009e-17    2.009e-17
  ridgecv            6    2.637e-17    2.637e-17
       rf            7     .3986044     .3986044
       rf            8    9.157e-17    9.157e-17
       rf            9    1.157e-16    1.157e-16
gradboost           10    .00993623    .00993623
gradboost           11    .20707378    .20707378
     nnet           12    .00685131    .00685131
     nnet           13     .0167302     .0167302

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .01676817    .01676817
      ols            2    9.295e-17    9.295e-17
  lassocv            3    .03452935    .03452935
  ridgecv            4    .11911258    .11911258
  lassocv            5    .01483884    .01483884
  ridgecv            6    .18879262    .18879262
       rf            7    .40182179    .40182179
       rf            8    8.854e-17    8.854e-17
       rf            9    9.718e-17    9.718e-17
gradboost           10    .03738146    .03738146
gradboost           11    .13194934    .13194934
     nnet           12     .0336153     .0336153
     nnet           13    .02119054    .02119054

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .06399378    .06399378
      ols            2    .00029559    .00029559
  lassocv            3    .29651471    .29651471
  ridgecv            4    2.122e-17    2.122e-17
  lassocv            5    2.009e-17    2.009e-17
  ridgecv            6    2.637e-17    2.637e-17
       rf            7     .3986044     .3986044
       rf            8    9.157e-17    9.157e-17
       rf            9    1.157e-16    1.157e-16
gradboost           10    .00993623    .00993623
gradboost           11    .20707378    .20707378
     nnet           12    .00685131    .00685131
     nnet           13     .0167302     .0167302

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0639938   .0639938 |
   2. |        2   .0002956   .0002956 |
   3. |        3   .2965147   .2965147 |
   4. |        4   2.12e-17   2.12e-17 |
      +--------------------------------+
(note: file out_3702/D1_pystacked_w_mn_nnls1_regular.dta not found)
file out_3702/D1_pystacked_w_mn_nnls1_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    .13778969    .13778969
      ols            2            0            0
  lassocv            3    .15270406    .15270406
  ridgecv            4    3.568e-17    3.568e-17
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .42490652    .42490652
       rf            8            0            0
       rf            9            0            0
gradboost           10    .00237278    .00237278
gradboost           11    .28222695    .28222695
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner  mean_weight        rep_1
      ols            1    1.222e-16    1.222e-16
      ols            2    3.409e-17    3.409e-17
  lassocv            3    1.376e-17    1.376e-17
  ridgecv            4    9.983e-17    9.983e-17
  lassocv            5     .0053023     .0053023
  ridgecv            6    .44364637    .44364637
       rf            7    .41337998    .41337998
       rf            8            0            0
       rf            9    1.932e-16    1.932e-16
gradboost           10    1.638e-17    1.638e-17
gradboost           11    .12144855    .12144855
     nnet           12            0            0
     nnet           13    .01622281    .01622281

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    1.222e-16    1.222e-16
      ols            2    3.409e-17    3.409e-17
  lassocv            3    1.376e-17    1.376e-17
  ridgecv            4    9.983e-17    9.983e-17
  lassocv            5     .0053023     .0053023
  ridgecv            6    .44364637    .44364637
       rf            7    .41337998    .41337998
       rf            8            0            0
       rf            9    1.932e-16    1.932e-16
gradboost           10    1.638e-17    1.638e-17
gradboost           11    .12144855    .12144855
     nnet           12            0            0
     nnet           13    .01622281    .01622281

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6178078          1   1.22e-16   1.22e-16 |
   2. |  3.109583          2   3.41e-17   3.41e-17 |
   3. | 2.8456576          3   1.38e-17   1.38e-17 |
   4. | 2.5027572          4   9.98e-17   9.98e-17 |
      +--------------------------------------------+
(note: file out_3702/Y_lnearn_ss_nnls1_short.dta not found)
file out_3702/Y_lnearn_ss_nnls1_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .13778969    .13778969
      ols            2            0            0
  lassocv            3    .15270406    .15270406
  ridgecv            4    3.568e-17    3.568e-17
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .42490652    .42490652
       rf            8            0            0
       rf            9            0            0
gradboost           10    .00237278    .00237278
gradboost           11    .28222695    .28222695
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77483806          1   .1377897   .1377897 |
   2. | .49771151          2          0          0 |
   3. | .14650798          3   .1527041   .1527041 |
   4. | .30694078          4   3.57e-17   3.57e-17 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ss_nnls1_short.dta not found)
file out_3702/D_gender_r_ss_nnls1_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .01503831    .01503831
      ols            2    1.440e-17    1.440e-17
  lassocv            3    .07008425    .07008425
  ridgecv            4    .17192157    .17192157
  lassocv            5    1.708e-15    1.708e-15
  ridgecv            6    .09693702    .09693702
       rf            7    .43508928    .43508928
       rf            8    3.393e-16    3.393e-16
       rf            9    2.068e-15    2.068e-15
gradboost           10    .02256672    .02256672
gradboost           11    .15735693    .15735693
     nnet           12    3.160e-16    3.160e-16
     nnet           13    .03100591    .03100591

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6127463          1   .0150383   .0150383 |
   2. |    3.1223          2   1.44e-17   1.44e-17 |
   3. | 2.8406468          3   .0700843   .0700843 |
   4. | 2.5098703          4   .1719216   .1719216 |
      +--------------------------------------------+
(note: file out_3702/Y_lnearn_ps_nnls1_pooled.dta not found)
file out_3702/Y_lnearn_ps_nnls1_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1     .0524424     .0524424
      ols            2    1.007e-15    1.007e-15
  lassocv            3    .31573925    .31573925
  ridgecv            4    4.091e-16    4.091e-16
  lassocv            5    8.173e-17    8.173e-17
  ridgecv            6    1.409e-16    1.409e-16
       rf            7     .4033057     .4033057
       rf            8    3.092e-16    3.092e-16
       rf            9    2.356e-16    2.356e-16
gradboost           10    3.332e-16    3.332e-16
gradboost           11      .212251      .212251
     nnet           12            0            0
     nnet           13    .01626164    .01626164

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76367998          1   .0524424   .0524424 |
   2. | .48130847          2   1.01e-15   1.01e-15 |
   3. | .16420312          3   .3157392   .3157392 |
   4. | .31016117          4   4.09e-16   4.09e-16 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ps_nnls1_pooled.dta not found)
file out_3702/D_gender_r_ps_nnls1_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.095    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0946857   .0164812    -5.75   0.000    -.1269883   -.0623831
       _cons |  -.0009649   .0063719    -0.15   0.880    -.0134536    .0115239
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.103    (0.017)
  ss  1  [shortstack]          [ss]    -0.095    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030385   .0167407    -6.15   0.000    -.1358496   -.0702273
       _cons |  -.0024254   .0064142    -0.38   0.705     -.014997    .0101462
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.095    (0.016)
  ss  1  [shortstack]          [ss]    -0.095    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0946857   .0164812    -5.75   0.000    -.1269883   -.0623831
       _cons |  -.0009649   .0063719    -0.15   0.880    -.0134536    .0115239
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.105    (0.017)
  ss  1  [shortstack]          [ss]    -0.095    (0.016)
  ps  1   [poolstack]          [ps]    -0.105    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1051086   .0168652    -6.23   0.000    -.1381638   -.0720535
       _cons |  -.0027224   .0063698    -0.43   0.669    -.0152069    .0097622
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3          0          0 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_singlebest_regular.dta not found)
file out_3702/Y1_pystacked_w_mn_singlebest_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6           .2           .2
       rf            7           .7           .7
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3           .5           .5
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .5           .5
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .5         .5 |
   4. |        4          0          0 |
      +--------------------------------+
(note: file out_3702/D1_pystacked_w_mn_singlebest_regular.dta not found)
file out_3702/D1_pystacked_w_mn_singlebest_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            1            1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. |  2.641021          1          0          0 |
   2. | 3.1060512          2          0          0 |
   3. |  2.841748          3          0          0 |
   4. | 2.4878571          4          0          0 |
      +--------------------------------------------+
(note: file out_3702/Y_lnearn_ss_singlebest_short.dta not found)
file out_3702/Y_lnearn_ss_singlebest_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .83200002          1          0          0 |
   2. | .54799998          2          0          0 |
   3. | .18000001          3          0          0 |
   4. |      .204          4          0          0 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ss_singlebest_short.dta not found)
file out_3702/D_gender_r_ss_singlebest_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            1            1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.5817358          1          0          0 |
   2. | 3.0292046          2          0          0 |
   3. | 2.8616664          3          0          0 |
   4. | 2.5253651          4          0          0 |
      +--------------------------------------------+
(note: file out_3702/Y_lnearn_ps_singlebest_pooled.dta not found)
file out_3702/Y_lnearn_ps_singlebest_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1            0            0
      ols            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .66007388          1          0          0 |
   2. | .38840684          2          0          0 |
   3. | .22659516          3          1          1 |
   4. | .39082301          4          0          0 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ps_singlebest_pooled.dta not found)
file out_3702/D_gender_r_ps_singlebest_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.180    (0.032)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1008764    .016581    -6.08   0.000    -.1333745   -.0683782
       _cons |    -.05467   .0062016    -8.82   0.000    -.0668249   -.0425151
------------------------------------------------------------------------------
Stacking final estimator: ols



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.180    (0.032)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1803871   .0317663    -5.68   0.000    -.2426479   -.1181262
       _cons |   .5844775    .018335    31.88   0.000     .5485415    .6204135
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1008764    .016581    -6.08   0.000    -.1333745   -.0683782
       _cons |    -.05467   .0062016    -8.82   0.000    -.0668249   -.0425151
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.100619   .0166936    -6.03   0.000    -.1333379      -.0679
       _cons |  -.0505982     .00618    -8.19   0.000    -.0627107   -.0384857
------------------------------------------------------------------------------
Stacking final estimator: ols

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .04202813    .04202813
      ols            2    .17433795    .17433795
  lassocv            3    .37576372    .37576372
  ridgecv            4    .09154364    .09154364
  lassocv            5   -.15316631   -.15316631
  ridgecv            6   -.02536737   -.02536737
       rf            7    .48918028    .48918028
       rf            8    .63533209    .63533209
       rf            9   -.73994186   -.73994186
gradboost           10     .0690427     .0690427
gradboost           11    .12433302    .12433302
     nnet           12    .07606854    .07606854
     nnet           13    .01371165    .01371165

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.01270269   -.01270269
      ols            2     -.010424     -.010424
  lassocv            3   -.04616842   -.04616842
  ridgecv            4    .12289614    .12289614
  lassocv            5   -.05433754   -.05433754
  ridgecv            6    .42384219    .42384219
       rf            7    .51241061    .51241061
       rf            8     .3867063     .3867063
       rf            9   -.51931556   -.51931556
gradboost           10    .10487671    .10487671
gradboost           11    .06276483    .06276483
     nnet           12   -.19932392   -.19932392
     nnet           13    .01074688    .01074688

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .04202813    .04202813
      ols            2    .17433795    .17433795
  lassocv            3    .37576372    .37576372
  ridgecv            4    .09154364    .09154364
  lassocv            5   -.15316631   -.15316631
  ridgecv            6   -.02536737   -.02536737
       rf            7    .48918028    .48918028
       rf            8    .63533209    .63533209
       rf            9   -.73994186   -.73994186
gradboost           10     .0690427     .0690427
gradboost           11    .12433302    .12433302
     nnet           12    .07606854    .07606854
     nnet           13    .01371165    .01371165

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.01270269   -.01270269
      ols            2     -.010424     -.010424
  lassocv            3   -.04616842   -.04616842
  ridgecv            4    .12289614    .12289614
  lassocv            5   -.05433754   -.05433754
  ridgecv            6    .42384219    .42384219
       rf            7    .51241061    .51241061
       rf            8     .3867063     .3867063
       rf            9   -.51931556   -.51931556
gradboost           10    .10487671    .10487671
gradboost           11    .06276483    .06276483
     nnet           12   -.19932392   -.19932392
     nnet           13    .01074688    .01074688

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1   -.01270269   -.01270269
      ols            2     -.010424     -.010424
  lassocv            3   -.04616842   -.04616842
  ridgecv            4    .12289614    .12289614
  lassocv            5   -.05433754   -.05433754
  ridgecv            6    .42384219    .42384219
       rf            7    .51241061    .51241061
       rf            8     .3867063     .3867063
       rf            9   -.51931556   -.51931556
gradboost           10    .10487671    .10487671
gradboost           11    .06276483    .06276483
     nnet           12   -.19932392   -.19932392
     nnet           13    .01074688    .01074688

      +----------------------------------+
      | Y1_pys~1   Y1_pyst~2   Y1_pyst~3 |
      |----------------------------------|
   1. |        1   -.0127027   -.0127027 |
   2. |        2    -.010424    -.010424 |
   3. |        3   -.0461684   -.0461684 |
   4. |        4    .1228961    .1228961 |
      +----------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_ols_regular.dta not found)
file out_3702/Y1_pystacked_w_mn_ols_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1    .04202813    .04202813
      ols            2    .17433795    .17433795
  lassocv            3    .37576372    .37576372
  ridgecv            4    .09154364    .09154364
  lassocv            5   -.15316631   -.15316631
  ridgecv            6   -.02536737   -.02536737
       rf            7    .48918028    .48918028
       rf            8    .63533209    .63533209
       rf            9   -.73994186   -.73994186
gradboost           10     .0690427     .0690427
gradboost           11    .12433302    .12433302
     nnet           12    .07606854    .07606854
     nnet           13    .01371165    .01371165

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.01270269   -.01270269
      ols            2     -.010424     -.010424
  lassocv            3   -.04616842   -.04616842
  ridgecv            4    .12289614    .12289614
  lassocv            5   -.05433754   -.05433754
  ridgecv            6    .42384219    .42384219
       rf            7    .51241061    .51241061
       rf            8     .3867063     .3867063
       rf            9   -.51931556   -.51931556
gradboost           10    .10487671    .10487671
gradboost           11    .06276483    .06276483
     nnet           12   -.19932392   -.19932392
     nnet           13    .01074688    .01074688

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .04202813    .04202813
      ols            2    .17433795    .17433795
  lassocv            3    .37576372    .37576372
  ridgecv            4    .09154364    .09154364
  lassocv            5   -.15316631   -.15316631
  ridgecv            6   -.02536737   -.02536737
       rf            7    .48918028    .48918028
       rf            8    .63533209    .63533209
       rf            9   -.73994186   -.73994186
gradboost           10     .0690427     .0690427
gradboost           11    .12433302    .12433302
     nnet           12    .07606854    .07606854
     nnet           13    .01371165    .01371165

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0420281   .0420281 |
   2. |        2   .1743379   .1743379 |
   3. |        3   .3757637   .3757637 |
   4. |        4   .0915436   .0915436 |
      +--------------------------------+
(note: file out_3702/D1_pystacked_w_mn_ols_regular.dta not found)
file out_3702/D1_pystacked_w_mn_ols_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1      .104793      .104793
      ols            2    .17428166    .17428166
  lassocv            3    .44215268    .44215268
  ridgecv            4    .04829274    .04829274
  lassocv            5   -.45399084   -.45399084
  ridgecv            6    .11049444    .11049444
       rf            7    .51999778    .51999778
       rf            8    .65636351    .65636351
       rf            9   -.85490668   -.85490668
gradboost           10    .16988061    .16988061
gradboost           11    .17658693    .17658693
     nnet           12   -.03521689   -.03521689
     nnet           13   -.00841218   -.00841218

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner  mean_weight        rep_1
      ols            1   -.03986003   -.03986003
      ols            2    .00778144    .00778144
  lassocv            3   -.04109627   -.04109627
  ridgecv            4   -.09547691   -.09547691
  lassocv            5   -.04321509   -.04321509
  ridgecv            6    .67220209    .67220209
       rf            7    .62915966    .62915966
       rf            8    .20222936    .20222936
       rf            9   -.46874346   -.46874346
gradboost           10    .11843693    .11843693
gradboost           11    .02920223    .02920223
     nnet           12    .04596405    .04596405
     nnet           13    .00121735    .00121735

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1   -.03986003   -.03986003
      ols            2    .00778144    .00778144
  lassocv            3   -.04109627   -.04109627
  ridgecv            4   -.09547691   -.09547691
  lassocv            5   -.04321509   -.04321509
  ridgecv            6    .67220209    .67220209
       rf            7    .62915966    .62915966
       rf            8    .20222936    .20222936
       rf            9   -.46874346   -.46874346
gradboost           10    .11843693    .11843693
gradboost           11    .02920223    .02920223
     nnet           12    .04596405    .04596405
     nnet           13    .00121735    .00121735

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6261849          1     -.03986     -.03986 |
   2. | 3.1794369          2    .0077814    .0077814 |
   3. | 2.9133425          3   -.0410963   -.0410963 |
   4. | 2.5306747          4   -.0954769   -.0954769 |
      +----------------------------------------------+
(note: file out_3702/Y_lnearn_ss_ols_short.dta not found)
file out_3702/Y_lnearn_ss_ols_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1      .104793      .104793
      ols            2    .17428166    .17428166
  lassocv            3    .44215268    .44215268
  ridgecv            4    .04829274    .04829274
  lassocv            5   -.45399084   -.45399084
  ridgecv            6    .11049444    .11049444
       rf            7    .51999778    .51999778
       rf            8    .65636351    .65636351
       rf            9   -.85490668   -.85490668
gradboost           10    .16988061    .16988061
gradboost           11    .17658693    .17658693
     nnet           12   -.03521689   -.03521689
     nnet           13   -.00841218   -.00841218

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .82438228          1    .104793    .104793 |
   2. | .51342483          2   .1742817   .1742817 |
   3. | .11506553          3   .4421527   .4421527 |
   4. | .20524015          4   .0482927   .0482927 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ss_ols_short.dta not found)
file out_3702/D_gender_r_ss_ols_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    -.0064254    -.0064254
      ols            2    -.0091986    -.0091986
  lassocv            3    .04962049    .04962049
  ridgecv            4    .16272194    .16272194
  lassocv            5   -.19234177   -.19234177
  ridgecv            6    .41623071    .41623071
       rf            7    .51648852    .51648852
       rf            8    .43392877    .43392877
       rf            9   -.57100241   -.57100241
gradboost           10    .11606514    .11606514
gradboost           11    .06878861    .06878861
     nnet           12    .01735438    .01735438
     nnet           13    .01262442    .01262442

      +----------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnear~2   Y_lnear~3 |
      |----------------------------------------------|
   1. | 2.6190202          1   -.0064254   -.0064254 |
   2. | 3.1621047          2   -.0091986   -.0091986 |
   3. | 2.9004983          3    .0496205    .0496205 |
   4. | 2.5200465          4    .1627219    .1627219 |
      +----------------------------------------------+
(note: file out_3702/Y_lnearn_ps_ols_pooled.dta not found)
file out_3702/Y_lnearn_ps_ols_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .04127017    .04127017
      ols            2    .17473936    .17473936
  lassocv            3    .35025382    .35025382
  ridgecv            4    .13128708    .13128708
  lassocv            5   -.10715929   -.10715929
  ridgecv            6   -.07147248   -.07147248
       rf            7    .49333454    .49333454
       rf            8    .63075561    .63075561
       rf            9   -.74078926   -.74078926
gradboost           10     .0624043     .0624043
gradboost           11    .12622937    .12622937
     nnet           12    .01644084    .01644084
     nnet           13    .01438201    .01438201

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .84457525          1   .0412702   .0412702 |
   2. | .53674011          2   .1747394   .1747394 |
   3. | .18456004          3   .3502538   .3502538 |
   4. | .27048774          4   .1312871   .1312871 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ps_ols_pooled.dta not found)
file out_3702/D_gender_r_ps_ols_pooled.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011679   .0166653    -6.07   0.000    -.1338312   -.0685045
       _cons |  -.0001694   .0063656    -0.03   0.979    -.0126458     .012307
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  st  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Stacking DDML model
y-E[y|X]  = y-Y1_pystacked_1                       Number of obs   =      4836
D-E[D|X]  = D-D1_pystacked_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011679   .0166653    -6.07   0.000    -.1338312   -.0685045
       _cons |  -.0001694   .0063656    -0.03   0.979    -.0126458     .012307
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ss  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Shortstack DDML model
y-E[y|X]  = y-Y_lnearn_ss_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ss_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011679   .0166653    -6.07   0.000    -.1338312   -.0685045
       _cons |  -.0001694   .0063656    -0.03   0.979    -.0126458     .012307
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  partial, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results:
spec  r     Y learner     D learner         b        SE 
  ps  1  Y1_pystacked  D1_pystacked    -0.101    (0.017)
  ss  1  [shortstack]          [ss]    -0.101    (0.017)
  ps  1   [poolstack]          [ps]    -0.101    (0.017)

Poolstack DDML model
y-E[y|X]  = y-Y_lnearn_ps_1                        Number of obs   =      4836
D-E[D|X]  = D-D_gender_r_ps_1 
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1011679   .0166653    -6.07   0.000    -.1338312   -.0685045
       _cons |  -.0001694   .0063656    -0.03   0.979    -.0126458     .012307
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_avg_regular.dta not found)
file out_3702/Y1_pystacked_w_mn_avg_regular.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
      +--------------------------------+
(note: file out_3702/D1_pystacked_w_mn_avg_regular.dta not found)
file out_3702/D1_pystacked_w_mn_avg_regular.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

Y_lnearn_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6502786          1   .0769231   .0769231 |
   2. | 3.1839002          2   .0769231   .0769231 |
   3. | 2.8204756          3   .0769231   .0769231 |
   4. | 2.5467854          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3702/Y_lnearn_ss_avg_short.dta not found)
file out_3702/Y_lnearn_ss_avg_short.dta saved

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .70680773          1   .0769231   .0769231 |
   2. | .44743285          2   .0769231   .0769231 |
   3. | .23929961          3   .0769231   .0769231 |
   4. | .41516069          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ss_avg_short.dta not found)
file out_3702/D_gender_r_ss_avg_short.dta saved

Y_lnearn_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | Y_lnea~_1   Y_lne~s1   Y_lnea~2   Y_lnea~3 |
      |--------------------------------------------|
   1. | 2.6502786          1   .0769231   .0769231 |
   2. | 3.1839002          2   .0769231   .0769231 |
   3. | 2.8204756          3   .0769231   .0769231 |
   4. | 2.5467854          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3702/Y_lnearn_ps_avg_pooled.dta not found)
file out_3702/Y_lnearn_ps_avg_pooled.dta saved

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
      ols            1    .07692308    .07692308
      ols            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .70680773          1   .0769231   .0769231 |
   2. | .44743285          2   .0769231   .0769231 |
   3. | .23929961          3   .0769231   .0769231 |
   4. | .41516069          4   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ps_avg_pooled.dta not found)
file out_3702/D_gender_r_ps_avg_pooled.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y(Y1_pystacked_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,partial,seed,`
> seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

y-E[y|X]  = Y1_pystacked_L1_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0363837   .0485034    -0.75   0.453    -.1314485    .0586812
       _cons |  -.0014271   .0071492    -0.20   0.842    -.0154392     .012585
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L2_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.121718   .0154488    -7.88   0.000    -.1519971   -.0914388
       _cons |  -.0003255   .0068627    -0.05   0.962    -.0137762    .0131252
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L3_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009558   .0168029    -6.01   0.000    -.1338889   -.0680228
       _cons |  -.0007411   .0063853    -0.12   0.908    -.0132561    .0117738
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L4_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0993127   .0166542    -5.96   0.000    -.1319543   -.0666712
       _cons |  -.0004669   .0064069    -0.07   0.942    -.0130241    .0120904
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L5_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985564   .0167726    -5.88   0.000    -.1314301   -.0656827
       _cons |  -.0017952    .006384    -0.28   0.779    -.0143075    .0107172
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L6_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1058846   .0166581    -6.36   0.000    -.1385339   -.0732353
       _cons |  -.0011739   .0063591    -0.18   0.854    -.0136374    .0112896
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L7_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0984913   .0165881    -5.94   0.000    -.1310035   -.0659792
       _cons |  -.0025129   .0063791    -0.39   0.694    -.0150157    .0099899
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L8_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.110781    .016931    -6.54   0.000    -.1439652   -.0775968
       _cons |  -.0000545   .0066261    -0.01   0.993    -.0130415    .0129325
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L9_1                      Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1130638   .0167314    -6.76   0.000    -.1458568   -.0802708
       _cons |   .0001306   .0067517     0.02   0.985    -.0131026    .0133637
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L10_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0892888   .0167019    -5.35   0.000    -.1220239   -.0565537
       _cons |  -.0033687   .0064544    -0.52   0.602     -.016019    .0092816
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L11_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0865767   .0164863    -5.25   0.000    -.1188893   -.0542641
       _cons |  -.0079207   .0065883    -1.20   0.229    -.0208335     .004992
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L12_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1070638   .0161223    -6.64   0.000     -.138663   -.0754647
       _cons |    .009786   .0076467     1.28   0.201    -.0052013    .0247734
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

y-E[y|X]  = Y1_pystacked_L13_1                     Number of obs   =      4836
D-E[D|X]  = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0503142    .017173    -2.93   0.003    -.0839728   -.0166557
       _cons |   .0073999   .0076256     0.97   0.332    -.0075459    .0223457
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved
. 
. }

.         
. *****************************************************************************
> *  
. *** interactive: estimation                                                  
>                                       ***
. *****************************************************************************
> *
.         
. if (`estimator'==2) {   
. 
.         ddml init interactive, kfolds($K) reps($R)
.         ddml E[Y|X,D]: pystacked lnearn $X_expanded $pystring_reg
.         ddml E[D|X]: pystacked gender_r $X_expanded $pystring_class
.         ddml crossfit, shortstack poolstack
.         ddml estimate, robust atet
. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
.         preserve
.                 keep mse_*
.                 keep if _n==1
.                 save `folder'/inter_mse, replace
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
.                                 gen stack_type = "conventional" if _n==1
.                                 replace stack_type = "pooled" if _n==2
.                                 replace stack_type = "short" if _n==3
.                                 gen model = "interactive"
.                                 list if _n<=$L
.                                 save `folder'/`mat'_inter_gender_mse, replace
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)
.                         mat `mat' = r(`mat')
.                         mat list `mat'
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
.                                 gen stack_type = "conventional" if _n<=2
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
.                                 replace stack_type = "short" if _n>4
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.2075374
  logit          |      0.0000000
  lassocv        |      0.1264925
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0709215
  rf             |      0.2532571
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0570028
  gradboost      |      0.2261847
  nnet           |      0.0000000
  nnet           |      0.0586040
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .20753736
 r2          0
 r3  .12649249
 r4          0
 r5  6.585e-18
 r6  .07092151
 r7  .25325712
 r8  1.651e-17
 r9  3.486e-16
r10  .05700278
r11  .22618472
r12  2.341e-16
r13  .05860403
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_923/nxw_ia_d.dta not found)
file out_923/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1039944   .0086277   -12.05   0.000    -.1209043   -.0870845
------------------------------------------------------------------------------
Warning: 39 propensity scores trimmed to lower limit ..
Warning: 2 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0966001   .0213546    -4.52   0.000    -.1384543   -.0547458
------------------------------------------------------------------------------
Warning: 161 propensity scores trimmed to lower limit ..
Warning: 45 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1114153   .0239136    -4.66   0.000     -.158285   -.0645455
------------------------------------------------------------------------------
Warning: 185 propensity scores trimmed to lower limit ..
Warning: 68 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1087515   .0199376    -5.45   0.000    -.1478286   -.0696745
------------------------------------------------------------------------------
Warning: 196 propensity scores trimmed to lower limit ..
Warning: 79 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1136433   .0081122   -14.01   0.000    -.1295428   -.0977437
------------------------------------------------------------------------------
Warning: 42 propensity scores trimmed to lower limit ..
Warning: 35 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1046667    .014475    -7.23   0.000    -.1330372   -.0762961
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1085644   .0145002    -7.49   0.000    -.1369842   -.0801446
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0890386   .0119981    -7.42   0.000    -.1125543   -.0655228
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0966761   .0092618   -10.44   0.000    -.1148288   -.0785234
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0606134   .0137635    -4.40   0.000    -.0875894   -.0336373
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1134615   .0220105    -5.15   0.000    -.1566013   -.0703216
------------------------------------------------------------------------------
Warning: 289 propensity scores trimmed to lower limit ..
Warning: 25 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_923/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.1257359
  logit          |      0.0000000
  lassocv        |      0.1290625
  ridgecv        |      0.1970177
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.2866471
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2615368
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .12573591
 r2          0
 r3  .12906251
 r4  .19701775
 r5          0
 r6  4.714e-17
 r7  .28664707
 r8  5.244e-17
 r9  6.288e-17
r10          0
r11  .26153676
r12          0
r13          0
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_26898/nxw_ia_d.dta not found)
file out_26898/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.103894   .0085511   -12.15   0.000    -.1206539   -.0871341
------------------------------------------------------------------------------
Warning: 43 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0904321   .0207695    -4.35   0.000    -.1311395   -.0497247
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 28 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1032778   .0210691    -4.90   0.000    -.1445725   -.0619832
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 36 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1024726   .0196855    -5.21   0.000    -.1410555   -.0638897
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 31 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030042   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1136713    .008103   -14.03   0.000    -.1295528   -.0977897
------------------------------------------------------------------------------
Warning: 33 propensity scores trimmed to lower limit ..
Warning: 34 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.105261   .0143139    -7.35   0.000    -.1333156   -.0772063
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1080584   .0146063    -7.40   0.000    -.1366863   -.0794305
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0929432   .0117736    -7.89   0.000    -.1160191   -.0698673
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0969184   .0093178   -10.40   0.000    -.1151809   -.0786559
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1423833   .0165787    -8.59   0.000    -.1748769   -.1098897
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0149918   .0619492     0.24   0.809    -.1064264    .1364099
------------------------------------------------------------------------------
Warning: 126 propensity scores trimmed to lower limit ..
Warning: 250 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_26898/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.1506770
  logit          |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.2149660
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.2378481
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0332934
  gradboost      |      0.2553308
  nnet           |      0.0000000
  nnet           |      0.1078848
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .15067699
 r2  2.580e-17
 r3  2.057e-17
 r4  .21496597
 r5  1.558e-16
 r6  6.735e-17
 r7  .23784809
 r8          0
 r9          0
r10  .03329337
r11  .25533083
r12  3.868e-17
r13  .10788476
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_36931/nxw_ia_d.dta not found)
file out_36931/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1054176   .0086733   -12.15   0.000    -.1224168   -.0884183
------------------------------------------------------------------------------
Warning: 34 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0910815    .020446    -4.45   0.000    -.1311549   -.0510081
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 28 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0927623   .0183454    -5.06   0.000    -.1287186    -.056806
------------------------------------------------------------------------------
Warning: 53 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1044876   .0188616    -5.54   0.000    -.1414556   -.0675196
------------------------------------------------------------------------------
Warning: 133 propensity scores trimmed to lower limit ..
Warning: 31 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1161853   .0081137   -14.32   0.000    -.1320879   -.1002827
------------------------------------------------------------------------------
Warning: 29 propensity scores trimmed to lower limit ..
Warning: 40 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1067957    .014374    -7.43   0.000    -.1349683   -.0786231
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1120376   .0144852    -7.73   0.000    -.1404281   -.0836471
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0895668   .0121813    -7.35   0.000    -.1134417   -.0656919
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0978154   .0092456   -10.58   0.000    -.1159365   -.0796943
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1410252   .0171245    -8.24   0.000    -.1745886   -.1074618
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0108438   .0507669     0.21   0.831    -.0886575    .1103451
------------------------------------------------------------------------------
Warning: 218 propensity scores trimmed to lower limit ..
Warning: 160 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_36931/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.2572272
  logit          |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.1782287
  lassocv        |      0.0037785
  ridgecv        |      0.0000000
  rf             |      0.2742850
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2825190
  nnet           |      0.0000000
  nnet           |      0.0039615
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .25722724
 r2          0
 r3          0
 r4  .17822873
 r5   .0037785
 r6          0
 r7  .27428501
 r8  1.451e-16
 r9  2.836e-16
r10  2.198e-17
r11  .28251902
r12  9.842e-17
r13   .0039615
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_53356/nxw_ia_d.dta not found)
file out_53356/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1042902   .0085365   -12.22   0.000    -.1210213    -.087559
------------------------------------------------------------------------------
Warning: 40 propensity scores trimmed to lower limit ..
Warning: 2 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0906687   .0205422    -4.41   0.000    -.1309307   -.0504067
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 27 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0927623   .0183454    -5.06   0.000    -.1287186    -.056806
------------------------------------------------------------------------------
Warning: 53 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0963032   .0163767    -5.88   0.000    -.1284009   -.0642055
------------------------------------------------------------------------------
Warning: 44 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1164491   .0081084   -14.36   0.000    -.1323412    -.100557
------------------------------------------------------------------------------
Warning: 47 propensity scores trimmed to lower limit ..
Warning: 33 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1075752   .0142772    -7.53   0.000     -.135558   -.0795924
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1101979   .0144029    -7.65   0.000     -.138427   -.0819687
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0899036   .0116728    -7.70   0.000    -.1127818   -.0670254
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.098422   .0092714   -10.62   0.000    -.1165936   -.0802504
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    -.14166   .0142901    -9.91   0.000     -.169668    -.113652
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1548206   .0609085    -2.54   0.011     -.274199   -.0354422
------------------------------------------------------------------------------
Warning: 146 propensity scores trimmed to lower limit ..
Warning: 84 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_53356/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.3055150
  logit          |      0.0000000
  lassocv        |      0.0732825
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0235250
  rf             |      0.3273708
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0076558
  gradboost      |      0.2626509
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .30551504
 r2          0
 r3  .07328248
 r4          0
 r5  2.264e-16
 r6  .02352499
 r7  .32737078
 r8  3.110e-17
 r9          0
r10  .00765577
r11  .26265094
r12  3.079e-16
r13  4.096e-17
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_3928/nxw_ia_d.dta not found)
file out_3928/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1048344   .0084928   -12.34   0.000    -.1214801   -.0881887
------------------------------------------------------------------------------
Warning: 42 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0912766   .0204034    -4.47   0.000    -.1312666   -.0512865
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 27 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1032778   .0210691    -4.90   0.000    -.1445725   -.0619832
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 36 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1032503   .0194991    -5.30   0.000    -.1414678   -.0650327
------------------------------------------------------------------------------
Warning: 132 propensity scores trimmed to lower limit ..
Warning: 30 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697737
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1150375   .0081031   -14.20   0.000    -.1309193   -.0991556
------------------------------------------------------------------------------
Warning: 40 propensity scores trimmed to lower limit ..
Warning: 34 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1067173   .0143591    -7.43   0.000    -.1348606    -.078574
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1104785   .0144954    -7.62   0.000     -.138889   -.0820681
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0849376   .0119985    -7.08   0.000    -.1084542    -.061421
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0955372   .0092587   -10.32   0.000     -.113684   -.0773904
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1417547   .0173087    -8.19   0.000    -.1756791   -.1078302
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0805508   .0302352    -2.66   0.008    -.1398107   -.0212909
------------------------------------------------------------------------------
Warning: 162 propensity scores trimmed to lower limit ..
Warning: 69 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3928/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.1972241
  logit          |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.2376108
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.2111533
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.1043791
  gradboost      |      0.2496328
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .19722408
 r2          0
 r3  3.099e-17
 r4  .23761077
 r5  1.531e-16
 r6  1.158e-16
 r7  .21115327
 r8  3.264e-17
 r9          0
r10  .10437912
r11  .24963277
r12  4.656e-16
r13  1.627e-16
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_84685/nxw_ia_d.dta not found)
file out_84685/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.107007    .008801   -12.16   0.000    -.1242566   -.0897574
------------------------------------------------------------------------------
Warning: 16 propensity scores trimmed to lower limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0910194    .020441    -4.45   0.000    -.1310831   -.0509558
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 28 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0927623   .0183454    -5.06   0.000    -.1287186    -.056806
------------------------------------------------------------------------------
Warning: 53 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1032316   .0194792    -5.30   0.000      -.14141   -.0650531
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 30 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1160595   .0081099   -14.31   0.000    -.1319545   -.1001645
------------------------------------------------------------------------------
Warning: 42 propensity scores trimmed to lower limit ..
Warning: 31 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1059333   .0143942    -7.36   0.000    -.1341454   -.0777212
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1095406   .0144577    -7.58   0.000    -.1378771   -.0812041
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0924701   .0117689    -7.86   0.000    -.1155368   -.0694035
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0987074   .0092747   -10.64   0.000    -.1168854   -.0805294
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0638217   .0160556    -3.98   0.000    -.0952902   -.0323532
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0942147   .0446291    -2.11   0.035    -.1816861   -.0067433
------------------------------------------------------------------------------
Warning: 164 propensity scores trimmed to lower limit ..
Warning: 43 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_84685/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.2126336
  logit          |      0.0000000
  lassocv        |      0.1983794
  ridgecv        |      0.0000000
  lassocv        |      0.0726211
  ridgecv        |      0.0000000
  rf             |      0.2458943
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0249063
  gradboost      |      0.2455654
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .21263356
 r2  5.946e-17
 r3  .19837941
 r4  3.876e-17
 r5  .07262107
 r6  1.715e-16
 r7  .24589426
 r8  1.324e-17
 r9  9.974e-17
r10  .02490627
r11  .24556542
r12          0
r13          0
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_58248/nxw_ia_d.dta not found)
file out_58248/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1033127   .0086549   -11.94   0.000     -.120276   -.0863495
------------------------------------------------------------------------------
Warning: 25 propensity scores trimmed to lower limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0868902   .0180154    -4.82   0.000    -.1221998   -.0515807
------------------------------------------------------------------------------
Warning: 41 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0927623   .0183454    -5.06   0.000    -.1287186    -.056806
------------------------------------------------------------------------------
Warning: 53 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0929246   .0170569    -5.45   0.000    -.1263555   -.0594937
------------------------------------------------------------------------------
Warning: 44 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1172915   .0081071   -14.47   0.000     -.133181   -.1014019
------------------------------------------------------------------------------
Warning: 38 propensity scores trimmed to lower limit ..
Warning: 26 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1078227   .0142635    -7.56   0.000    -.1357786   -.0798668
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1091168   .0144478    -7.55   0.000     -.137434   -.0807997
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0986045   .0121198    -8.14   0.000    -.1223588   -.0748502
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0957173   .0092688   -10.33   0.000    -.1138839   -.0775507
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1407532   .0178606    -7.88   0.000    -.1757594    -.105747
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0717742   .0264841    -2.71   0.007    -.1236821   -.0198664
------------------------------------------------------------------------------
Warning: 193 propensity scores trimmed to lower limit ..
Warning: 61 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_58248/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.2056702
  logit          |      0.0000000
  lassocv        |      0.1238676
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.1506147
  rf             |      0.3146925
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0000000
  gradboost      |      0.2051551
  nnet           |      0.0000000
  nnet           |      0.0000000
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .20567016
 r2          0
 r3  .12386757
 r4          0
 r5          0
 r6  .15061468
 r7  .31469254
 r8  2.463e-17
 r9  4.802e-16
r10          0
r11  .20515506
r12  3.186e-16
r13  6.802e-17
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_3702/nxw_ia_d.dta not found)
file out_3702/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1042765    .008507   -12.26   0.000    -.1209498   -.0876032
------------------------------------------------------------------------------
Warning: 36 propensity scores trimmed to lower limit ..
Warning: 1 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0863578   .0181387    -4.76   0.000     -.121909   -.0508065
------------------------------------------------------------------------------
Warning: 41 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1032778   .0210691    -4.90   0.000    -.1445725   -.0619832
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 36 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0915679   .0172665    -5.30   0.000    -.1254096   -.0577261
------------------------------------------------------------------------------
Warning: 44 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1156269   .0081058   -14.26   0.000     -.131514   -.0997397
------------------------------------------------------------------------------
Warning: 38 propensity scores trimmed to lower limit ..
Warning: 33 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1054039   .0145896    -7.22   0.000     -.133999   -.0768088
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    -.10937    .014576    -7.50   0.000    -.1379384   -.0808015
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0862989   .0122033    -7.07   0.000    -.1102169   -.0623809
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0974747   .0092627   -10.52   0.000    -.1156292   -.0793202
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0652272   .0147815    -4.41   0.000    -.0941983    -.036256
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0600355   .0415076    -1.45   0.148    -.1413889    .0213179
------------------------------------------------------------------------------
Warning: 138 propensity scores trimmed to lower limit ..
Warning: 133 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_3702/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.2489400
  logit          |      0.0000000
  lassocv        |      0.1006942
  ridgecv        |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0000000
  rf             |      0.3179971
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0110668
  gradboost      |      0.2216769
  nnet           |      0.0000000
  nnet           |      0.0996249
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .24894001
 r2  1.707e-16
 r3  .10069418
 r4  1.158e-16
 r5          0
 r6          0
 r7  .31799714
 r8          0
 r9          0
r10  .01106685
r11   .2216769
r12  8.468e-17
r13  .09962493
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_232/nxw_ia_d.dta not found)
file out_232/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1040846   .0084874   -12.26   0.000    -.1207196   -.0874496
------------------------------------------------------------------------------
Warning: 35 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0871557   .0179563    -4.85   0.000    -.1223495    -.051962
------------------------------------------------------------------------------
Warning: 41 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0927623   .0183454    -5.06   0.000    -.1287186    -.056806
------------------------------------------------------------------------------
Warning: 53 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0929425   .0170313    -5.46   0.000    -.1263233   -.0595617
------------------------------------------------------------------------------
Warning: 44 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1161795   .0081015   -14.34   0.000    -.1320582   -.1003009
------------------------------------------------------------------------------
Warning: 46 propensity scores trimmed to lower limit ..
Warning: 33 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1067003   .0143795    -7.42   0.000    -.1348835    -.078517
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.110844   .0144452    -7.67   0.000     -.139156   -.0825319
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0909452   .0126018    -7.22   0.000    -.1156444   -.0662461
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0966554   .0093151   -10.38   0.000    -.1149126   -.0783982
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1434145   .0159283    -9.00   0.000    -.1746333   -.1121957
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0755962   .0345114    -2.19   0.028    -.1432373    -.007955
------------------------------------------------------------------------------
Warning: 152 propensity scores trimmed to lower limit ..
Warning: 81 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_232/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
.         pystacked gender_r $X_expanded $pystring_class  

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.3542921
  logit          |      0.0000000
  lassocv        |      0.0000000
  ridgecv        |      0.0645681
  lassocv        |      0.0450098
  ridgecv        |      0.0000000
  rf             |      0.3139984
  rf             |      0.0000000
  rf             |      0.0000000
  gradboost      |      0.0172460
  gradboost      |      0.1836412
  nnet           |      0.0000000
  nnet           |      0.0212444
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d

nxw_ia_d[13,1]
            c1
 r1  .35429214
 r2          0
 r3          0
 r4  .06456812
 r5  .04500984
 r6  5.600e-18
 r7  .31399838
 r8          0
 r9  5.560e-17
r10  .01724599
r11  .18364117
r12  1.386e-16
r13  .02124436
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
(note: file out_8756/nxw_ia_d.dta not found)
file out_8756/nxw_ia_d.dta saved
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }

E[y|X,D=0]   = y0base0                             Number of obs   =      4836
E[y|X,D=1]   = y1base0
E[D|X]       = dbase0
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1056141   .0085378   -12.37   0.000    -.1223478   -.0888803
------------------------------------------------------------------------------
Warning: 32 propensity scores trimmed to lower limit ..
Warning: 2 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base1                             Number of obs   =      4836
E[y|X,D=1]   = y1base1
E[D|X]       = dbase1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1184321   .0198372    -5.97   0.000    -.1573123   -.0795519
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 38 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base2                             Number of obs   =      4836
E[y|X,D=1]   = y1base2
E[D|X]       = dbase2
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1205585   .0157971    -7.63   0.000    -.1515203   -.0895967
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base3                             Number of obs   =      4836
E[y|X,D=1]   = y1base3
E[D|X]       = dbase3
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0903753   .0207195    -4.36   0.000    -.1309848   -.0497658
------------------------------------------------------------------------------
Warning: 131 propensity scores trimmed to lower limit ..
Warning: 27 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base4                             Number of obs   =      4836
E[y|X,D=1]   = y1base4
E[D|X]       = dbase4
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0927623   .0183454    -5.06   0.000    -.1287186    -.056806
------------------------------------------------------------------------------
Warning: 53 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base5                             Number of obs   =      4836
E[y|X,D=1]   = y1base5
E[D|X]       = dbase5
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0921406   .0171568    -5.37   0.000    -.1257673   -.0585139
------------------------------------------------------------------------------
Warning: 44 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base6                             Number of obs   =      4836
E[y|X,D=1]   = y1base6
E[D|X]       = dbase6
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1030043   .0169547    -6.08   0.000    -.1362349   -.0697736
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base7                             Number of obs   =      4836
E[y|X,D=1]   = y1base7
E[D|X]       = dbase7
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1155314     .00811   -14.25   0.000    -.1314268    -.099636
------------------------------------------------------------------------------
Warning: 45 propensity scores trimmed to lower limit ..
Warning: 27 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base8                             Number of obs   =      4836
E[y|X,D=1]   = y1base8
E[D|X]       = dbase8
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1064628    .014437    -7.37   0.000    -.1347588   -.0781667
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base9                             Number of obs   =      4836
E[y|X,D=1]   = y1base9
E[D|X]       = dbase9
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1100353   .0145117    -7.58   0.000    -.1384776   -.0815929
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base10                            Number of obs   =      4836
E[y|X,D=1]   = y1base10
E[D|X]       = dbase10
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0837146   .0117907    -7.10   0.000    -.1068239   -.0606053
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base11                            Number of obs   =      4836
E[y|X,D=1]   = y1base11
E[D|X]       = dbase11
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0978839   .0092655   -10.56   0.000     -.116044   -.0797238
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base12                            Number of obs   =      4836
E[y|X,D=1]   = y1base12
E[D|X]       = dbase12
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0418004   .0154141    -2.71   0.007    -.0720115   -.0115894
------------------------------------------------------------------------------
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = y0base13                            Number of obs   =      4836
E[y|X,D=1]   = y1base13
E[D|X]       = dbase13
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1358628   .1038228    -1.31   0.191    -.3393516    .0676261
------------------------------------------------------------------------------
Warning: 106 propensity scores trimmed to lower limit ..
Warning: 307 propensity scores trimmed to upper limit ..
(note: variable final was str2, now str10 to accommodate using data's values)
file out_8756/results.dta saved
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.074    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.029)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0716622   .0287916    -2.49   0.013    -.1280927   -.0152317
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_26898/inter_mse.dta not found)
file out_26898/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.145       0.144       0.170       0.167
>        0.133       0.156       0.152       0.166       0.164       0.151  
   D_gender_r_ps   1      0.155       0.145       0.143       0.170       0.167
>        0.132       0.156       0.152       0.165       0.163       0.151  
   D_gender_r_ss   1      0.154       0.145       0.143       0.170       0.167
>        0.132       0.156       0.150       0.166       0.163       0.150  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.226       0.228       0.227       0.211       0.
> 180       0.121       0.212       0.430       0.290       0.207       0.167  
    Y1_pystacked 1    1      0.173       0.133       0.172       0.185       0.
> 147       0.166       0.231       0.205       0.130       0.115       0.243  
     Y_lnearn_ps 0    1      8.299       8.320       8.439       8.317       8.
> 236       8.197       8.078       8.231       8.377       8.391       8.395  
     Y_lnearn_ps 1    1      7.485       7.408       7.694       7.623       7.
> 523       7.477       7.333       7.556       7.311       7.463       7.457  
     Y_lnearn_ss 0    1      0.224       0.229       0.224       0.208       0.
> 179       0.119       0.209       0.428       0.285       0.204       0.169  
     Y_lnearn_ss 1    1      0.172       0.134       0.171       0.182       0.
> 144       0.166       0.232       0.202       0.128       0.115       0.243  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15478037       .14503    .14362675    .17015825
D_gender_r~s            1    .15453412    .14490359     .1433107    .17025182
D_gender_r~s            1    .15427517    .14548671    .14345228    .17023517

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .16742567    .13255614    .15640408    .15181965    .16608369
D_gender_r~s    .16725627    .13243844    .15627986    .15198506      .165152
D_gender_r~s      .166902    .13169039     .1561826    .15024878    .16619812

                    fold9       fold10
D1_pystacked    .16363405    .15110375
D_gender_r~s    .16301847    .15078308
D_gender_r~s    .16255304    .14984595
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1547804 |   .14503 | .1436267 | .1701583 | .1674257 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1325561 | .1564041 | .1518197 | .1660837 |  .163634 | .1511037 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1545341 | .1449036 | .1433107 | .1702518 | .1672563 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1324385 | .1562799 | .1519851 |  .165152 | .1630185 | .1507831 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1542752 | .1454867 | .1434523 | .1702352 |  .166902 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1316904 | .1561826 | .1502488 | .1661981 |  .162553 |  .149846 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_26898/gender_r_mse_inter_gender_mse.dta not found)
file out_26898/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.145       0.144       0.170       0.167
>        0.133       0.156       0.152       0.166       0.164       0.151  
   D_gender_r_ps   1      0.155       0.145       0.143       0.170       0.167
>        0.132       0.156       0.152       0.165       0.163       0.151  
   D_gender_r_ss   1      0.154       0.145       0.143       0.170       0.167
>        0.132       0.156       0.150       0.166       0.163       0.150  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.226       0.228       0.227       0.211       0.
> 180       0.121       0.212       0.430       0.290       0.207       0.167  
    Y1_pystacked 1    1      0.173       0.133       0.172       0.185       0.
> 147       0.166       0.231       0.205       0.130       0.115       0.243  
     Y_lnearn_ps 0    1      8.299       8.320       8.439       8.317       8.
> 236       8.197       8.078       8.231       8.377       8.391       8.395  
     Y_lnearn_ps 1    1      7.485       7.408       7.694       7.623       7.
> 523       7.477       7.333       7.556       7.311       7.463       7.457  
     Y_lnearn_ss 0    1      0.224       0.229       0.224       0.208       0.
> 179       0.119       0.209       0.428       0.285       0.204       0.169  
     Y_lnearn_ss 1    1      0.172       0.134       0.171       0.182       0.
> 144       0.166       0.232       0.202       0.128       0.115       0.243  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .22634113    .22837105    .22698918
Y1_pystacked            1            1     .1731942    .13289276     .1717819
 Y_lnearn_ps            0            1     8.298817    8.3195443    8.4389064
 Y_lnearn_ps            1            1    7.4851185    7.4084242    7.6938269
 Y_lnearn_ss            0            1    .22427962    .22869344    .22382382
 Y_lnearn_ss            1            1    .17226034    .13424766    .17072845

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked     .2111748    .18040867    .12066952    .21185503    .42952921
Y1_pystacked    .18525402    .14675158     .1660233     .2313805    .20458219
 Y_lnearn_ps    8.3165174    8.2361289    8.1966275    8.0775904    8.2305185
 Y_lnearn_ps    7.6229007    7.5229796    7.4772155    7.3327138    7.5564505
 Y_lnearn_ss    .20807736    .17912536    .11872742    .20865455    .42806415
 Y_lnearn_ss    .18206108    .14407353      .165788    .23218366    .20214823

                    fold8        fold9       fold10
Y1_pystacked    .29026888    .20718968    .16650832
Y1_pystacked    .13026882     .1145327    .24289885
 Y_lnearn_ps    8.3766785    8.3913828    8.3952953
 Y_lnearn_ps    7.3113474    7.4632577    7.4569924
 Y_lnearn_ss    .28483748    .20365331    .16868912
 Y_lnearn_ss    .12849726    .11454219    .24269202
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2263411 |  .228371 | .2269892 | .2111748 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1804087 | .1206695 |  .211855 | .4295292 | .2902689 | .2071897 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1665083     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1731942 | .1328928 | .1717819 |  .185254 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1467516 | .1660233 | .2313805 | .2045822 | .1302688 | .1145327 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2428989     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.298817 | 8.319545 | 8.438907 | 8.316518 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.236129 | 8.196628 |  8.07759 | 8.230518 | 8.376678 | 8.391383 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.395295     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.485118 | 7.408424 | 7.693827 |   7.6229 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  7.52298 | 7.477215 | 7.332714 |  7.55645 | 7.311347 | 7.463258 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.456993     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2242796 | .2286934 | .2238238 | .2080774 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1791254 | .1187274 | .2086546 | .4280641 | .2848375 | .2036533 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1686891     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1722603 | .1342477 | .1707285 | .1820611 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1440735 |  .165788 | .2321837 | .2021482 | .1284973 | .1145422 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      .242692     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_26898/lnearn_mse_inter_lnearn_mse.dta not found)
file out_26898/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.074    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.029)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0716622   .0287916    -2.49   0.013    -.1280927   -.0152317
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.074    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.029)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.074241   .0272561    -2.72   0.006     -.127662     -.02082
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 2 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.072    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.029)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0716622   .0287916    -2.49   0.013    -.1280927   -.0152317
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.028)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.029)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0710178   .0278134    -2.55   0.011     -.125531   -.0165045
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2384202     .2384202
    logit            2    6.471e-17    6.471e-17
  lassocv            3    .10200234    .10200234
  ridgecv            4    .07290756    .07290756
  lassocv            5    .03022753    .03022753
  ridgecv            6     .0031197     .0031197
       rf            7    .28160586    .28160586
       rf            8    3.508e-17    3.508e-17
       rf            9    1.065e-16    1.065e-16
gradboost           10     .0286758     .0286758
gradboost           11    .22164246    .22164246
     nnet           12    8.963e-17    8.963e-17
     nnet           13    .02139854    .02139854

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01692291    .01692291
      ols            2            0    1.127e-16    1.127e-16
  lassocv            3            0    .10295718    .10295718
  ridgecv            4            0    .18749178    .18749178
  lassocv            5            0    .04394297    .04394297
  ridgecv            6            0    .01163053    .01163053
       rf            7            0    .46136112    .46136112
       rf            8            0    9.155e-17    9.155e-17
       rf            9            0    1.162e-16    1.162e-16
gradboost           10            0    .01152971    .01152971
gradboost           11            0    .14507278    .14507278
     nnet           12            0    .01134925    .01134925
     nnet           13            0    .00774177    .00774177
      ols            1            1    .02869651    .02869651
      ols            2            1    .00006619    .00006619
  lassocv            3            1    .10349786    .10349786
  ridgecv            4            1    .05141988    .05141988
  lassocv            5            1    .20089588    .20089588
  ridgecv            6            1    .02080557    .02080557
       rf            7            1    .50531389    .50531389
       rf            8            1    2.201e-17    2.201e-17
       rf            9            1    7.175e-17    7.175e-17
gradboost           10            1    .01155055    .01155055
gradboost           11            1    .04188205    .04188205
     nnet           12            1    .01516595    .01516595
     nnet           13            1    .02070567    .02070567

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2384202     .2384202
    logit            2    6.471e-17    6.471e-17
  lassocv            3    .10200234    .10200234
  ridgecv            4    .07290756    .07290756
  lassocv            5    .03022753    .03022753
  ridgecv            6     .0031197     .0031197
       rf            7    .28160586    .28160586
       rf            8    3.508e-17    3.508e-17
       rf            9    1.065e-16    1.065e-16
gradboost           10     .0286758     .0286758
gradboost           11    .22164246    .22164246
     nnet           12    8.963e-17    8.963e-17
     nnet           13    .02139854    .02139854

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01692291    .01692291
      ols            2            0    1.127e-16    1.127e-16
  lassocv            3            0    .10295718    .10295718
  ridgecv            4            0    .18749178    .18749178
  lassocv            5            0    .04394297    .04394297
  ridgecv            6            0    .01163053    .01163053
       rf            7            0    .46136112    .46136112
       rf            8            0    9.155e-17    9.155e-17
       rf            9            0    1.162e-16    1.162e-16
gradboost           10            0    .01152971    .01152971
gradboost           11            0    .14507278    .14507278
     nnet           12            0    .01134925    .01134925
     nnet           13            0    .00774177    .00774177
      ols            1            1    .02869651    .02869651
      ols            2            1    .00006619    .00006619
  lassocv            3            1    .10349786    .10349786
  ridgecv            4            1    .05141988    .05141988
  lassocv            5            1    .20089588    .20089588
  ridgecv            6            1    .02080557    .02080557
       rf            7            1    .50531389    .50531389
       rf            8            1    2.201e-17    2.201e-17
       rf            9            1    7.175e-17    7.175e-17
gradboost           10            1    .01155055    .01155055
gradboost           11            1    .04188205    .04188205
     nnet           12            1    .01516595    .01516595
     nnet           13            1    .02070567    .02070567

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01692291    .01692291
      ols            2            0    1.127e-16    1.127e-16
  lassocv            3            0    .10295718    .10295718
  ridgecv            4            0    .18749178    .18749178
  lassocv            5            0    .04394297    .04394297
  ridgecv            6            0    .01163053    .01163053
       rf            7            0    .46136112    .46136112
       rf            8            0    9.155e-17    9.155e-17
       rf            9            0    1.162e-16    1.162e-16
gradboost           10            0    .01152971    .01152971
gradboost           11            0    .14507278    .14507278
     nnet           12            0    .01134925    .01134925
     nnet           13            0    .00774177    .00774177
      ols            1            1    .02869651    .02869651
      ols            2            1    .00006619    .00006619
  lassocv            3            1    .10349786    .10349786
  ridgecv            4            1    .05141988    .05141988
  lassocv            5            1    .20089588    .20089588
  ridgecv            6            1    .02080557    .02080557
       rf            7            1    .50531389    .50531389
       rf            8            1    2.201e-17    2.201e-17
       rf            9            1    7.175e-17    7.175e-17
gradboost           10            1    .01155055    .01155055
gradboost           11            1    .04188205    .04188205
     nnet           12            1    .01516595    .01516595
     nnet           13            1    .02070567    .02070567

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0169229   .0169229 |
   2. |        2          0   1.13e-16   1.13e-16 |
   3. |        3          0   .1029572   .1029572 |
   4. |        4          0   .1874918   .1874918 |
   5. |        5          0    .043943    .043943 |
      |-------------------------------------------|
   6. |        6          0   .0116305   .0116305 |
   7. |        7          0   .4613611   .4613611 |
   8. |        8          0   9.16e-17   9.16e-17 |
      +-------------------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_26898/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2384202     .2384202
    logit            2    6.471e-17    6.471e-17
  lassocv            3    .10200234    .10200234
  ridgecv            4    .07290756    .07290756
  lassocv            5    .03022753    .03022753
  ridgecv            6     .0031197     .0031197
       rf            7    .28160586    .28160586
       rf            8    3.508e-17    3.508e-17
       rf            9    1.065e-16    1.065e-16
gradboost           10     .0286758     .0286758
gradboost           11    .22164246    .22164246
     nnet           12    8.963e-17    8.963e-17
     nnet           13    .02139854    .02139854

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01692291    .01692291
      ols            2            0    1.127e-16    1.127e-16
  lassocv            3            0    .10295718    .10295718
  ridgecv            4            0    .18749178    .18749178
  lassocv            5            0    .04394297    .04394297
  ridgecv            6            0    .01163053    .01163053
       rf            7            0    .46136112    .46136112
       rf            8            0    9.155e-17    9.155e-17
       rf            9            0    1.162e-16    1.162e-16
gradboost           10            0    .01152971    .01152971
gradboost           11            0    .14507278    .14507278
     nnet           12            0    .01134925    .01134925
     nnet           13            0    .00774177    .00774177
      ols            1            1    .02869651    .02869651
      ols            2            1    .00006619    .00006619
  lassocv            3            1    .10349786    .10349786
  ridgecv            4            1    .05141988    .05141988
  lassocv            5            1    .20089588    .20089588
  ridgecv            6            1    .02080557    .02080557
       rf            7            1    .50531389    .50531389
       rf            8            1    2.201e-17    2.201e-17
       rf            9            1    7.175e-17    7.175e-17
gradboost           10            1    .01155055    .01155055
gradboost           11            1    .04188205    .04188205
     nnet           12            1    .01516595    .01516595
     nnet           13            1    .02070567    .02070567

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1     .2384202     .2384202
    logit            2    6.471e-17    6.471e-17
  lassocv            3    .10200234    .10200234
  ridgecv            4    .07290756    .07290756
  lassocv            5    .03022753    .03022753
  ridgecv            6     .0031197     .0031197
       rf            7    .28160586    .28160586
       rf            8    3.508e-17    3.508e-17
       rf            9    1.065e-16    1.065e-16
gradboost           10     .0286758     .0286758
gradboost           11    .22164246    .22164246
     nnet           12    8.963e-17    8.963e-17
     nnet           13    .02139854    .02139854

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2384202   .2384202 |
   2. |        2   6.47e-17   6.47e-17 |
   3. |        3   .1020023   .1020023 |
   4. |        4   .0729076   .0729076 |
   5. |        5   .0302275   .0302275 |
      |--------------------------------|
   6. |        6   .0031197   .0031197 |
   7. |        7   .2816059   .2816059 |
   8. |        8   3.51e-17   3.51e-17 |
      +--------------------------------+
(note: file out_26898/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_26898/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2155912     .2155912
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4    .03535683    .03535683
  lassocv            5            0            0
  ridgecv            6    .17704915    .17704915
       rf            7     .2636545     .2636545
       rf            8    1.441e-16    1.441e-16
       rf            9    2.713e-17    2.713e-17
gradboost           10            0            0
gradboost           11    .30834832    .30834832
     nnet           12    7.260e-17    7.260e-17
     nnet           13    1.035e-17    1.035e-17

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05187596    .05187596
      ols            2            0    2.223e-17    2.223e-17
  lassocv            3            0    .08810285    .08810285
  ridgecv            4            0    .17379527    .17379527
  lassocv            5            0    1.505e-16    1.505e-16
  ridgecv            6            0    7.291e-17    7.291e-17
       rf            7            0    .49036016    .49036016
       rf            8            0    2.143e-17    2.143e-17
       rf            9            0    2.520e-16    2.520e-16
gradboost           10            0            0            0
gradboost           11            0    .19586577    .19586577
     nnet           12            0    3.099e-17    3.099e-17
     nnet           13            0    3.361e-17    3.361e-17
      ols            1            1    8.587e-17    8.587e-17
      ols            2            1            0            0
  lassocv            3            1    .04462708    .04462708
  ridgecv            4            1    2.034e-17    2.034e-17
  lassocv            5            1    .35129596    .35129596
  ridgecv            6            1    .04192768    .04192768
       rf            7            1     .5272445     .5272445
       rf            8            1    1.827e-16    1.827e-16
       rf            9            1    1.538e-16    1.538e-16
gradboost           10            1    7.791e-17    7.791e-17
gradboost           11            1    .03490479    .03490479
     nnet           12            1    2.182e-16    2.182e-16
     nnet           13            1    8.893e-16    8.893e-16

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2155912     .2155912
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4    .03535683    .03535683
  lassocv            5            0            0
  ridgecv            6    .17704915    .17704915
       rf            7     .2636545     .2636545
       rf            8    1.441e-16    1.441e-16
       rf            9    2.713e-17    2.713e-17
gradboost           10            0            0
gradboost           11    .30834832    .30834832
     nnet           12    7.260e-17    7.260e-17
     nnet           13    1.035e-17    1.035e-17

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05187596    .05187596
      ols            2            0    2.223e-17    2.223e-17
  lassocv            3            0    .08810285    .08810285
  ridgecv            4            0    .17379527    .17379527
  lassocv            5            0    1.505e-16    1.505e-16
  ridgecv            6            0    7.291e-17    7.291e-17
       rf            7            0    .49036016    .49036016
       rf            8            0    2.143e-17    2.143e-17
       rf            9            0    2.520e-16    2.520e-16
gradboost           10            0            0            0
gradboost           11            0    .19586577    .19586577
     nnet           12            0    3.099e-17    3.099e-17
     nnet           13            0    3.361e-17    3.361e-17
      ols            1            1    8.587e-17    8.587e-17
      ols            2            1            0            0
  lassocv            3            1    .04462708    .04462708
  ridgecv            4            1    2.034e-17    2.034e-17
  lassocv            5            1    .35129596    .35129596
  ridgecv            6            1    .04192768    .04192768
       rf            7            1     .5272445     .5272445
       rf            8            1    1.827e-16    1.827e-16
       rf            9            1    1.538e-16    1.538e-16
gradboost           10            1    7.791e-17    7.791e-17
gradboost           11            1    .03490479    .03490479
     nnet           12            1    2.182e-16    2.182e-16
     nnet           13            1    8.893e-16    8.893e-16

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05187596    .05187596
      ols            2            0    2.223e-17    2.223e-17
  lassocv            3            0    .08810285    .08810285
  ridgecv            4            0    .17379527    .17379527
  lassocv            5            0    1.505e-16    1.505e-16
  ridgecv            6            0    7.291e-17    7.291e-17
       rf            7            0    .49036016    .49036016
       rf            8            0    2.143e-17    2.143e-17
       rf            9            0    2.520e-16    2.520e-16
gradboost           10            0            0            0
gradboost           11            0    .19586577    .19586577
     nnet           12            0    3.099e-17    3.099e-17
     nnet           13            0    3.361e-17    3.361e-17
      ols            1            1    8.587e-17    8.587e-17
      ols            2            1            0            0
  lassocv            3            1    .04462708    .04462708
  ridgecv            4            1    2.034e-17    2.034e-17
  lassocv            5            1    .35129596    .35129596
  ridgecv            6            1    .04192768    .04192768
       rf            7            1     .5272445     .5272445
       rf            8            1    1.827e-16    1.827e-16
       rf            9            1    1.538e-16    1.538e-16
gradboost           10            1    7.791e-17    7.791e-17
gradboost           11            1    .03490479    .03490479
     nnet           12            1    2.182e-16    2.182e-16
     nnet           13            1    8.893e-16    8.893e-16

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4785412   2.7728394          1          0    .051876    .051876 |
   2. | 2.9799508   3.2374318          2          0   2.22e-17   2.22e-17 |
   3. | 2.8010105   2.8741746          3          0   .0881028   .0881028 |
   4. | 2.4619176   2.6233899          4          0   .1737953   .1737953 |
   5. | 3.1210994   3.1420296          5          0   1.50e-16   1.50e-16 |
      |-------------------------------------------------------------------|
   6. | 2.5477426   2.7139497          6          0   7.29e-17   7.29e-17 |
   7. | 2.3789374   2.6416499          7          0   .4903602   .4903602 |
   8. | 2.6643037   2.7111669          8          0   2.14e-17   2.14e-17 |
      +-------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_26898/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2155912     .2155912
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4    .03535683    .03535683
  lassocv            5            0            0
  ridgecv            6    .17704915    .17704915
       rf            7     .2636545     .2636545
       rf            8    1.441e-16    1.441e-16
       rf            9    2.713e-17    2.713e-17
gradboost           10            0            0
gradboost           11    .30834832    .30834832
     nnet           12    7.260e-17    7.260e-17
     nnet           13    1.035e-17    1.035e-17

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05187596    .05187596
      ols            2            0    2.223e-17    2.223e-17
  lassocv            3            0    .08810285    .08810285
  ridgecv            4            0    .17379527    .17379527
  lassocv            5            0    1.505e-16    1.505e-16
  ridgecv            6            0    7.291e-17    7.291e-17
       rf            7            0    .49036016    .49036016
       rf            8            0    2.143e-17    2.143e-17
       rf            9            0    2.520e-16    2.520e-16
gradboost           10            0            0            0
gradboost           11            0    .19586577    .19586577
     nnet           12            0    3.099e-17    3.099e-17
     nnet           13            0    3.361e-17    3.361e-17
      ols            1            1    8.587e-17    8.587e-17
      ols            2            1            0            0
  lassocv            3            1    .04462708    .04462708
  ridgecv            4            1    2.034e-17    2.034e-17
  lassocv            5            1    .35129596    .35129596
  ridgecv            6            1    .04192768    .04192768
       rf            7            1     .5272445     .5272445
       rf            8            1    1.827e-16    1.827e-16
       rf            9            1    1.538e-16    1.538e-16
gradboost           10            1    7.791e-17    7.791e-17
gradboost           11            1    .03490479    .03490479
     nnet           12            1    2.182e-16    2.182e-16
     nnet           13            1    8.893e-16    8.893e-16

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1     .2155912     .2155912
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4    .03535683    .03535683
  lassocv            5            0            0
  ridgecv            6    .17704915    .17704915
       rf            7     .2636545     .2636545
       rf            8    1.441e-16    1.441e-16
       rf            9    2.713e-17    2.713e-17
gradboost           10            0            0
gradboost           11    .30834832    .30834832
     nnet           12    7.260e-17    7.260e-17
     nnet           13    1.035e-17    1.035e-17

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76799033          1   .2155912   .2155912 |
   2. | .34206934          2          0          0 |
   3. | .07895614          3          0          0 |
   4. | .21990142          4   .0353568   .0353568 |
   5. | .53223606          5          0          0 |
      |--------------------------------------------|
   6. | .85409623          6   .1770491   .1770491 |
   7. | .81030937          7   .2636545   .2636545 |
   8. | .84659199          8   1.44e-16   1.44e-16 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_26898/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24467819    .24467819
    logit            2            0            0
  lassocv            3    .15241597    .15241597
  ridgecv            4    .06301041    .06301041
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28736841    .28736841
       rf            8    3.355e-16    3.355e-16
       rf            9    1.076e-17    1.076e-17
gradboost           10    2.360e-16    2.360e-16
gradboost           11    .23380398    .23380398
     nnet           12    4.050e-16    4.050e-16
     nnet           13    .01872305    .01872305

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00146357    .00146357
      ols            2            0    1.107e-15    1.107e-15
  lassocv            3            0    .19308297    .19308297
  ridgecv            4            0    .17267294    .17267294
  lassocv            5            0    2.708e-16    2.708e-16
  ridgecv            6            0            0            0
       rf            7            0    .46640825    .46640825
       rf            8            0    1.590e-15    1.590e-15
       rf            9            0    2.343e-15    2.343e-15
gradboost           10            0    1.042e-15    1.042e-15
gradboost           11            0    .16637226    .16637226
     nnet           12            0    3.325e-15    3.325e-15
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .19947613    .19947613
  ridgecv            4            1    .09142381    .09142381
  lassocv            5            1    .10733458    .10733458
  ridgecv            6            1    .00428499    .00428499
       rf            7            1    .52725598    .52725598
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .05216646    .05216646
     nnet           12            1            0            0
     nnet           13            1    .01805804    .01805804

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24467819    .24467819
    logit            2            0            0
  lassocv            3    .15241597    .15241597
  ridgecv            4    .06301041    .06301041
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28736841    .28736841
       rf            8    3.355e-16    3.355e-16
       rf            9    1.076e-17    1.076e-17
gradboost           10    2.360e-16    2.360e-16
gradboost           11    .23380398    .23380398
     nnet           12    4.050e-16    4.050e-16
     nnet           13    .01872305    .01872305

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00146357    .00146357
      ols            2            0    1.107e-15    1.107e-15
  lassocv            3            0    .19308297    .19308297
  ridgecv            4            0    .17267294    .17267294
  lassocv            5            0    2.708e-16    2.708e-16
  ridgecv            6            0            0            0
       rf            7            0    .46640825    .46640825
       rf            8            0    1.590e-15    1.590e-15
       rf            9            0    2.343e-15    2.343e-15
gradboost           10            0    1.042e-15    1.042e-15
gradboost           11            0    .16637226    .16637226
     nnet           12            0    3.325e-15    3.325e-15
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .19947613    .19947613
  ridgecv            4            1    .09142381    .09142381
  lassocv            5            1    .10733458    .10733458
  ridgecv            6            1    .00428499    .00428499
       rf            7            1    .52725598    .52725598
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .05216646    .05216646
     nnet           12            1            0            0
     nnet           13            1    .01805804    .01805804

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00146357    .00146357
      ols            2            0    1.107e-15    1.107e-15
  lassocv            3            0    .19308297    .19308297
  ridgecv            4            0    .17267294    .17267294
  lassocv            5            0    2.708e-16    2.708e-16
  ridgecv            6            0            0            0
       rf            7            0    .46640825    .46640825
       rf            8            0    1.590e-15    1.590e-15
       rf            9            0    2.343e-15    2.343e-15
gradboost           10            0    1.042e-15    1.042e-15
gradboost           11            0    .16637226    .16637226
     nnet           12            0    3.325e-15    3.325e-15
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .19947613    .19947613
  ridgecv            4            1    .09142381    .09142381
  lassocv            5            1    .10733458    .10733458
  ridgecv            6            1    .00428499    .00428499
       rf            7            1    .52725598    .52725598
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .05216646    .05216646
     nnet           12            1            0            0
     nnet           13            1    .01805804    .01805804

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4876594   2.7562568          1          0   .0014636   .0014636 |
   2. | 2.9735284   3.2244972          2          0   1.11e-15   1.11e-15 |
   3. | 2.7872793   2.8596608          3          0    .193083    .193083 |
   4. | 2.4471938   2.6126218          4          0   .1726729   .1726729 |
   5. |  3.102849   3.1409301          5          0   2.71e-16   2.71e-16 |
      |-------------------------------------------------------------------|
   6. | 2.5435758   2.7043045          6          0          0          0 |
   7. | 2.3374305   2.6561147          7          0   .4664083   .4664083 |
   8. | 2.6472164   2.7145307          8          0   1.59e-15   1.59e-15 |
      +-------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_26898/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24467819    .24467819
    logit            2            0            0
  lassocv            3    .15241597    .15241597
  ridgecv            4    .06301041    .06301041
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28736841    .28736841
       rf            8    3.355e-16    3.355e-16
       rf            9    1.076e-17    1.076e-17
gradboost           10    2.360e-16    2.360e-16
gradboost           11    .23380398    .23380398
     nnet           12    4.050e-16    4.050e-16
     nnet           13    .01872305    .01872305

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00146357    .00146357
      ols            2            0    1.107e-15    1.107e-15
  lassocv            3            0    .19308297    .19308297
  ridgecv            4            0    .17267294    .17267294
  lassocv            5            0    2.708e-16    2.708e-16
  ridgecv            6            0            0            0
       rf            7            0    .46640825    .46640825
       rf            8            0    1.590e-15    1.590e-15
       rf            9            0    2.343e-15    2.343e-15
gradboost           10            0    1.042e-15    1.042e-15
gradboost           11            0    .16637226    .16637226
     nnet           12            0    3.325e-15    3.325e-15
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .19947613    .19947613
  ridgecv            4            1    .09142381    .09142381
  lassocv            5            1    .10733458    .10733458
  ridgecv            6            1    .00428499    .00428499
       rf            7            1    .52725598    .52725598
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .05216646    .05216646
     nnet           12            1            0            0
     nnet           13            1    .01805804    .01805804

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .24467819    .24467819
    logit            2            0            0
  lassocv            3    .15241597    .15241597
  ridgecv            4    .06301041    .06301041
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28736841    .28736841
       rf            8    3.355e-16    3.355e-16
       rf            9    1.076e-17    1.076e-17
gradboost           10    2.360e-16    2.360e-16
gradboost           11    .23380398    .23380398
     nnet           12    4.050e-16    4.050e-16
     nnet           13    .01872305    .01872305

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77026501          1   .2446782   .2446782 |
   2. | .34596208          2          0          0 |
   3. | .08640803          3    .152416    .152416 |
   4. | .21824536          4   .0630104   .0630104 |
   5. | .53414087          5          0          0 |
      |--------------------------------------------|
   6. | .85269388          6          0          0 |
   7. | .80971264          7   .2873684   .2873684 |
   8. | .84638175          8   3.36e-16   3.36e-16 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_26898/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.033    (0.054)
  ss  1  [shortstack]          [ss]          [ss]    -0.045    (0.053)
  ps  1   [poolstack]          [ps]          [ps]    -0.045    (0.053)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0448994   .0526566    -0.85   0.394    -.1481044    .0583057
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 60 propensity scores trimmed to lower limit .01.
Warning: 11 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.033    (0.054)
  ss  1  [shortstack]          [ss]          [ss]    -0.045    (0.053)
  ps  1   [poolstack]          [ps]          [ps]    -0.045    (0.053)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0327143   .0535138    -0.61   0.541    -.1375995    .0721709
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 67 propensity scores trimmed to lower limit .01.
Warning: 17 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.045    (0.053)
  ss  1  [shortstack]          [ss]          [ss]    -0.045    (0.053)
  ps  1   [poolstack]          [ps]          [ps]    -0.045    (0.053)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0448994   .0526566    -0.85   0.394    -.1481044    .0583057
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 60 propensity scores trimmed to lower limit .01.
Warning: 11 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.045    (0.053)
  ss  1  [shortstack]          [ss]          [ss]    -0.045    (0.053)
  ps  1   [poolstack]          [ps]          [ps]    -0.045    (0.053)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0448994   .0526566    -0.85   0.394    -.1481044    .0583057
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 60 propensity scores trimmed to lower limit .01.
Warning: 11 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0         .1         .1 |
   4. |        4          0          0          0 |
   5. |        5          0         .1         .1 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .8         .8 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_26898/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .9         .9 |
   4. |        4          0          0 |
   5. |        5         .1         .1 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_26898/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_26898/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4409921   2.7980919          1          0          0          0 |
   2. | 2.9056861   3.1843088          2          0          0          0 |
   3. | 2.9033923   2.8787894          3          0          0          0 |
   4. |  2.482338   2.5922754          4          0          0          0 |
   5. | 3.1032491   3.1068552          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5047736   2.7146881          6          0          0          0 |
   7. | 2.4679549   2.7620749          7          0          1          1 |
   8. | 2.6358566   2.8030219          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_26898/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77300316          1          0          0 |
   2. | .32058501          2          0          0 |
   3. | .08907966          3          1          1 |
   4. | .22110163          4          0          0 |
   5. | .57157534          5          0          0 |
      |--------------------------------------------|
   6. | .84313226          6          0          0 |
   7. | .78584564          7          0          0 |
   8. | .78886384          8          0          0 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_26898/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4409921   2.7980919          1          0          0          0 |
   2. | 2.9056861   3.1843088          2          0          0          0 |
   3. | 2.9033923   2.8787894          3          0          0          0 |
   4. |  2.482338   2.5922754          4          0          0          0 |
   5. | 3.1032491   3.1068552          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5047736   2.7146881          6          0          0          0 |
   7. | 2.4679549   2.7620749          7          0          1          1 |
   8. | 2.6358566   2.8030219          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_26898/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77300316          1          0          0 |
   2. | .32058501          2          0          0 |
   3. | .08907966          3          1          1 |
   4. | .22110163          4          0          0 |
   5. | .57157534          5          0          0 |
      |--------------------------------------------|
   6. | .84313226          6          0          0 |
   7. | .78584564          7          0          0 |
   8. | .78886384          8          0          0 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_26898/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     1.192    (0.145)
  ss  1  [shortstack]          [ss]          [ss]    -0.068    (0.088)
  ps  1   [poolstack]          [ps]          [ps]     0.106    (0.093)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0675172   .0880689    -0.77   0.443     -.240129    .1050946
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 389 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     1.192    (0.145)
  ss  1  [shortstack]          [ss]          [ss]    -0.068    (0.088)
  ps  1   [poolstack]          [ps]          [ps]     0.106    (0.093)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    1.19152   .1450235     8.22   0.000     .9072788     1.47576
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2170 propensity scores trimmed to lower limit .01.
Warning: 159 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.068    (0.088)
  ss  1  [shortstack]          [ss]          [ss]    -0.068    (0.088)
  ps  1   [poolstack]          [ps]          [ps]     0.106    (0.093)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0675172   .0880689    -0.77   0.443     -.240129    .1050946
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 389 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.106    (0.093)
  ss  1  [shortstack]          [ss]          [ss]    -0.068    (0.088)
  ps  1   [poolstack]          [ps]          [ps]     0.106    (0.093)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .1064335   .0926717     1.15   0.251    -.0751997    .2880668
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 14 propensity scores trimmed to lower limit .01.
Warning: 241 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18393947    .18393947
    logit            2    .08566161    .08566161
  lassocv            3    .39783283    .39783283
  ridgecv            4    .09497771    .09497771
  lassocv            5   -.20284385   -.20284385
  ridgecv            6   -.01167815   -.01167815
       rf            7    .42450884    .42450884
       rf            8    .09350667    .09350667
       rf            9   -.23819724   -.23819724
gradboost           10    .05089377    .05089377
gradboost           11     .1673316     .1673316
     nnet           12   -3.3426692   -3.3426692
     nnet           13    .02392698    .02392698

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01588512    .01588512
      ols            2            0   -.03854544   -.03854544
  lassocv            3            0    .03092122    .03092122
  ridgecv            4            0    .50789971    .50789971
  lassocv            5            0   -.04841109   -.04841109
  ridgecv            6            0   -.06089615   -.06089615
       rf            7            0    .71211963    .71211963
       rf            8            0   -.10474732   -.10474732
       rf            9            0   -.03785684   -.03785684
gradboost           10            0    .03174321    .03174321
gradboost           11            0    .07299202    .07299202
     nnet           12            0   -.72661824   -.72661824
     nnet           13            0   -.00772818   -.00772818
      ols            1            1    .00751356    .00751356
      ols            2            1   -.02148147   -.02148147
  lassocv            3            1   -.12487337   -.12487337
  ridgecv            4            1    .37447511    .37447511
  lassocv            5            1    .33560127    .33560127
  ridgecv            6            1   -.11470269   -.11470269
       rf            7            1    .53125983    .53125983
       rf            8            1    .35572304    .35572304
       rf            9            1   -.26007195   -.26007195
gradboost           10            1   -.02779997   -.02779997
gradboost           11            1    .01762636    .01762636
     nnet           12            1   -.00304549   -.00304549
     nnet           13            1    .00444707    .00444707

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18393947    .18393947
    logit            2    .08566161    .08566161
  lassocv            3    .39783283    .39783283
  ridgecv            4    .09497771    .09497771
  lassocv            5   -.20284385   -.20284385
  ridgecv            6   -.01167815   -.01167815
       rf            7    .42450884    .42450884
       rf            8    .09350667    .09350667
       rf            9   -.23819724   -.23819724
gradboost           10    .05089377    .05089377
gradboost           11     .1673316     .1673316
     nnet           12   -3.3426692   -3.3426692
     nnet           13    .02392698    .02392698

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01588512    .01588512
      ols            2            0   -.03854544   -.03854544
  lassocv            3            0    .03092122    .03092122
  ridgecv            4            0    .50789971    .50789971
  lassocv            5            0   -.04841109   -.04841109
  ridgecv            6            0   -.06089615   -.06089615
       rf            7            0    .71211963    .71211963
       rf            8            0   -.10474732   -.10474732
       rf            9            0   -.03785684   -.03785684
gradboost           10            0    .03174321    .03174321
gradboost           11            0    .07299202    .07299202
     nnet           12            0   -.72661824   -.72661824
     nnet           13            0   -.00772818   -.00772818
      ols            1            1    .00751356    .00751356
      ols            2            1   -.02148147   -.02148147
  lassocv            3            1   -.12487337   -.12487337
  ridgecv            4            1    .37447511    .37447511
  lassocv            5            1    .33560127    .33560127
  ridgecv            6            1   -.11470269   -.11470269
       rf            7            1    .53125983    .53125983
       rf            8            1    .35572304    .35572304
       rf            9            1   -.26007195   -.26007195
gradboost           10            1   -.02779997   -.02779997
gradboost           11            1    .01762636    .01762636
     nnet           12            1   -.00304549   -.00304549
     nnet           13            1    .00444707    .00444707

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01588512    .01588512
      ols            2            0   -.03854544   -.03854544
  lassocv            3            0    .03092122    .03092122
  ridgecv            4            0    .50789971    .50789971
  lassocv            5            0   -.04841109   -.04841109
  ridgecv            6            0   -.06089615   -.06089615
       rf            7            0    .71211963    .71211963
       rf            8            0   -.10474732   -.10474732
       rf            9            0   -.03785684   -.03785684
gradboost           10            0    .03174321    .03174321
gradboost           11            0    .07299202    .07299202
     nnet           12            0   -.72661824   -.72661824
     nnet           13            0   -.00772818   -.00772818
      ols            1            1    .00751356    .00751356
      ols            2            1   -.02148147   -.02148147
  lassocv            3            1   -.12487337   -.12487337
  ridgecv            4            1    .37447511    .37447511
  lassocv            5            1    .33560127    .33560127
  ridgecv            6            1   -.11470269   -.11470269
       rf            7            1    .53125983    .53125983
       rf            8            1    .35572304    .35572304
       rf            9            1   -.26007195   -.26007195
gradboost           10            1   -.02779997   -.02779997
gradboost           11            1    .01762636    .01762636
     nnet           12            1   -.00304549   -.00304549
     nnet           13            1    .00444707    .00444707

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0158851    .0158851 |
   2. |        2          0   -.0385454   -.0385454 |
   3. |        3          0    .0309212    .0309212 |
   4. |        4          0    .5078997    .5078997 |
   5. |        5          0   -.0484111   -.0484111 |
      |---------------------------------------------|
   6. |        6          0   -.0608961   -.0608961 |
   7. |        7          0    .7121196    .7121196 |
   8. |        8          0   -.1047473   -.1047473 |
      +---------------------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_26898/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18393947    .18393947
    logit            2    .08566161    .08566161
  lassocv            3    .39783283    .39783283
  ridgecv            4    .09497771    .09497771
  lassocv            5   -.20284385   -.20284385
  ridgecv            6   -.01167815   -.01167815
       rf            7    .42450884    .42450884
       rf            8    .09350667    .09350667
       rf            9   -.23819724   -.23819724
gradboost           10    .05089377    .05089377
gradboost           11     .1673316     .1673316
     nnet           12   -3.3426692   -3.3426692
     nnet           13    .02392698    .02392698

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01588512    .01588512
      ols            2            0   -.03854544   -.03854544
  lassocv            3            0    .03092122    .03092122
  ridgecv            4            0    .50789971    .50789971
  lassocv            5            0   -.04841109   -.04841109
  ridgecv            6            0   -.06089615   -.06089615
       rf            7            0    .71211963    .71211963
       rf            8            0   -.10474732   -.10474732
       rf            9            0   -.03785684   -.03785684
gradboost           10            0    .03174321    .03174321
gradboost           11            0    .07299202    .07299202
     nnet           12            0   -.72661824   -.72661824
     nnet           13            0   -.00772818   -.00772818
      ols            1            1    .00751356    .00751356
      ols            2            1   -.02148147   -.02148147
  lassocv            3            1   -.12487337   -.12487337
  ridgecv            4            1    .37447511    .37447511
  lassocv            5            1    .33560127    .33560127
  ridgecv            6            1   -.11470269   -.11470269
       rf            7            1    .53125983    .53125983
       rf            8            1    .35572304    .35572304
       rf            9            1   -.26007195   -.26007195
gradboost           10            1   -.02779997   -.02779997
gradboost           11            1    .01762636    .01762636
     nnet           12            1   -.00304549   -.00304549
     nnet           13            1    .00444707    .00444707

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .18393947    .18393947
    logit            2    .08566161    .08566161
  lassocv            3    .39783283    .39783283
  ridgecv            4    .09497771    .09497771
  lassocv            5   -.20284385   -.20284385
  ridgecv            6   -.01167815   -.01167815
       rf            7    .42450884    .42450884
       rf            8    .09350667    .09350667
       rf            9   -.23819724   -.23819724
gradboost           10    .05089377    .05089377
gradboost           11     .1673316     .1673316
     nnet           12   -3.3426692   -3.3426692
     nnet           13    .02392698    .02392698

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .1839395    .1839395 |
   2. |        2    .0856616    .0856616 |
   3. |        3    .3978328    .3978328 |
   4. |        4    .0949777    .0949777 |
   5. |        5   -.2028439   -.2028439 |
      |----------------------------------|
   6. |        6   -.0116781   -.0116781 |
   7. |        7    .4245088    .4245088 |
   8. |        8    .0935067    .0935067 |
      +----------------------------------+
(note: file out_26898/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_26898/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20188673    .20188673
    logit            2    .06775321    .06775321
  lassocv            3   -.00293093   -.00293093
  ridgecv            4    .09460893    .09460893
  lassocv            5    .00016313    .00016313
  ridgecv            6    .16922915    .16922915
       rf            7    .43185899    .43185899
       rf            8   -.02970037   -.02970037
       rf            9   -.11167107   -.11167107
gradboost           10    .01241612    .01241612
gradboost           11    .25865654    .25865654
     nnet           12     .0330841     .0330841
     nnet           13   -.02435895   -.02435895

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06734279    .06734279
      ols            2            0   -.08494085   -.08494085
  lassocv            3            0   -.05536104   -.05536104
  ridgecv            4            0    .65749134    .65749134
  lassocv            5            0   -.06865155   -.06865155
  ridgecv            6            0   -.18130243   -.18130243
       rf            7            0    .68543416    .68543416
       rf            8            0    .66014202    .66014202
       rf            9            0    -.8451638    -.8451638
gradboost           10            0    .02353518    .02353518
gradboost           11            0    .12303222    .12303222
     nnet           12            0    .00509104    .00509104
     nnet           13            0    -.0210854    -.0210854
      ols            1            1   -.02523294   -.02523294
      ols            2            1    .04046108    .04046108
  lassocv            3            1   -.08274311   -.08274311
  ridgecv            4            1    .25794249    .25794249
  lassocv            5            1    .39928994    .39928994
  ridgecv            6            1   -.02037349   -.02037349
       rf            7            1    .56787869    .56787869
       rf            8            1    .50591953    .50591953
       rf            9            1   -.60335712   -.60335712
gradboost           10            1    .03719911    .03719911
gradboost           11            1    -.0050251    -.0050251
     nnet           12            1    .09118469    .09118469
     nnet           13            1   -.05578651   -.05578651

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20188673    .20188673
    logit            2    .06775321    .06775321
  lassocv            3   -.00293093   -.00293093
  ridgecv            4    .09460893    .09460893
  lassocv            5    .00016313    .00016313
  ridgecv            6    .16922915    .16922915
       rf            7    .43185899    .43185899
       rf            8   -.02970037   -.02970037
       rf            9   -.11167107   -.11167107
gradboost           10    .01241612    .01241612
gradboost           11    .25865654    .25865654
     nnet           12     .0330841     .0330841
     nnet           13   -.02435895   -.02435895

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06734279    .06734279
      ols            2            0   -.08494085   -.08494085
  lassocv            3            0   -.05536104   -.05536104
  ridgecv            4            0    .65749134    .65749134
  lassocv            5            0   -.06865155   -.06865155
  ridgecv            6            0   -.18130243   -.18130243
       rf            7            0    .68543416    .68543416
       rf            8            0    .66014202    .66014202
       rf            9            0    -.8451638    -.8451638
gradboost           10            0    .02353518    .02353518
gradboost           11            0    .12303222    .12303222
     nnet           12            0    .00509104    .00509104
     nnet           13            0    -.0210854    -.0210854
      ols            1            1   -.02523294   -.02523294
      ols            2            1    .04046108    .04046108
  lassocv            3            1   -.08274311   -.08274311
  ridgecv            4            1    .25794249    .25794249
  lassocv            5            1    .39928994    .39928994
  ridgecv            6            1   -.02037349   -.02037349
       rf            7            1    .56787869    .56787869
       rf            8            1    .50591953    .50591953
       rf            9            1   -.60335712   -.60335712
gradboost           10            1    .03719911    .03719911
gradboost           11            1    -.0050251    -.0050251
     nnet           12            1    .09118469    .09118469
     nnet           13            1   -.05578651   -.05578651

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06734279    .06734279
      ols            2            0   -.08494085   -.08494085
  lassocv            3            0   -.05536104   -.05536104
  ridgecv            4            0    .65749134    .65749134
  lassocv            5            0   -.06865155   -.06865155
  ridgecv            6            0   -.18130243   -.18130243
       rf            7            0    .68543416    .68543416
       rf            8            0    .66014202    .66014202
       rf            9            0    -.8451638    -.8451638
gradboost           10            0    .02353518    .02353518
gradboost           11            0    .12303222    .12303222
     nnet           12            0    .00509104    .00509104
     nnet           13            0    -.0210854    -.0210854
      ols            1            1   -.02523294   -.02523294
      ols            2            1    .04046108    .04046108
  lassocv            3            1   -.08274311   -.08274311
  ridgecv            4            1    .25794249    .25794249
  lassocv            5            1    .39928994    .39928994
  ridgecv            6            1   -.02037349   -.02037349
       rf            7            1    .56787869    .56787869
       rf            8            1    .50591953    .50591953
       rf            9            1   -.60335712   -.60335712
gradboost           10            1    .03719911    .03719911
gradboost           11            1    -.0050251    -.0050251
     nnet           12            1    .09118469    .09118469
     nnet           13            1   -.05578651   -.05578651

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. |  2.749032   2.6351244          1          0    .0673428    .0673428 |
   2. | 3.2626322   3.1511126          2          0   -.0849408   -.0849408 |
   3. |  3.117952   2.7829205          3          0    -.055361    -.055361 |
   4. | 2.7628777   2.4986248          4          0    .6574913    .6574913 |
   5. | 3.5111754   3.0528633          5          0   -.0686515   -.0686515 |
      |---------------------------------------------------------------------|
   6. | 2.8399871   2.6001706          6          0   -.1813024   -.1813024 |
   7. | 2.6448765   2.4933883          7          0    .6854342    .6854342 |
   8. | 3.0055557   2.5444965          8          0     .660142     .660142 |
      +---------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ss_ols_short_ia.dta not found)
file out_26898/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20188673    .20188673
    logit            2    .06775321    .06775321
  lassocv            3   -.00293093   -.00293093
  ridgecv            4    .09460893    .09460893
  lassocv            5    .00016313    .00016313
  ridgecv            6    .16922915    .16922915
       rf            7    .43185899    .43185899
       rf            8   -.02970037   -.02970037
       rf            9   -.11167107   -.11167107
gradboost           10    .01241612    .01241612
gradboost           11    .25865654    .25865654
     nnet           12     .0330841     .0330841
     nnet           13   -.02435895   -.02435895

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06734279    .06734279
      ols            2            0   -.08494085   -.08494085
  lassocv            3            0   -.05536104   -.05536104
  ridgecv            4            0    .65749134    .65749134
  lassocv            5            0   -.06865155   -.06865155
  ridgecv            6            0   -.18130243   -.18130243
       rf            7            0    .68543416    .68543416
       rf            8            0    .66014202    .66014202
       rf            9            0    -.8451638    -.8451638
gradboost           10            0    .02353518    .02353518
gradboost           11            0    .12303222    .12303222
     nnet           12            0    .00509104    .00509104
     nnet           13            0    -.0210854    -.0210854
      ols            1            1   -.02523294   -.02523294
      ols            2            1    .04046108    .04046108
  lassocv            3            1   -.08274311   -.08274311
  ridgecv            4            1    .25794249    .25794249
  lassocv            5            1    .39928994    .39928994
  ridgecv            6            1   -.02037349   -.02037349
       rf            7            1    .56787869    .56787869
       rf            8            1    .50591953    .50591953
       rf            9            1   -.60335712   -.60335712
gradboost           10            1    .03719911    .03719911
gradboost           11            1    -.0050251    -.0050251
     nnet           12            1    .09118469    .09118469
     nnet           13            1   -.05578651   -.05578651

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .20188673    .20188673
    logit            2    .06775321    .06775321
  lassocv            3   -.00293093   -.00293093
  ridgecv            4    .09460893    .09460893
  lassocv            5    .00016313    .00016313
  ridgecv            6    .16922915    .16922915
       rf            7    .43185899    .43185899
       rf            8   -.02970037   -.02970037
       rf            9   -.11167107   -.11167107
gradboost           10    .01241612    .01241612
gradboost           11    .25865654    .25865654
     nnet           12     .0330841     .0330841
     nnet           13   -.02435895   -.02435895

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .83900226          1    .2018867    .2018867 |
   2. |  .3955165          2    .0677532    .0677532 |
   3. | .10590541          3   -.0029309   -.0029309 |
   4. | .24695794          4    .0946089    .0946089 |
   5. | .57867823          5    .0001631    .0001631 |
      |----------------------------------------------|
   6. | .93250185          6    .1692291    .1692291 |
   7. | .87944867          7     .431859     .431859 |
   8. |  .9119612          8   -.0297004   -.0297004 |
      +----------------------------------------------+
(note: file out_26898/D_gender_r_ss_ols_short_ia.dta not found)
file out_26898/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18922988    .18922988
    logit            2    .08942591    .08942591
  lassocv            3    .24735393    .24735393
  ridgecv            4    .09353779    .09353779
  lassocv            5   -.05241582   -.05241582
  ridgecv            6   -.01111051   -.01111051
       rf            7     .4273264     .4273264
       rf            8    .09027522    .09027522
       rf            9   -.23926817   -.23926817
gradboost           10    .05023305    .05023305
gradboost           11    .16703716    .16703716
     nnet           12   -.00332062   -.00332062
     nnet           13    .02424695    .02424695

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00228551   -.00228551
      ols            2            0   -.04356065   -.04356065
  lassocv            3            0    .10057309    .10057309
  ridgecv            4            0     .4252168     .4252168
  lassocv            5            0   -.07930718   -.07930718
  ridgecv            6            0   -.01776591   -.01776591
       rf            7            0    .73463963    .73463963
       rf            8            0   -.04597137   -.04597137
       rf            9            0   -.11656951   -.11656951
gradboost           10            0    .02324998    .02324998
gradboost           11            0    .08175522    .08175522
     nnet           12            0   -.00305448   -.00305448
     nnet           13            0   -.00651478   -.00651478
      ols            1            1   -.01452571   -.01452571
      ols            2            1   -.01443305   -.01443305
  lassocv            3            1    .01325555    .01325555
  ridgecv            4            1    .35666903    .35666903
  lassocv            5            1    .16939312    .16939312
  ridgecv            6            1   -.07065107   -.07065107
       rf            7            1    .54074952    .54074952
       rf            8            1    .37405915    .37405915
       rf            9            1   -.28670808   -.28670808
gradboost           10            1   -.01316308   -.01316308
gradboost           11            1    .02005848    .02005848
     nnet           12            1    .02885171    .02885171
     nnet           13            1    .01137091    .01137091

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18922988    .18922988
    logit            2    .08942591    .08942591
  lassocv            3    .24735393    .24735393
  ridgecv            4    .09353779    .09353779
  lassocv            5   -.05241582   -.05241582
  ridgecv            6   -.01111051   -.01111051
       rf            7     .4273264     .4273264
       rf            8    .09027522    .09027522
       rf            9   -.23926817   -.23926817
gradboost           10    .05023305    .05023305
gradboost           11    .16703716    .16703716
     nnet           12   -.00332062   -.00332062
     nnet           13    .02424695    .02424695

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00228551   -.00228551
      ols            2            0   -.04356065   -.04356065
  lassocv            3            0    .10057309    .10057309
  ridgecv            4            0     .4252168     .4252168
  lassocv            5            0   -.07930718   -.07930718
  ridgecv            6            0   -.01776591   -.01776591
       rf            7            0    .73463963    .73463963
       rf            8            0   -.04597137   -.04597137
       rf            9            0   -.11656951   -.11656951
gradboost           10            0    .02324998    .02324998
gradboost           11            0    .08175522    .08175522
     nnet           12            0   -.00305448   -.00305448
     nnet           13            0   -.00651478   -.00651478
      ols            1            1   -.01452571   -.01452571
      ols            2            1   -.01443305   -.01443305
  lassocv            3            1    .01325555    .01325555
  ridgecv            4            1    .35666903    .35666903
  lassocv            5            1    .16939312    .16939312
  ridgecv            6            1   -.07065107   -.07065107
       rf            7            1    .54074952    .54074952
       rf            8            1    .37405915    .37405915
       rf            9            1   -.28670808   -.28670808
gradboost           10            1   -.01316308   -.01316308
gradboost           11            1    .02005848    .02005848
     nnet           12            1    .02885171    .02885171
     nnet           13            1    .01137091    .01137091

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00228551   -.00228551
      ols            2            0   -.04356065   -.04356065
  lassocv            3            0    .10057309    .10057309
  ridgecv            4            0     .4252168     .4252168
  lassocv            5            0   -.07930718   -.07930718
  ridgecv            6            0   -.01776591   -.01776591
       rf            7            0    .73463963    .73463963
       rf            8            0   -.04597137   -.04597137
       rf            9            0   -.11656951   -.11656951
gradboost           10            0    .02324998    .02324998
gradboost           11            0    .08175522    .08175522
     nnet           12            0   -.00305448   -.00305448
     nnet           13            0   -.00651478   -.00651478
      ols            1            1   -.01452571   -.01452571
      ols            2            1   -.01443305   -.01443305
  lassocv            3            1    .01325555    .01325555
  ridgecv            4            1    .35666903    .35666903
  lassocv            5            1    .16939312    .16939312
  ridgecv            6            1   -.07065107   -.07065107
       rf            7            1    .54074952    .54074952
       rf            8            1    .37405915    .37405915
       rf            9            1   -.28670808   -.28670808
gradboost           10            1   -.01316308   -.01316308
gradboost           11            1    .02005848    .02005848
     nnet           12            1    .02885171    .02885171
     nnet           13            1    .01137091    .01137091

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7771062   2.8866571          1          0   -.0022855   -.0022855 |
   2. |  3.278159   3.3695524          2          0   -.0435607   -.0435607 |
   3. | 3.1009043   3.0089323          3          0    .1005731    .1005731 |
   4. | 2.7449774   2.7151901          4          0    .4252168    .4252168 |
   5. | 3.4711962   3.2804275          5          0   -.0793072   -.0793072 |
      |---------------------------------------------------------------------|
   6. | 2.8526878   2.8261049          6          0   -.0177659   -.0177659 |
   7. | 2.6028561   2.7998522          7          0    .7346396    .7346396 |
   8. | 2.9635064   2.8400958          8          0   -.0459714   -.0459714 |
      +---------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_26898/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18922988    .18922988
    logit            2    .08942591    .08942591
  lassocv            3    .24735393    .24735393
  ridgecv            4    .09353779    .09353779
  lassocv            5   -.05241582   -.05241582
  ridgecv            6   -.01111051   -.01111051
       rf            7     .4273264     .4273264
       rf            8    .09027522    .09027522
       rf            9   -.23926817   -.23926817
gradboost           10    .05023305    .05023305
gradboost           11    .16703716    .16703716
     nnet           12   -.00332062   -.00332062
     nnet           13    .02424695    .02424695

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00228551   -.00228551
      ols            2            0   -.04356065   -.04356065
  lassocv            3            0    .10057309    .10057309
  ridgecv            4            0     .4252168     .4252168
  lassocv            5            0   -.07930718   -.07930718
  ridgecv            6            0   -.01776591   -.01776591
       rf            7            0    .73463963    .73463963
       rf            8            0   -.04597137   -.04597137
       rf            9            0   -.11656951   -.11656951
gradboost           10            0    .02324998    .02324998
gradboost           11            0    .08175522    .08175522
     nnet           12            0   -.00305448   -.00305448
     nnet           13            0   -.00651478   -.00651478
      ols            1            1   -.01452571   -.01452571
      ols            2            1   -.01443305   -.01443305
  lassocv            3            1    .01325555    .01325555
  ridgecv            4            1    .35666903    .35666903
  lassocv            5            1    .16939312    .16939312
  ridgecv            6            1   -.07065107   -.07065107
       rf            7            1    .54074952    .54074952
       rf            8            1    .37405915    .37405915
       rf            9            1   -.28670808   -.28670808
gradboost           10            1   -.01316308   -.01316308
gradboost           11            1    .02005848    .02005848
     nnet           12            1    .02885171    .02885171
     nnet           13            1    .01137091    .01137091

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .18922988    .18922988
    logit            2    .08942591    .08942591
  lassocv            3    .24735393    .24735393
  ridgecv            4    .09353779    .09353779
  lassocv            5   -.05241582   -.05241582
  ridgecv            6   -.01111051   -.01111051
       rf            7     .4273264     .4273264
       rf            8    .09027522    .09027522
       rf            9   -.23926817   -.23926817
gradboost           10    .05023305    .05023305
gradboost           11    .16703716    .16703716
     nnet           12   -.00332062   -.00332062
     nnet           13    .02424695    .02424695

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .81033503          1    .1892299    .1892299 |
   2. | .38196974          2    .0894259    .0894259 |
   3. | .09421093          3    .2473539    .2473539 |
   4. | .21690861          4    .0935378    .0935378 |
   5. | .56238892          5   -.0524158   -.0524158 |
      |----------------------------------------------|
   6. | .92314275          6   -.0111105   -.0111105 |
   7. | .86990663          7    .4273264    .4273264 |
   8. | .89256696          8    .0902752    .0902752 |
      +----------------------------------------------+
(note: file out_26898/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_26898/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.017)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.099919   .0166897    -5.99   0.000    -.1326302   -.0672078
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.017)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.099919   .0166897    -5.99   0.000    -.1326302   -.0672078
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.017)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.099919   .0166897    -5.99   0.000    -.1326302   -.0672078
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.017)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.099919   .0166897    -5.99   0.000    -.1326302   -.0672078
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_26898/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_26898/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_26898/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_26898/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_26898/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5731106   2.7595761          1          0   .0769231   .0769231 |
   2. |  3.012021   3.1914993          2          0   .0769231   .0769231 |
   3. | 2.6852914    2.837247          3          0   .0769231   .0769231 |
   4. | 2.4441258   2.5284696          4          0   .0769231   .0769231 |
   5. | 2.9944128   3.1345809          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5862697   2.6582468          6          0   .0769231   .0769231 |
   7. | 2.3785512   2.6912907          7          0   .0769231   .0769231 |
   8. | 2.6880416   2.8235203          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ss_avg_short_ia.dta not found)
file out_26898/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77775711          1   .0769231   .0769231 |
   2. | .38290175          2   .0769231   .0769231 |
   3. | .16050938          3   .0769231   .0769231 |
   4. | .34633803          4   .0769231   .0769231 |
   5. | .54921343          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80473792          6   .0769231   .0769231 |
   7. | .77570862          7   .0769231   .0769231 |
   8. | .78489701          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ss_avg_short_ia.dta not found)
file out_26898/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5731106   2.7595761          1          0   .0769231   .0769231 |
   2. |  3.012021   3.1914993          2          0   .0769231   .0769231 |
   3. | 2.6852914    2.837247          3          0   .0769231   .0769231 |
   4. | 2.4441258   2.5284696          4          0   .0769231   .0769231 |
   5. | 2.9944128   3.1345809          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5862697   2.6582468          6          0   .0769231   .0769231 |
   7. | 2.3785512   2.6912907          7          0   .0769231   .0769231 |
   8. | 2.6880416   2.8235203          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_26898/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_26898/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77775711          1   .0769231   .0769231 |
   2. | .38290175          2   .0769231   .0769231 |
   3. | .16050938          3   .0769231   .0769231 |
   4. | .34633803          4   .0769231   .0769231 |
   5. | .54921343          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80473792          6   .0769231   .0769231 |
   7. | .77570862          7   .0769231   .0769231 |
   8. | .78489701          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_26898/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_26898/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1118519    .066866    -1.67   0.094    -.2429068     .019203
------------------------------------------------------------------------------
Warning: 139 propensity scores trimmed to lower limit ..
Warning: 42 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1187809   .0164079    -7.24   0.000    -.1509399   -.0866219
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0306879   .0530753    -0.58   0.563    -.1347137    .0733379
------------------------------------------------------------------------------
Warning: 60 propensity scores trimmed to lower limit ..
Warning: 11 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0408885   .0588525    -0.69   0.487    -.1562373    .0744603
------------------------------------------------------------------------------
Warning: 86 propensity scores trimmed to lower limit ..
Warning: 21 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0192257   .0849813    -0.23   0.821     -.185786    .1473347
------------------------------------------------------------------------------
Warning: 79 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1618137   .1676452    -0.97   0.334    -.4903923    .1667649
------------------------------------------------------------------------------
Warning: 94 propensity scores trimmed to lower limit ..
Warning: 21 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0777002   .0229872    -3.38   0.001    -.1227542   -.0326461
------------------------------------------------------------------------------
Warning: 2 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1046057   .0156248    -6.69   0.000    -.1352297   -.0739818
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1090781   .0148228    -7.36   0.000    -.1381303   -.0800259
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.071902   .0214635    -3.35   0.001    -.1139696   -.0298343
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0239929   .0396704    -0.60   0.545    -.1017455    .0537598
------------------------------------------------------------------------------
Warning: 80 propensity scores trimmed to lower limit ..
Warning: 19 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1358472    .019507    -6.96   0.000    -.1740803   -.0976141
------------------------------------------------------------------------------
Warning: 7 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0031749   .1913757     0.02   0.987    -.3719145    .3782643
------------------------------------------------------------------------------
Warning: 162 propensity scores trimmed to lower limit ..
Warning: 126 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_26898/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.076    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.025)
  ps  1   [poolstack]          [ps]          [ps]    -0.077    (0.026)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0780167   .0250567    -3.11   0.002    -.1271268   -.0289065
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_53356/inter_mse.dta not found)
file out_53356/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.151       0.147       0.166       0.151
>        0.160       0.164       0.161       0.148       0.144       0.156  
   D_gender_r_ps   1      0.154       0.151       0.147       0.164       0.150
>        0.159       0.164       0.161       0.147       0.144       0.157  
   D_gender_r_ss   1      0.154       0.150       0.147       0.162       0.150
>        0.159       0.163       0.162       0.147       0.144       0.156  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.227       0.176       0.158       0.152       0.
> 459       0.231       0.165       0.177       0.379       0.126       0.258  
    Y1_pystacked 1    1      0.173       0.095       0.130       0.124       0.
> 306       0.116       0.307       0.180       0.121       0.176       0.176  
     Y_lnearn_ps 0    1      8.288       8.350       8.127       8.488       8.
> 193       8.348       8.271       8.351       8.110       8.377       8.235  
     Y_lnearn_ps 1    1      7.490       7.316       7.591       7.564       7.
> 485       7.443       7.624       7.425       7.422       7.417       7.602  
     Y_lnearn_ss 0    1      0.224       0.176       0.156       0.149       0.
> 456       0.226       0.165       0.175       0.371       0.125       0.256  
     Y_lnearn_ss 1    1      0.172       0.095       0.129       0.123       0.
> 306       0.116       0.301       0.180       0.122       0.175       0.177  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15485985    .15099748    .14703881     .1663615
D_gender_r~s            1    .15437767    .15061393    .14650982     .1639326
D_gender_r~s            1    .15417837    .14971049    .14710401    .16238475

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15065112    .16041864    .16422075    .16145672    .14777168
D_gender_r~s    .15013174    .15930214    .16370187     .1610385    .14728568
D_gender_r~s    .15008593    .15937467    .16344209    .16191323    .14727882

                    fold9       fold10
D1_pystacked    .14394557    .15575672
D_gender_r~s    .14446295    .15681401
D_gender_r~s    .14437189    .15613041
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1548599 | .1509975 | .1470388 | .1663615 | .1506511 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1604186 | .1642208 | .1614567 | .1477717 | .1439456 | .1557567 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1543777 | .1506139 | .1465098 | .1639326 | .1501317 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1593021 | .1637019 | .1610385 | .1472857 |  .144463 |  .156814 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1541784 | .1497105 |  .147104 | .1623847 | .1500859 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1593747 | .1634421 | .1619132 | .1472788 | .1443719 | .1561304 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_53356/gender_r_mse_inter_gender_mse.dta not found)
file out_53356/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.151       0.147       0.166       0.151
>        0.160       0.164       0.161       0.148       0.144       0.156  
   D_gender_r_ps   1      0.154       0.151       0.147       0.164       0.150
>        0.159       0.164       0.161       0.147       0.144       0.157  
   D_gender_r_ss   1      0.154       0.150       0.147       0.162       0.150
>        0.159       0.163       0.162       0.147       0.144       0.156  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.227       0.176       0.158       0.152       0.
> 459       0.231       0.165       0.177       0.379       0.126       0.258  
    Y1_pystacked 1    1      0.173       0.095       0.130       0.124       0.
> 306       0.116       0.307       0.180       0.121       0.176       0.176  
     Y_lnearn_ps 0    1      8.288       8.350       8.127       8.488       8.
> 193       8.348       8.271       8.351       8.110       8.377       8.235  
     Y_lnearn_ps 1    1      7.490       7.316       7.591       7.564       7.
> 485       7.443       7.624       7.425       7.422       7.417       7.602  
     Y_lnearn_ss 0    1      0.224       0.176       0.156       0.149       0.
> 456       0.226       0.165       0.175       0.371       0.125       0.256  
     Y_lnearn_ss 1    1      0.172       0.095       0.129       0.123       0.
> 306       0.116       0.301       0.180       0.122       0.175       0.177  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1     .2269707    .17574549    .15804869
Y1_pystacked            1            1    .17302614    .09538768    .13013387
 Y_lnearn_ps            0            1    8.2883283     8.350266     8.127477
 Y_lnearn_ps            1            1    7.4898765    7.3164262    7.5908072
 Y_lnearn_ss            0            1    .22446777    .17637335    .15609887
 Y_lnearn_ss            1            1    .17220292    .09507823    .12926956

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .15199223    .45890938    .23079111    .16481307    .17710754
Y1_pystacked    .12417836    .30625401     .1163158    .30666183    .18023245
 Y_lnearn_ps    8.4878054    8.1927287    8.3484661    8.2708648    8.3505915
 Y_lnearn_ps     7.564098     7.485306    7.4431508    7.6241569    7.4250076
 Y_lnearn_ss     .1487674    .45583829    .22628742    .16458985    .17525618
 Y_lnearn_ss    .12274771    .30610673    .11603372    .30095069    .17956148

                    fold8        fold9       fold10
Y1_pystacked    .37854642    .12643088    .25771218
Y1_pystacked    .12120779    .17565026    .17583482
 Y_lnearn_ps    8.1096217    8.3774255    8.2351948
 Y_lnearn_ps    7.4220118    7.4165531    7.6021065
 Y_lnearn_ss    .37097581    .12476882    .25571777
 Y_lnearn_ss    .12165501    .17546683    .17663352
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2269707 | .1757455 | .1580487 | .1519922 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .4589094 | .2307911 | .1648131 | .1771075 | .3785464 | .1264309 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2577122     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1730261 | .0953877 | .1301339 | .1241784 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  .306254 | .1163158 | .3066618 | .1802325 | .1212078 | .1756503 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1758348     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.288328 | 8.350266 | 8.127477 | 8.487805 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.192729 | 8.348466 | 8.270864 | 8.350592 | 8.109622 | 8.377425 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.235195     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.489876 | 7.316426 | 7.590807 | 7.564098 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.485306 | 7.443151 | 7.624157 | 7.425008 | 7.422012 | 7.416553 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.602107     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2244678 | .1763733 | .1560989 | .1487674 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .4558383 | .2262874 | .1645899 | .1752562 | .3709758 | .1247688 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2557178     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1722029 | .0950782 | .1292696 | .1227477 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .3061067 | .1160337 | .3009507 | .1795615 |  .121655 | .1754668 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1766335     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_53356/lnearn_mse_inter_lnearn_mse.dta not found)
file out_53356/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.076    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.025)
  ps  1   [poolstack]          [ps]          [ps]    -0.077    (0.026)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0780167   .0250567    -3.11   0.002    -.1271268   -.0289065
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.076    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.025)
  ps  1   [poolstack]          [ps]          [ps]    -0.077    (0.026)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0764315   .0286702    -2.67   0.008    -.1326239    -.020239
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.078    (0.025)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.025)
  ps  1   [poolstack]          [ps]          [ps]    -0.077    (0.026)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0780167   .0250567    -3.11   0.002    -.1271268   -.0289065
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.077    (0.026)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.025)
  ps  1   [poolstack]          [ps]          [ps]    -0.077    (0.026)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0767086   .0256193    -2.99   0.003    -.1269214   -.0264958
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2473235     .2473235
    logit            2    1.148e-16    1.148e-16
  lassocv            3    .13501115    .13501115
  ridgecv            4    .06965068    .06965068
  lassocv            5    .00372447    .00372447
  ridgecv            6     .0060319     .0060319
       rf            7    .28368782    .28368782
       rf            8    9.789e-17    9.789e-17
       rf            9    7.684e-17    7.684e-17
gradboost           10    .01691623    .01691623
gradboost           11    .21121462    .21121462
     nnet           12    3.048e-17    3.048e-17
     nnet           13    .02643964    .02643964

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02744563    .02744563
      ols            2            0    1.023e-16    1.023e-16
  lassocv            3            0     .0564464     .0564464
  ridgecv            4            0    .20488855    .20488855
  lassocv            5            0    .08444645    .08444645
  ridgecv            6            0    .01720467    .01720467
       rf            7            0    .43243889    .43243889
       rf            8            0    8.978e-17    8.978e-17
       rf            9            0    1.193e-16    1.193e-16
gradboost           10            0    .03350544    .03350544
gradboost           11            0    .12731692    .12731692
     nnet           12            0    .01132423    .01132423
     nnet           13            0    .00498283    .00498283
      ols            1            1    .01364485    .01364485
      ols            2            1    1.163e-16    1.163e-16
  lassocv            3            1     .1821416     .1821416
  ridgecv            4            1    .04066438    .04066438
  lassocv            5            1    .10012761    .10012761
  ridgecv            6            1    .01861095    .01861095
       rf            7            1    .53026818    .53026818
       rf            8            1    4.973e-17    4.973e-17
       rf            9            1    7.496e-17    7.496e-17
gradboost           10            1    .00195437    .00195437
gradboost           11            1    .06588781    .06588781
     nnet           12            1    .03768843    .03768843
     nnet           13            1     .0090118     .0090118

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2473235     .2473235
    logit            2    1.148e-16    1.148e-16
  lassocv            3    .13501115    .13501115
  ridgecv            4    .06965068    .06965068
  lassocv            5    .00372447    .00372447
  ridgecv            6     .0060319     .0060319
       rf            7    .28368782    .28368782
       rf            8    9.789e-17    9.789e-17
       rf            9    7.684e-17    7.684e-17
gradboost           10    .01691623    .01691623
gradboost           11    .21121462    .21121462
     nnet           12    3.048e-17    3.048e-17
     nnet           13    .02643964    .02643964

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02744563    .02744563
      ols            2            0    1.023e-16    1.023e-16
  lassocv            3            0     .0564464     .0564464
  ridgecv            4            0    .20488855    .20488855
  lassocv            5            0    .08444645    .08444645
  ridgecv            6            0    .01720467    .01720467
       rf            7            0    .43243889    .43243889
       rf            8            0    8.978e-17    8.978e-17
       rf            9            0    1.193e-16    1.193e-16
gradboost           10            0    .03350544    .03350544
gradboost           11            0    .12731692    .12731692
     nnet           12            0    .01132423    .01132423
     nnet           13            0    .00498283    .00498283
      ols            1            1    .01364485    .01364485
      ols            2            1    1.163e-16    1.163e-16
  lassocv            3            1     .1821416     .1821416
  ridgecv            4            1    .04066438    .04066438
  lassocv            5            1    .10012761    .10012761
  ridgecv            6            1    .01861095    .01861095
       rf            7            1    .53026818    .53026818
       rf            8            1    4.973e-17    4.973e-17
       rf            9            1    7.496e-17    7.496e-17
gradboost           10            1    .00195437    .00195437
gradboost           11            1    .06588781    .06588781
     nnet           12            1    .03768843    .03768843
     nnet           13            1     .0090118     .0090118

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02744563    .02744563
      ols            2            0    1.023e-16    1.023e-16
  lassocv            3            0     .0564464     .0564464
  ridgecv            4            0    .20488855    .20488855
  lassocv            5            0    .08444645    .08444645
  ridgecv            6            0    .01720467    .01720467
       rf            7            0    .43243889    .43243889
       rf            8            0    8.978e-17    8.978e-17
       rf            9            0    1.193e-16    1.193e-16
gradboost           10            0    .03350544    .03350544
gradboost           11            0    .12731692    .12731692
     nnet           12            0    .01132423    .01132423
     nnet           13            0    .00498283    .00498283
      ols            1            1    .01364485    .01364485
      ols            2            1    1.163e-16    1.163e-16
  lassocv            3            1     .1821416     .1821416
  ridgecv            4            1    .04066438    .04066438
  lassocv            5            1    .10012761    .10012761
  ridgecv            6            1    .01861095    .01861095
       rf            7            1    .53026818    .53026818
       rf            8            1    4.973e-17    4.973e-17
       rf            9            1    7.496e-17    7.496e-17
gradboost           10            1    .00195437    .00195437
gradboost           11            1    .06588781    .06588781
     nnet           12            1    .03768843    .03768843
     nnet           13            1     .0090118     .0090118

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0274456   .0274456 |
   2. |        2          0   1.02e-16   1.02e-16 |
   3. |        3          0   .0564464   .0564464 |
   4. |        4          0   .2048886   .2048886 |
   5. |        5          0   .0844465   .0844465 |
      |-------------------------------------------|
   6. |        6          0   .0172047   .0172047 |
   7. |        7          0   .4324389   .4324389 |
   8. |        8          0   8.98e-17   8.98e-17 |
      +-------------------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_53356/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2473235     .2473235
    logit            2    1.148e-16    1.148e-16
  lassocv            3    .13501115    .13501115
  ridgecv            4    .06965068    .06965068
  lassocv            5    .00372447    .00372447
  ridgecv            6     .0060319     .0060319
       rf            7    .28368782    .28368782
       rf            8    9.789e-17    9.789e-17
       rf            9    7.684e-17    7.684e-17
gradboost           10    .01691623    .01691623
gradboost           11    .21121462    .21121462
     nnet           12    3.048e-17    3.048e-17
     nnet           13    .02643964    .02643964

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02744563    .02744563
      ols            2            0    1.023e-16    1.023e-16
  lassocv            3            0     .0564464     .0564464
  ridgecv            4            0    .20488855    .20488855
  lassocv            5            0    .08444645    .08444645
  ridgecv            6            0    .01720467    .01720467
       rf            7            0    .43243889    .43243889
       rf            8            0    8.978e-17    8.978e-17
       rf            9            0    1.193e-16    1.193e-16
gradboost           10            0    .03350544    .03350544
gradboost           11            0    .12731692    .12731692
     nnet           12            0    .01132423    .01132423
     nnet           13            0    .00498283    .00498283
      ols            1            1    .01364485    .01364485
      ols            2            1    1.163e-16    1.163e-16
  lassocv            3            1     .1821416     .1821416
  ridgecv            4            1    .04066438    .04066438
  lassocv            5            1    .10012761    .10012761
  ridgecv            6            1    .01861095    .01861095
       rf            7            1    .53026818    .53026818
       rf            8            1    4.973e-17    4.973e-17
       rf            9            1    7.496e-17    7.496e-17
gradboost           10            1    .00195437    .00195437
gradboost           11            1    .06588781    .06588781
     nnet           12            1    .03768843    .03768843
     nnet           13            1     .0090118     .0090118

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1     .2473235     .2473235
    logit            2    1.148e-16    1.148e-16
  lassocv            3    .13501115    .13501115
  ridgecv            4    .06965068    .06965068
  lassocv            5    .00372447    .00372447
  ridgecv            6     .0060319     .0060319
       rf            7    .28368782    .28368782
       rf            8    9.789e-17    9.789e-17
       rf            9    7.684e-17    7.684e-17
gradboost           10    .01691623    .01691623
gradboost           11    .21121462    .21121462
     nnet           12    3.048e-17    3.048e-17
     nnet           13    .02643964    .02643964

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2473235   .2473235 |
   2. |        2   1.15e-16   1.15e-16 |
   3. |        3   .1350112   .1350112 |
   4. |        4   .0696507   .0696507 |
   5. |        5   .0037245   .0037245 |
      |--------------------------------|
   6. |        6   .0060319   .0060319 |
   7. |        7   .2836878   .2836878 |
   8. |        8   9.79e-17   9.79e-17 |
      +--------------------------------+
(note: file out_53356/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_53356/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .1546567     .1546567
    logit            2            0            0
  lassocv            3    .17850504    .17850504
  ridgecv            4    .06303758    .06303758
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .23226466    .23226466
       rf            8    2.467e-17    2.467e-17
       rf            9    3.272e-16    3.272e-16
gradboost           10    .05975222    .05975222
gradboost           11     .3117838     .3117838
     nnet           12    9.754e-17    9.754e-17
     nnet           13    3.406e-17    3.406e-17

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    9.899e-18    9.899e-18
      ols            2            0    1.953e-16    1.953e-16
  lassocv            3            0    1.783e-16    1.783e-16
  ridgecv            4            0    .38607651    .38607651
  lassocv            5            0    3.687e-18    3.687e-18
  ridgecv            6            0    .02800883    .02800883
       rf            7            0    .41565541    .41565541
       rf            8            0    2.109e-16    2.109e-16
       rf            9            0            0            0
gradboost           10            0    .01005148    .01005148
gradboost           11            0     .1528959     .1528959
     nnet           12            0            0            0
     nnet           13            0    .00731188    .00731188
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    4.765e-17    4.765e-17
  ridgecv            4            1    .07192639    .07192639
  lassocv            5            1    .31602158    .31602158
  ridgecv            6            1    2.710e-17    2.710e-17
       rf            7            1    .47226494    .47226494
       rf            8            1    4.288e-17    4.288e-17
       rf            9            1    1.290e-16    1.290e-16
gradboost           10            1    2.600e-17    2.600e-17
gradboost           11            1     .1052083     .1052083
     nnet           12            1    1.422e-16    1.422e-16
     nnet           13            1    .03457879    .03457879

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .1546567     .1546567
    logit            2            0            0
  lassocv            3    .17850504    .17850504
  ridgecv            4    .06303758    .06303758
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .23226466    .23226466
       rf            8    2.467e-17    2.467e-17
       rf            9    3.272e-16    3.272e-16
gradboost           10    .05975222    .05975222
gradboost           11     .3117838     .3117838
     nnet           12    9.754e-17    9.754e-17
     nnet           13    3.406e-17    3.406e-17

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    9.899e-18    9.899e-18
      ols            2            0    1.953e-16    1.953e-16
  lassocv            3            0    1.783e-16    1.783e-16
  ridgecv            4            0    .38607651    .38607651
  lassocv            5            0    3.687e-18    3.687e-18
  ridgecv            6            0    .02800883    .02800883
       rf            7            0    .41565541    .41565541
       rf            8            0    2.109e-16    2.109e-16
       rf            9            0            0            0
gradboost           10            0    .01005148    .01005148
gradboost           11            0     .1528959     .1528959
     nnet           12            0            0            0
     nnet           13            0    .00731188    .00731188
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    4.765e-17    4.765e-17
  ridgecv            4            1    .07192639    .07192639
  lassocv            5            1    .31602158    .31602158
  ridgecv            6            1    2.710e-17    2.710e-17
       rf            7            1    .47226494    .47226494
       rf            8            1    4.288e-17    4.288e-17
       rf            9            1    1.290e-16    1.290e-16
gradboost           10            1    2.600e-17    2.600e-17
gradboost           11            1     .1052083     .1052083
     nnet           12            1    1.422e-16    1.422e-16
     nnet           13            1    .03457879    .03457879

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    9.899e-18    9.899e-18
      ols            2            0    1.953e-16    1.953e-16
  lassocv            3            0    1.783e-16    1.783e-16
  ridgecv            4            0    .38607651    .38607651
  lassocv            5            0    3.687e-18    3.687e-18
  ridgecv            6            0    .02800883    .02800883
       rf            7            0    .41565541    .41565541
       rf            8            0    2.109e-16    2.109e-16
       rf            9            0            0            0
gradboost           10            0    .01005148    .01005148
gradboost           11            0     .1528959     .1528959
     nnet           12            0            0            0
     nnet           13            0    .00731188    .00731188
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    4.765e-17    4.765e-17
  ridgecv            4            1    .07192639    .07192639
  lassocv            5            1    .31602158    .31602158
  ridgecv            6            1    2.710e-17    2.710e-17
       rf            7            1    .47226494    .47226494
       rf            8            1    4.288e-17    4.288e-17
       rf            9            1    1.290e-16    1.290e-16
gradboost           10            1    2.600e-17    2.600e-17
gradboost           11            1     .1052083     .1052083
     nnet           12            1    1.422e-16    1.422e-16
     nnet           13            1    .03457879    .03457879

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. |   2.53972   2.7416688          1          0   9.90e-18   9.90e-18 |
   2. | 2.9688186   3.2498666          2          0   1.95e-16   1.95e-16 |
   3. | 2.7385796   2.8513574          3          0   1.78e-16   1.78e-16 |
   4. | 2.4857126   2.5646378          4          0   .3860765   .3860765 |
   5. | 3.1380079    3.178931          5          0   3.69e-18   3.69e-18 |
      |-------------------------------------------------------------------|
   6. | 2.5347791   2.6830372          6          0   .0280088   .0280088 |
   7. | 2.4253556   2.6581428          7          0   .4156554   .4156554 |
   8. | 2.6541397   2.7050033          8          0   2.11e-16   2.11e-16 |
      +-------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_53356/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .1546567     .1546567
    logit            2            0            0
  lassocv            3    .17850504    .17850504
  ridgecv            4    .06303758    .06303758
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .23226466    .23226466
       rf            8    2.467e-17    2.467e-17
       rf            9    3.272e-16    3.272e-16
gradboost           10    .05975222    .05975222
gradboost           11     .3117838     .3117838
     nnet           12    9.754e-17    9.754e-17
     nnet           13    3.406e-17    3.406e-17

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    9.899e-18    9.899e-18
      ols            2            0    1.953e-16    1.953e-16
  lassocv            3            0    1.783e-16    1.783e-16
  ridgecv            4            0    .38607651    .38607651
  lassocv            5            0    3.687e-18    3.687e-18
  ridgecv            6            0    .02800883    .02800883
       rf            7            0    .41565541    .41565541
       rf            8            0    2.109e-16    2.109e-16
       rf            9            0            0            0
gradboost           10            0    .01005148    .01005148
gradboost           11            0     .1528959     .1528959
     nnet           12            0            0            0
     nnet           13            0    .00731188    .00731188
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    4.765e-17    4.765e-17
  ridgecv            4            1    .07192639    .07192639
  lassocv            5            1    .31602158    .31602158
  ridgecv            6            1    2.710e-17    2.710e-17
       rf            7            1    .47226494    .47226494
       rf            8            1    4.288e-17    4.288e-17
       rf            9            1    1.290e-16    1.290e-16
gradboost           10            1    2.600e-17    2.600e-17
gradboost           11            1     .1052083     .1052083
     nnet           12            1    1.422e-16    1.422e-16
     nnet           13            1    .03457879    .03457879

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1     .1546567     .1546567
    logit            2            0            0
  lassocv            3    .17850504    .17850504
  ridgecv            4    .06303758    .06303758
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .23226466    .23226466
       rf            8    2.467e-17    2.467e-17
       rf            9    3.272e-16    3.272e-16
gradboost           10    .05975222    .05975222
gradboost           11     .3117838     .3117838
     nnet           12    9.754e-17    9.754e-17
     nnet           13    3.406e-17    3.406e-17

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .78174277          1   .1546567   .1546567 |
   2. | .34607364          2          0          0 |
   3. | .06316211          3    .178505    .178505 |
   4. | .16767894          4   .0630376   .0630376 |
   5. | .59016247          5          0          0 |
      |--------------------------------------------|
   6. | .86272672          6          0          0 |
   7. | .78726846          7   .2322647   .2322647 |
   8. | .75817524          8   2.47e-17   2.47e-17 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_53356/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26906192    .26906192
    logit            2            0            0
  lassocv            3    .16152365    .16152365
  ridgecv            4    .04039916    .04039916
  lassocv            5    2.427e-16    2.427e-16
  ridgecv            6    6.700e-17    6.700e-17
       rf            7     .2901935     .2901935
       rf            8    4.527e-16    4.527e-16
       rf            9    4.489e-16    4.489e-16
gradboost           10            0            0
gradboost           11    .22394654    .22394654
     nnet           12    1.775e-16    1.775e-16
     nnet           13    .01487522    .01487522

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01357774    .01357774
      ols            2            0    8.922e-16    8.922e-16
  lassocv            3            0    .11028836    .11028836
  ridgecv            4            0    .26824162    .26824162
  lassocv            5            0    3.585e-16    3.585e-16
  ridgecv            6            0            0            0
       rf            7            0    .46002374    .46002374
       rf            8            0    2.886e-16    2.886e-16
       rf            9            0    8.682e-16    8.682e-16
gradboost           10            0    7.526e-16    7.526e-16
gradboost           11            0    .14786855    .14786855
     nnet           12            0    3.579e-16    3.579e-16
     nnet           13            0    3.230e-16    3.230e-16
      ols            1            1    2.705e-14    2.705e-14
      ols            2            1            0            0
  lassocv            3            1    .27998908    .27998908
  ridgecv            4            1    .07787127    .07787127
  lassocv            5            1    .03094582    .03094582
  ridgecv            6            1    1.965e-13    1.965e-13
       rf            7            1    .52841229    .52841229
       rf            8            1    9.382e-14    9.382e-14
       rf            9            1    8.635e-14    8.635e-14
gradboost           10            1    3.482e-14    3.482e-14
gradboost           11            1    .08278154    .08278154
     nnet           12            1    3.752e-17    3.752e-17
     nnet           13            1    7.283e-17    7.283e-17

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26906192    .26906192
    logit            2            0            0
  lassocv            3    .16152365    .16152365
  ridgecv            4    .04039916    .04039916
  lassocv            5    2.427e-16    2.427e-16
  ridgecv            6    6.700e-17    6.700e-17
       rf            7     .2901935     .2901935
       rf            8    4.527e-16    4.527e-16
       rf            9    4.489e-16    4.489e-16
gradboost           10            0            0
gradboost           11    .22394654    .22394654
     nnet           12    1.775e-16    1.775e-16
     nnet           13    .01487522    .01487522

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01357774    .01357774
      ols            2            0    8.922e-16    8.922e-16
  lassocv            3            0    .11028836    .11028836
  ridgecv            4            0    .26824162    .26824162
  lassocv            5            0    3.585e-16    3.585e-16
  ridgecv            6            0            0            0
       rf            7            0    .46002374    .46002374
       rf            8            0    2.886e-16    2.886e-16
       rf            9            0    8.682e-16    8.682e-16
gradboost           10            0    7.526e-16    7.526e-16
gradboost           11            0    .14786855    .14786855
     nnet           12            0    3.579e-16    3.579e-16
     nnet           13            0    3.230e-16    3.230e-16
      ols            1            1    2.705e-14    2.705e-14
      ols            2            1            0            0
  lassocv            3            1    .27998908    .27998908
  ridgecv            4            1    .07787127    .07787127
  lassocv            5            1    .03094582    .03094582
  ridgecv            6            1    1.965e-13    1.965e-13
       rf            7            1    .52841229    .52841229
       rf            8            1    9.382e-14    9.382e-14
       rf            9            1    8.635e-14    8.635e-14
gradboost           10            1    3.482e-14    3.482e-14
gradboost           11            1    .08278154    .08278154
     nnet           12            1    3.752e-17    3.752e-17
     nnet           13            1    7.283e-17    7.283e-17

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01357774    .01357774
      ols            2            0    8.922e-16    8.922e-16
  lassocv            3            0    .11028836    .11028836
  ridgecv            4            0    .26824162    .26824162
  lassocv            5            0    3.585e-16    3.585e-16
  ridgecv            6            0            0            0
       rf            7            0    .46002374    .46002374
       rf            8            0    2.886e-16    2.886e-16
       rf            9            0    8.682e-16    8.682e-16
gradboost           10            0    7.526e-16    7.526e-16
gradboost           11            0    .14786855    .14786855
     nnet           12            0    3.579e-16    3.579e-16
     nnet           13            0    3.230e-16    3.230e-16
      ols            1            1    2.705e-14    2.705e-14
      ols            2            1            0            0
  lassocv            3            1    .27998908    .27998908
  ridgecv            4            1    .07787127    .07787127
  lassocv            5            1    .03094582    .03094582
  ridgecv            6            1    1.965e-13    1.965e-13
       rf            7            1    .52841229    .52841229
       rf            8            1    9.382e-14    9.382e-14
       rf            9            1    8.635e-14    8.635e-14
gradboost           10            1    3.482e-14    3.482e-14
gradboost           11            1    .08278154    .08278154
     nnet           12            1    3.752e-17    3.752e-17
     nnet           13            1    7.283e-17    7.283e-17

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5329372   2.7286443          1          0   .0135777   .0135777 |
   2. | 2.9474081   3.2698567          2          0   8.92e-16   8.92e-16 |
   3. | 2.7574218    2.852384          3          0   .1102884   .1102884 |
   4. | 2.4913559   2.5582929          4          0   .2682416   .2682416 |
   5. | 3.1411787    3.175486          5          0   3.59e-16   3.59e-16 |
      |-------------------------------------------------------------------|
   6. | 2.5219633   2.6875039          6          0          0          0 |
   7. | 2.4011855   2.6629557          7          0   .4600237   .4600237 |
   8. |  2.640352   2.7086165          8          0   2.89e-16   2.89e-16 |
      +-------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_53356/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26906192    .26906192
    logit            2            0            0
  lassocv            3    .16152365    .16152365
  ridgecv            4    .04039916    .04039916
  lassocv            5    2.427e-16    2.427e-16
  ridgecv            6    6.700e-17    6.700e-17
       rf            7     .2901935     .2901935
       rf            8    4.527e-16    4.527e-16
       rf            9    4.489e-16    4.489e-16
gradboost           10            0            0
gradboost           11    .22394654    .22394654
     nnet           12    1.775e-16    1.775e-16
     nnet           13    .01487522    .01487522

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01357774    .01357774
      ols            2            0    8.922e-16    8.922e-16
  lassocv            3            0    .11028836    .11028836
  ridgecv            4            0    .26824162    .26824162
  lassocv            5            0    3.585e-16    3.585e-16
  ridgecv            6            0            0            0
       rf            7            0    .46002374    .46002374
       rf            8            0    2.886e-16    2.886e-16
       rf            9            0    8.682e-16    8.682e-16
gradboost           10            0    7.526e-16    7.526e-16
gradboost           11            0    .14786855    .14786855
     nnet           12            0    3.579e-16    3.579e-16
     nnet           13            0    3.230e-16    3.230e-16
      ols            1            1    2.705e-14    2.705e-14
      ols            2            1            0            0
  lassocv            3            1    .27998908    .27998908
  ridgecv            4            1    .07787127    .07787127
  lassocv            5            1    .03094582    .03094582
  ridgecv            6            1    1.965e-13    1.965e-13
       rf            7            1    .52841229    .52841229
       rf            8            1    9.382e-14    9.382e-14
       rf            9            1    8.635e-14    8.635e-14
gradboost           10            1    3.482e-14    3.482e-14
gradboost           11            1    .08278154    .08278154
     nnet           12            1    3.752e-17    3.752e-17
     nnet           13            1    7.283e-17    7.283e-17

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .26906192    .26906192
    logit            2            0            0
  lassocv            3    .16152365    .16152365
  ridgecv            4    .04039916    .04039916
  lassocv            5    2.427e-16    2.427e-16
  ridgecv            6    6.700e-17    6.700e-17
       rf            7     .2901935     .2901935
       rf            8    4.527e-16    4.527e-16
       rf            9    4.489e-16    4.489e-16
gradboost           10            0            0
gradboost           11    .22394654    .22394654
     nnet           12    1.775e-16    1.775e-16
     nnet           13    .01487522    .01487522

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .78302552          1   .2690619   .2690619 |
   2. | .34933163          2          0          0 |
   3. | .07544187          3   .1615236   .1615236 |
   4. | .15171197          4   .0403992   .0403992 |
   5. | .58230157          5   2.43e-16   2.43e-16 |
      |--------------------------------------------|
   6. | .86116719          6   6.70e-17   6.70e-17 |
   7. | .81182094          7   .2901935   .2901935 |
   8. | .75464064          8   4.53e-16   4.53e-16 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_53356/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.054    (0.040)
  ss  1  [shortstack]          [ss]          [ss]    -0.084    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.057    (0.040)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0838413   .0185915    -4.51   0.000      -.12028   -.0474027
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 1 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.054    (0.040)
  ss  1  [shortstack]          [ss]          [ss]    -0.084    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.057    (0.040)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0536524   .0400212    -1.34   0.180    -.1320925    .0247877
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 91 propensity scores trimmed to lower limit .01.
Warning: 20 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.084    (0.019)
  ss  1  [shortstack]          [ss]          [ss]    -0.084    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.057    (0.040)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0838413   .0185915    -4.51   0.000      -.12028   -.0474027
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 1 propensity scores trimmed to lower limit .01.

file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.057    (0.040)
  ss  1  [shortstack]          [ss]          [ss]    -0.084    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.057    (0.040)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0565878   .0400728    -1.41   0.158    -.1351291    .0219534
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 91 propensity scores trimmed to lower limit .01.
Warning: 20 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0          0          0 |
   4. |        4          0         .2         .2 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .8         .8 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_53356/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .9         .9 |
   4. |        4          0          0 |
   5. |        5          0          0 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_53356/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_53356/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5161593   2.7472537          1          0          0          0 |
   2. | 2.8711729   3.2115417          2          0          0          0 |
   3. | 2.8027568    2.897948          3          0          0          0 |
   4. | 2.5003576   2.5846353          4          0          0          0 |
   5. | 3.1349566   3.1678703          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.4772336   2.7197869          6          0          0          0 |
   7. | 2.5259488   2.8288107          7          0          1          1 |
   8. | 2.6126902   2.8003244          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_53356/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .79544544          1          0          0 |
   2. | .41465431          2          0          0 |
   3. | .08072534          3          0          0 |
   4. | .28043658          4          0          0 |
   5. | .58879864          5          0          0 |
      |--------------------------------------------|
   6. | .87871259          6          0          0 |
   7. |  .5987578          7          0          0 |
   8. | .80961227          8          0          0 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_53356/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5161593   2.7472537          1          0          0          0 |
   2. | 2.8711729   3.2115417          2          0          0          0 |
   3. | 2.8027568    2.897948          3          0          0          0 |
   4. | 2.5003576   2.5846353          4          0          0          0 |
   5. | 3.1349566   3.1678703          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.4772336   2.7197869          6          0          0          0 |
   7. | 2.5259488   2.8288107          7          0          1          1 |
   8. | 2.6126902   2.8003244          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_53356/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71638709          1          0          0 |
   2. | .29273772          2          0          0 |
   3. | .03611705          3          1          1 |
   4. | .15248208          4          0          0 |
   5. | .57069856          5          0          0 |
      |--------------------------------------------|
   6. | .82290125          6          0          0 |
   7. | .79875672          7          0          0 |
   8. | .51136208          8          0          0 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_53356/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     9.426    (0.717)
  ss  1  [shortstack]          [ss]          [ss]    -0.199    (0.090)
  ps  1   [poolstack]          [ps]          [ps]     0.216    (0.105)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1985062   .0897302    -2.21   0.027    -.3743743   -.0226382
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 1 propensity scores trimmed to lower limit .01.
Warning: 478 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     9.426    (0.717)
  ss  1  [shortstack]          [ss]          [ss]    -0.199    (0.090)
  ps  1   [poolstack]          [ps]          [ps]     0.216    (0.105)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   9.426345   .7170473    13.15   0.000     8.020958    10.83173
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2296 propensity scores trimmed to lower limit .01.
Warning: 585 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.199    (0.090)
  ss  1  [shortstack]          [ss]          [ss]    -0.199    (0.090)
  ps  1   [poolstack]          [ps]          [ps]     0.216    (0.105)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1985062   .0897302    -2.21   0.027    -.3743743   -.0226382
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 1 propensity scores trimmed to lower limit .01.
Warning: 478 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.216    (0.105)
  ss  1  [shortstack]          [ss]          [ss]    -0.199    (0.090)
  ps  1   [poolstack]          [ps]          [ps]     0.216    (0.105)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .2160149   .1048374     2.06   0.039     .0105373    .4214925
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 1 propensity scores trimmed to lower limit .01.
Warning: 386 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21930494    .21930494
    logit            2     .0828896     .0828896
  lassocv            3    .36001788    .36001788
  ridgecv            4    .11069317    .11069317
  lassocv            5   -.22307784   -.22307784
  ridgecv            6   -.00201703   -.00201703
       rf            7    .42717895    .42717895
       rf            8    .06647871    .06647871
       rf            9    -.1675458    -.1675458
gradboost           10    .03779827    .03779827
gradboost           11    .16010737    .16010737
     nnet           12   -1.1006453   -1.1006453
     nnet           13    .01292631    .01292631

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02110185    .02110185
      ols            2            0   -.01706967   -.01706967
  lassocv            3            0    .00231121    .00231121
  ridgecv            4            0    .51470598    .51470598
  lassocv            5            0   -.01666463   -.01666463
  ridgecv            6            0    -.0652128    -.0652128
       rf            7            0    .72422885    .72422885
       rf            8            0   -.30495563   -.30495563
       rf            9            0    .12457659    .12457659
gradboost           10            0    .05414555    .05414555
gradboost           11            0    .05922547    .05922547
     nnet           12            0   -.06045455   -.06045455
     nnet           13            0   -.01300164   -.01300164
      ols            1            1    .00223599    .00223599
      ols            2            1   -.02745595   -.02745595
  lassocv            3            1     .0291698     .0291698
  ridgecv            4            1    .32685175    .32685175
  lassocv            5            1    .20957918    .20957918
  ridgecv            6            1   -.12624999   -.12624999
       rf            7            1    .58280397    .58280397
       rf            8            1    .37134436    .37134436
       rf            9            1   -.25115215   -.25115215
gradboost           10            1   -.12028064   -.12028064
gradboost           11            1    .06870155    .06870155
     nnet           12            1   -.15896015   -.15896015
     nnet           13            1   -.01034234   -.01034234

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21930494    .21930494
    logit            2     .0828896     .0828896
  lassocv            3    .36001788    .36001788
  ridgecv            4    .11069317    .11069317
  lassocv            5   -.22307784   -.22307784
  ridgecv            6   -.00201703   -.00201703
       rf            7    .42717895    .42717895
       rf            8    .06647871    .06647871
       rf            9    -.1675458    -.1675458
gradboost           10    .03779827    .03779827
gradboost           11    .16010737    .16010737
     nnet           12   -1.1006453   -1.1006453
     nnet           13    .01292631    .01292631

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02110185    .02110185
      ols            2            0   -.01706967   -.01706967
  lassocv            3            0    .00231121    .00231121
  ridgecv            4            0    .51470598    .51470598
  lassocv            5            0   -.01666463   -.01666463
  ridgecv            6            0    -.0652128    -.0652128
       rf            7            0    .72422885    .72422885
       rf            8            0   -.30495563   -.30495563
       rf            9            0    .12457659    .12457659
gradboost           10            0    .05414555    .05414555
gradboost           11            0    .05922547    .05922547
     nnet           12            0   -.06045455   -.06045455
     nnet           13            0   -.01300164   -.01300164
      ols            1            1    .00223599    .00223599
      ols            2            1   -.02745595   -.02745595
  lassocv            3            1     .0291698     .0291698
  ridgecv            4            1    .32685175    .32685175
  lassocv            5            1    .20957918    .20957918
  ridgecv            6            1   -.12624999   -.12624999
       rf            7            1    .58280397    .58280397
       rf            8            1    .37134436    .37134436
       rf            9            1   -.25115215   -.25115215
gradboost           10            1   -.12028064   -.12028064
gradboost           11            1    .06870155    .06870155
     nnet           12            1   -.15896015   -.15896015
     nnet           13            1   -.01034234   -.01034234

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02110185    .02110185
      ols            2            0   -.01706967   -.01706967
  lassocv            3            0    .00231121    .00231121
  ridgecv            4            0    .51470598    .51470598
  lassocv            5            0   -.01666463   -.01666463
  ridgecv            6            0    -.0652128    -.0652128
       rf            7            0    .72422885    .72422885
       rf            8            0   -.30495563   -.30495563
       rf            9            0    .12457659    .12457659
gradboost           10            0    .05414555    .05414555
gradboost           11            0    .05922547    .05922547
     nnet           12            0   -.06045455   -.06045455
     nnet           13            0   -.01300164   -.01300164
      ols            1            1    .00223599    .00223599
      ols            2            1   -.02745595   -.02745595
  lassocv            3            1     .0291698     .0291698
  ridgecv            4            1    .32685175    .32685175
  lassocv            5            1    .20957918    .20957918
  ridgecv            6            1   -.12624999   -.12624999
       rf            7            1    .58280397    .58280397
       rf            8            1    .37134436    .37134436
       rf            9            1   -.25115215   -.25115215
gradboost           10            1   -.12028064   -.12028064
gradboost           11            1    .06870155    .06870155
     nnet           12            1   -.15896015   -.15896015
     nnet           13            1   -.01034234   -.01034234

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0211018    .0211018 |
   2. |        2          0   -.0170697   -.0170697 |
   3. |        3          0    .0023112    .0023112 |
   4. |        4          0     .514706     .514706 |
   5. |        5          0   -.0166646   -.0166646 |
      |---------------------------------------------|
   6. |        6          0   -.0652128   -.0652128 |
   7. |        7          0    .7242289    .7242289 |
   8. |        8          0   -.3049556   -.3049556 |
      +---------------------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_53356/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21930494    .21930494
    logit            2     .0828896     .0828896
  lassocv            3    .36001788    .36001788
  ridgecv            4    .11069317    .11069317
  lassocv            5   -.22307784   -.22307784
  ridgecv            6   -.00201703   -.00201703
       rf            7    .42717895    .42717895
       rf            8    .06647871    .06647871
       rf            9    -.1675458    -.1675458
gradboost           10    .03779827    .03779827
gradboost           11    .16010737    .16010737
     nnet           12   -1.1006453   -1.1006453
     nnet           13    .01292631    .01292631

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02110185    .02110185
      ols            2            0   -.01706967   -.01706967
  lassocv            3            0    .00231121    .00231121
  ridgecv            4            0    .51470598    .51470598
  lassocv            5            0   -.01666463   -.01666463
  ridgecv            6            0    -.0652128    -.0652128
       rf            7            0    .72422885    .72422885
       rf            8            0   -.30495563   -.30495563
       rf            9            0    .12457659    .12457659
gradboost           10            0    .05414555    .05414555
gradboost           11            0    .05922547    .05922547
     nnet           12            0   -.06045455   -.06045455
     nnet           13            0   -.01300164   -.01300164
      ols            1            1    .00223599    .00223599
      ols            2            1   -.02745595   -.02745595
  lassocv            3            1     .0291698     .0291698
  ridgecv            4            1    .32685175    .32685175
  lassocv            5            1    .20957918    .20957918
  ridgecv            6            1   -.12624999   -.12624999
       rf            7            1    .58280397    .58280397
       rf            8            1    .37134436    .37134436
       rf            9            1   -.25115215   -.25115215
gradboost           10            1   -.12028064   -.12028064
gradboost           11            1    .06870155    .06870155
     nnet           12            1   -.15896015   -.15896015
     nnet           13            1   -.01034234   -.01034234

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .21930494    .21930494
    logit            2     .0828896     .0828896
  lassocv            3    .36001788    .36001788
  ridgecv            4    .11069317    .11069317
  lassocv            5   -.22307784   -.22307784
  ridgecv            6   -.00201703   -.00201703
       rf            7    .42717895    .42717895
       rf            8    .06647871    .06647871
       rf            9    -.1675458    -.1675458
gradboost           10    .03779827    .03779827
gradboost           11    .16010737    .16010737
     nnet           12   -1.1006453   -1.1006453
     nnet           13    .01292631    .01292631

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .2193049    .2193049 |
   2. |        2    .0828896    .0828896 |
   3. |        3    .3600179    .3600179 |
   4. |        4    .1106932    .1106932 |
   5. |        5   -.2230778   -.2230778 |
      |----------------------------------|
   6. |        6    -.002017    -.002017 |
   7. |        7    .4271789    .4271789 |
   8. |        8    .0664787    .0664787 |
      +----------------------------------+
(note: file out_53356/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_53356/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .15309059    .15309059
    logit            2    .06034928    .06034928
  lassocv            3    .36621144    .36621144
  ridgecv            4    .21338105    .21338105
  lassocv            5   -.32773655   -.32773655
  ridgecv            6   -.05882845   -.05882845
       rf            7    .37049064    .37049064
       rf            8    .00204639    .00204639
       rf            9   -.16171679   -.16171679
gradboost           10    .20465153    .20465153
gradboost           11    .22440515    .22440515
     nnet           12    .06569283    .06569283
     nnet           13     .0064937     .0064937

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.02437103   -.02437103
      ols            2            0    .00556327    .00556327
  lassocv            3            0    -.2510507    -.2510507
  ridgecv            4            0    .78465385    .78465385
  lassocv            5            0   -.05293033   -.05293033
  ridgecv            6            0    .01133741    .01133741
       rf            7            0    .58336746    .58336746
       rf            8            0    .55051504    .55051504
       rf            9            0   -.83623896   -.83623896
gradboost           10            0    .14482703    .14482703
gradboost           11            0    .05581254    .05581254
     nnet           12            0   -.02542369   -.02542369
     nnet           13            0   -.00065889   -.00065889
      ols            1            1   -.04247659   -.04247659
      ols            2            1   -.02176899   -.02176899
  lassocv            3            1   -.39906545   -.39906545
  ridgecv            4            1    .49899834    .49899834
  lassocv            5            1    .51673077    .51673077
  ridgecv            6            1   -.11851707   -.11851707
       rf            7            1    .55845537    .55845537
       rf            8            1   -.11737261   -.11737261
       rf            9            1    .03722694    .03722694
gradboost           10            1    .09872124    .09872124
gradboost           11            1    .05432689    .05432689
     nnet           12            1    .00514638    .00514638
     nnet           13            1    .03052717    .03052717

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .15309059    .15309059
    logit            2    .06034928    .06034928
  lassocv            3    .36621144    .36621144
  ridgecv            4    .21338105    .21338105
  lassocv            5   -.32773655   -.32773655
  ridgecv            6   -.05882845   -.05882845
       rf            7    .37049064    .37049064
       rf            8    .00204639    .00204639
       rf            9   -.16171679   -.16171679
gradboost           10    .20465153    .20465153
gradboost           11    .22440515    .22440515
     nnet           12    .06569283    .06569283
     nnet           13     .0064937     .0064937

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.02437103   -.02437103
      ols            2            0    .00556327    .00556327
  lassocv            3            0    -.2510507    -.2510507
  ridgecv            4            0    .78465385    .78465385
  lassocv            5            0   -.05293033   -.05293033
  ridgecv            6            0    .01133741    .01133741
       rf            7            0    .58336746    .58336746
       rf            8            0    .55051504    .55051504
       rf            9            0   -.83623896   -.83623896
gradboost           10            0    .14482703    .14482703
gradboost           11            0    .05581254    .05581254
     nnet           12            0   -.02542369   -.02542369
     nnet           13            0   -.00065889   -.00065889
      ols            1            1   -.04247659   -.04247659
      ols            2            1   -.02176899   -.02176899
  lassocv            3            1   -.39906545   -.39906545
  ridgecv            4            1    .49899834    .49899834
  lassocv            5            1    .51673077    .51673077
  ridgecv            6            1   -.11851707   -.11851707
       rf            7            1    .55845537    .55845537
       rf            8            1   -.11737261   -.11737261
       rf            9            1    .03722694    .03722694
gradboost           10            1    .09872124    .09872124
gradboost           11            1    .05432689    .05432689
     nnet           12            1    .00514638    .00514638
     nnet           13            1    .03052717    .03052717

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.02437103   -.02437103
      ols            2            0    .00556327    .00556327
  lassocv            3            0    -.2510507    -.2510507
  ridgecv            4            0    .78465385    .78465385
  lassocv            5            0   -.05293033   -.05293033
  ridgecv            6            0    .01133741    .01133741
       rf            7            0    .58336746    .58336746
       rf            8            0    .55051504    .55051504
       rf            9            0   -.83623896   -.83623896
gradboost           10            0    .14482703    .14482703
gradboost           11            0    .05581254    .05581254
     nnet           12            0   -.02542369   -.02542369
     nnet           13            0   -.00065889   -.00065889
      ols            1            1   -.04247659   -.04247659
      ols            2            1   -.02176899   -.02176899
  lassocv            3            1   -.39906545   -.39906545
  ridgecv            4            1    .49899834    .49899834
  lassocv            5            1    .51673077    .51673077
  ridgecv            6            1   -.11851707   -.11851707
       rf            7            1    .55845537    .55845537
       rf            8            1   -.11737261   -.11737261
       rf            9            1    .03722694    .03722694
gradboost           10            1    .09872124    .09872124
gradboost           11            1    .05432689    .05432689
     nnet           12            1    .00514638    .00514638
     nnet           13            1    .03052717    .03052717

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7734715   2.5765845          1          0    -.024371    -.024371 |
   2. | 3.2349198    3.083352          2          0    .0055633    .0055633 |
   3. | 3.0090282   2.7080608          3          0   -.2510507   -.2510507 |
   4. | 2.7167879   2.3866048          4          0    .7846538    .7846538 |
   5. | 3.4509741   3.0735714          5          0   -.0529303   -.0529303 |
      |---------------------------------------------------------------------|
   6. |  2.793997    2.512244          6          0    .0113374    .0113374 |
   7. | 2.6436069   2.5250493          7          0    .5833675    .5833675 |
   8. |  2.922194    2.544061          8          0    .5505151    .5505151 |
      +---------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ss_ols_short_ia.dta not found)
file out_53356/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .15309059    .15309059
    logit            2    .06034928    .06034928
  lassocv            3    .36621144    .36621144
  ridgecv            4    .21338105    .21338105
  lassocv            5   -.32773655   -.32773655
  ridgecv            6   -.05882845   -.05882845
       rf            7    .37049064    .37049064
       rf            8    .00204639    .00204639
       rf            9   -.16171679   -.16171679
gradboost           10    .20465153    .20465153
gradboost           11    .22440515    .22440515
     nnet           12    .06569283    .06569283
     nnet           13     .0064937     .0064937

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.02437103   -.02437103
      ols            2            0    .00556327    .00556327
  lassocv            3            0    -.2510507    -.2510507
  ridgecv            4            0    .78465385    .78465385
  lassocv            5            0   -.05293033   -.05293033
  ridgecv            6            0    .01133741    .01133741
       rf            7            0    .58336746    .58336746
       rf            8            0    .55051504    .55051504
       rf            9            0   -.83623896   -.83623896
gradboost           10            0    .14482703    .14482703
gradboost           11            0    .05581254    .05581254
     nnet           12            0   -.02542369   -.02542369
     nnet           13            0   -.00065889   -.00065889
      ols            1            1   -.04247659   -.04247659
      ols            2            1   -.02176899   -.02176899
  lassocv            3            1   -.39906545   -.39906545
  ridgecv            4            1    .49899834    .49899834
  lassocv            5            1    .51673077    .51673077
  ridgecv            6            1   -.11851707   -.11851707
       rf            7            1    .55845537    .55845537
       rf            8            1   -.11737261   -.11737261
       rf            9            1    .03722694    .03722694
gradboost           10            1    .09872124    .09872124
gradboost           11            1    .05432689    .05432689
     nnet           12            1    .00514638    .00514638
     nnet           13            1    .03052717    .03052717

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .15309059    .15309059
    logit            2    .06034928    .06034928
  lassocv            3    .36621144    .36621144
  ridgecv            4    .21338105    .21338105
  lassocv            5   -.32773655   -.32773655
  ridgecv            6   -.05882845   -.05882845
       rf            7    .37049064    .37049064
       rf            8    .00204639    .00204639
       rf            9   -.16171679   -.16171679
gradboost           10    .20465153    .20465153
gradboost           11    .22440515    .22440515
     nnet           12    .06569283    .06569283
     nnet           13     .0064937     .0064937

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. |  .8614429          1    .1530906    .1530906 |
   2. | .41534564          2    .0603493    .0603493 |
   3. | .09671781          3    .3662114    .3662114 |
   4. | .18990058          4    .2133811    .2133811 |
   5. | .63950766          5   -.3277366   -.3277366 |
      |----------------------------------------------|
   6. | .95881973          6   -.0588284   -.0588284 |
   7. | .85071212          7    .3704906    .3704906 |
   8. | .79340386          8    .0020464    .0020464 |
      +----------------------------------------------+
(note: file out_53356/D_gender_r_ss_ols_short_ia.dta not found)
file out_53356/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23137586    .23137586
    logit            2    .08774029    .08774029
  lassocv            3    .26075764    .26075764
  ridgecv            4    .07489493    .07489493
  lassocv            5   -.12026303   -.12026303
  ridgecv            6    .02692521    .02692521
       rf            7    .43178192    .43178192
       rf            8    .07075657    .07075657
       rf            9    -.1815816    -.1815816
gradboost           10    .02418417    .02418417
gradboost           11    .16689232    .16689232
     nnet           12    .01336003    .01336003
     nnet           13    .01367442    .01367442

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00974391    .00974391
      ols            2            0    -.0244604    -.0244604
  lassocv            3            0    -.0273416    -.0273416
  ridgecv            4            0    .51674439    .51674439
  lassocv            5            0    .01601216    .01601216
  ridgecv            6            0   -.06217973   -.06217973
       rf            7            0    .73971272    .73971272
       rf            8            0   -.25348835   -.25348835
       rf            9            0    .06418076    .06418076
gradboost           10            0    .05636699    .05636699
gradboost           11            0    .06095869    .06095869
     nnet           12            0   -.00800731   -.00800731
     nnet           13            0   -.01063925   -.01063925
      ols            1            1   -.01195032   -.01195032
      ols            2            1    8.663e-12    8.663e-12
  lassocv            3            1    .14612435    .14612435
  ridgecv            4            1     .3047285     .3047285
  lassocv            5            1    .07708184    .07708184
  ridgecv            6            1   -.06455894   -.06455894
       rf            7            1    .57888237    .57888237
       rf            8            1    .36555814    .36555814
       rf            9            1   -.26954559   -.26954559
gradboost           10            1   -.10619842   -.10619842
gradboost           11            1    .07121614    .07121614
     nnet           12            1    .01840773    .01840773
     nnet           13            1   -.00923778   -.00923778

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23137586    .23137586
    logit            2    .08774029    .08774029
  lassocv            3    .26075764    .26075764
  ridgecv            4    .07489493    .07489493
  lassocv            5   -.12026303   -.12026303
  ridgecv            6    .02692521    .02692521
       rf            7    .43178192    .43178192
       rf            8    .07075657    .07075657
       rf            9    -.1815816    -.1815816
gradboost           10    .02418417    .02418417
gradboost           11    .16689232    .16689232
     nnet           12    .01336003    .01336003
     nnet           13    .01367442    .01367442

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00974391    .00974391
      ols            2            0    -.0244604    -.0244604
  lassocv            3            0    -.0273416    -.0273416
  ridgecv            4            0    .51674439    .51674439
  lassocv            5            0    .01601216    .01601216
  ridgecv            6            0   -.06217973   -.06217973
       rf            7            0    .73971272    .73971272
       rf            8            0   -.25348835   -.25348835
       rf            9            0    .06418076    .06418076
gradboost           10            0    .05636699    .05636699
gradboost           11            0    .06095869    .06095869
     nnet           12            0   -.00800731   -.00800731
     nnet           13            0   -.01063925   -.01063925
      ols            1            1   -.01195032   -.01195032
      ols            2            1    8.663e-12    8.663e-12
  lassocv            3            1    .14612435    .14612435
  ridgecv            4            1     .3047285     .3047285
  lassocv            5            1    .07708184    .07708184
  ridgecv            6            1   -.06455894   -.06455894
       rf            7            1    .57888237    .57888237
       rf            8            1    .36555814    .36555814
       rf            9            1   -.26954559   -.26954559
gradboost           10            1   -.10619842   -.10619842
gradboost           11            1    .07121614    .07121614
     nnet           12            1    .01840773    .01840773
     nnet           13            1   -.00923778   -.00923778

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00974391    .00974391
      ols            2            0    -.0244604    -.0244604
  lassocv            3            0    -.0273416    -.0273416
  ridgecv            4            0    .51674439    .51674439
  lassocv            5            0    .01601216    .01601216
  ridgecv            6            0   -.06217973   -.06217973
       rf            7            0    .73971272    .73971272
       rf            8            0   -.25348835   -.25348835
       rf            9            0    .06418076    .06418076
gradboost           10            0    .05636699    .05636699
gradboost           11            0    .06095869    .06095869
     nnet           12            0   -.00800731   -.00800731
     nnet           13            0   -.01063925   -.01063925
      ols            1            1   -.01195032   -.01195032
      ols            2            1    8.663e-12    8.663e-12
  lassocv            3            1    .14612435    .14612435
  ridgecv            4            1     .3047285     .3047285
  lassocv            5            1    .07708184    .07708184
  ridgecv            6            1   -.06455894   -.06455894
       rf            7            1    .57888237    .57888237
       rf            8            1    .36555814    .36555814
       rf            9            1   -.26954559   -.26954559
gradboost           10            1   -.10619842   -.10619842
gradboost           11            1    .07121614    .07121614
     nnet           12            1    .01840773    .01840773
     nnet           13            1   -.00923778   -.00923778

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7954989   2.9313168          1          0    .0097439    .0097439 |
   2. | 3.2072511   3.5063617          2          0   -.0244604   -.0244604 |
   3. | 3.0305543   3.0819279          3          0   -.0273416   -.0273416 |
   4. | 2.7420192   2.7442112          4          0    .5167444    .5167444 |
   5. | 3.4605202   3.4160669          5          0    .0160122    .0160122 |
      |---------------------------------------------------------------------|
   6. | 2.8021338   2.9023557          6          0   -.0621797   -.0621797 |
   7. | 2.6246908   2.9143202          7          0    .7397127    .7397127 |
   8. | 2.9239385   2.9165138          8          0   -.2534884   -.2534884 |
      +---------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_53356/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23137586    .23137586
    logit            2    .08774029    .08774029
  lassocv            3    .26075764    .26075764
  ridgecv            4    .07489493    .07489493
  lassocv            5   -.12026303   -.12026303
  ridgecv            6    .02692521    .02692521
       rf            7    .43178192    .43178192
       rf            8    .07075657    .07075657
       rf            9    -.1815816    -.1815816
gradboost           10    .02418417    .02418417
gradboost           11    .16689232    .16689232
     nnet           12    .01336003    .01336003
     nnet           13    .01367442    .01367442

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00974391    .00974391
      ols            2            0    -.0244604    -.0244604
  lassocv            3            0    -.0273416    -.0273416
  ridgecv            4            0    .51674439    .51674439
  lassocv            5            0    .01601216    .01601216
  ridgecv            6            0   -.06217973   -.06217973
       rf            7            0    .73971272    .73971272
       rf            8            0   -.25348835   -.25348835
       rf            9            0    .06418076    .06418076
gradboost           10            0    .05636699    .05636699
gradboost           11            0    .06095869    .06095869
     nnet           12            0   -.00800731   -.00800731
     nnet           13            0   -.01063925   -.01063925
      ols            1            1   -.01195032   -.01195032
      ols            2            1    8.663e-12    8.663e-12
  lassocv            3            1    .14612435    .14612435
  ridgecv            4            1     .3047285     .3047285
  lassocv            5            1    .07708184    .07708184
  ridgecv            6            1   -.06455894   -.06455894
       rf            7            1    .57888237    .57888237
       rf            8            1    .36555814    .36555814
       rf            9            1   -.26954559   -.26954559
gradboost           10            1   -.10619842   -.10619842
gradboost           11            1    .07121614    .07121614
     nnet           12            1    .01840773    .01840773
     nnet           13            1   -.00923778   -.00923778

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .23137586    .23137586
    logit            2    .08774029    .08774029
  lassocv            3    .26075764    .26075764
  ridgecv            4    .07489493    .07489493
  lassocv            5   -.12026303   -.12026303
  ridgecv            6    .02692521    .02692521
       rf            7    .43178192    .43178192
       rf            8    .07075657    .07075657
       rf            9    -.1815816    -.1815816
gradboost           10    .02418417    .02418417
gradboost           11    .16689232    .16689232
     nnet           12    .01336003    .01336003
     nnet           13    .01367442    .01367442

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .84207615          1   .2313759   .2313759 |
   2. | .40589089          2   .0877403   .0877403 |
   3. | .09310415          3   .2607576   .2607576 |
   4. | .15929834          4   .0748949   .0748949 |
   5. | .61657004          5   -.120263   -.120263 |
      |--------------------------------------------|
   6. | .94975419          6   .0269252   .0269252 |
   7. | .88161241          7   .4317819   .4317819 |
   8. | .78994801          8   .0707566   .0707566 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_53356/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009511    .016419    -6.15   0.000    -.1331318   -.0687705
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009511    .016419    -6.15   0.000    -.1331318   -.0687705
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009511    .016419    -6.15   0.000    -.1331318   -.0687705
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009511    .016419    -6.15   0.000    -.1331318   -.0687705
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_53356/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_53356/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_53356/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_53356/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_53356/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6036948   2.7844908          1          0   .0769231   .0769231 |
   2. | 3.0020864   3.1732028          2          0   .0769231   .0769231 |
   3. | 2.6562529   2.7845753          3          0   .0769231   .0769231 |
   4. | 2.4635309   2.6209908          4          0   .0769231   .0769231 |
   5. |  3.082586   3.1505737          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6121152   2.6244783          6          0   .0769231   .0769231 |
   7. | 2.4372831   2.5291591          7          0   .0769231   .0769231 |
   8. | 2.7508199    2.792096          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ss_avg_short_ia.dta not found)
file out_53356/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .74280671          1   .0769231   .0769231 |
   2. | .40082337          2   .0769231   .0769231 |
   3. | .15854121          3   .0769231   .0769231 |
   4. | .27877502          4   .0769231   .0769231 |
   5. | .54869878          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80356713          6   .0769231   .0769231 |
   7. | .75354793          7   .0769231   .0769231 |
   8. | .67019517          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ss_avg_short_ia.dta not found)
file out_53356/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6036948   2.7844908          1          0   .0769231   .0769231 |
   2. | 3.0020864   3.1732028          2          0   .0769231   .0769231 |
   3. | 2.6562529   2.7845753          3          0   .0769231   .0769231 |
   4. | 2.4635309   2.6209908          4          0   .0769231   .0769231 |
   5. |  3.082586   3.1505737          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6121152   2.6244783          6          0   .0769231   .0769231 |
   7. | 2.4372831   2.5291591          7          0   .0769231   .0769231 |
   8. | 2.7508199    2.792096          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_53356/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_53356/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .74280671          1   .0769231   .0769231 |
   2. | .40082337          2   .0769231   .0769231 |
   3. | .15854121          3   .0769231   .0769231 |
   4. | .27877502          4   .0769231   .0769231 |
   5. | .54869878          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80356713          6   .0769231   .0769231 |
   7. | .75354793          7   .0769231   .0769231 |
   8. | .67019517          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_53356/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_53356/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1189001    .095763    -1.24   0.214    -.3065921     .068792
------------------------------------------------------------------------------
Warning: 135 propensity scores trimmed to lower limit ..
Warning: 36 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1159509    .016132    -7.19   0.000    -.1475691   -.0843327
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0400344   .0453899    -0.88   0.378     -.128997    .0489283
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0093947   .0903496    -0.10   0.917    -.1864766    .1676873
------------------------------------------------------------------------------
Warning: 94 propensity scores trimmed to lower limit ..
Warning: 29 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0525722   .0472675    -1.11   0.266    -.1452148    .0400704
------------------------------------------------------------------------------
Warning: 86 propensity scores trimmed to lower limit ..
Warning: 11 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0281418    .091163    -0.31   0.758    -.2068181    .1505344
------------------------------------------------------------------------------
Warning: 80 propensity scores trimmed to lower limit ..
Warning: 22 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0791065    .021954    -3.60   0.000    -.1221356   -.0360775
------------------------------------------------------------------------------
Warning: 2 propensity scores trimmed to lower limit ..
Warning: 2 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1035652    .015526    -6.67   0.000    -.1339956   -.0731349
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1077737   .0149013    -7.23   0.000    -.1369798   -.0785676
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0723683   .0192666    -3.76   0.000    -.1101302   -.0346065
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0581102    .036237    -1.60   0.109    -.1291334     .012913
------------------------------------------------------------------------------
Warning: 93 propensity scores trimmed to lower limit ..
Warning: 19 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1340519   .0164939    -8.13   0.000    -.1663794   -.1017245
------------------------------------------------------------------------------
Warning: 14 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.3911444   .2200559    -1.78   0.075     -.822446    .0401573
------------------------------------------------------------------------------
Warning: 142 propensity scores trimmed to lower limit ..
Warning: 141 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_53356/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.079    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.083    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.022)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0828592   .0213658    -3.88   0.000    -.1247355    -.040983
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 5 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_923/inter_mse.dta not found)
file out_923/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.149       0.154       0.153       0.139
>        0.150       0.167       0.144       0.163       0.171       0.166  
   D_gender_r_ps   1      0.155       0.149       0.155       0.153       0.138
>        0.149       0.166       0.145       0.162       0.170       0.165  
   D_gender_r_ss   1      0.155       0.149       0.155       0.153       0.138
>        0.149       0.165       0.145       0.162       0.169       0.165  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.226       0.164       0.151       0.561       0.
> 140       0.245       0.218       0.168       0.232       0.194       0.188  
    Y1_pystacked 1    1      0.173       0.135       0.240       0.139       0.
> 137       0.159       0.189       0.128       0.190       0.183       0.232  
     Y_lnearn_ps 0    1      8.304       8.392       8.042       8.432       8.
> 120       8.301       8.336       8.416       8.341       8.160       8.545  
     Y_lnearn_ps 1    1      7.496       7.591       7.516       7.349       7.
> 530       7.451       7.620       7.551       7.363       7.519       7.476  
     Y_lnearn_ss 0    1      0.224       0.164       0.150       0.561       0.
> 134       0.244       0.216       0.168       0.231       0.193       0.188  
     Y_lnearn_ss 1    1      0.172       0.133       0.239       0.138       0.
> 137       0.157       0.188       0.127       0.189       0.182       0.231  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15553764    .14922886    .15433067    .15304409
D_gender_r~s            1    .15515903    .14910445    .15489051    .15303084
D_gender_r~s            1    .15504961     .1491441    .15512276    .15341915

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .13912276     .1496546    .16667738    .14441738    .16266324
D_gender_r~s    .13830856    .14879304    .16552745    .14453412    .16213738
D_gender_r~s    .13835297    .14875419     .1650187     .1454622    .16150842

                    fold9       fold10
D1_pystacked    .17072263    .16553433
D_gender_r~s    .16984211    .16544078
D_gender_r~s    .16859996    .16513206
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1555376 | .1492289 | .1543307 | .1530441 | .1391228 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1496546 | .1666774 | .1444174 | .1626632 | .1707226 | .1655343 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 |  .155159 | .1491044 | .1548905 | .1530308 | .1383086 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |  .148793 | .1655274 | .1445341 | .1621374 | .1698421 | .1654408 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1550496 | .1491441 | .1551228 | .1534192 |  .138353 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1487542 | .1650187 | .1454622 | .1615084 |    .1686 | .1651321 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_923/gender_r_mse_inter_gender_mse.dta not found)
file out_923/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.149       0.154       0.153       0.139
>        0.150       0.167       0.144       0.163       0.171       0.166  
   D_gender_r_ps   1      0.155       0.149       0.155       0.153       0.138
>        0.149       0.166       0.145       0.162       0.170       0.165  
   D_gender_r_ss   1      0.155       0.149       0.155       0.153       0.138
>        0.149       0.165       0.145       0.162       0.169       0.165  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.226       0.164       0.151       0.561       0.
> 140       0.245       0.218       0.168       0.232       0.194       0.188  
    Y1_pystacked 1    1      0.173       0.135       0.240       0.139       0.
> 137       0.159       0.189       0.128       0.190       0.183       0.232  
     Y_lnearn_ps 0    1      8.304       8.392       8.042       8.432       8.
> 120       8.301       8.336       8.416       8.341       8.160       8.545  
     Y_lnearn_ps 1    1      7.496       7.591       7.516       7.349       7.
> 530       7.451       7.620       7.551       7.363       7.519       7.476  
     Y_lnearn_ss 0    1      0.224       0.164       0.150       0.561       0.
> 134       0.244       0.216       0.168       0.231       0.193       0.188  
     Y_lnearn_ss 1    1      0.172       0.133       0.239       0.138       0.
> 137       0.157       0.188       0.127       0.189       0.182       0.231  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .22573822    .16369897    .15144062
Y1_pystacked            1            1    .17319403    .13469095    .24047017
 Y_lnearn_ps            0            1    8.3044532    8.3919584    8.0417799
 Y_lnearn_ps            1            1    7.4962042    7.5914641    7.5162124
 Y_lnearn_ss            0            1    .22446655    .16352568    .14957626
 Y_lnearn_ss            1            1      .171984    .13321338    .23853336

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .56082519    .13957955    .24509844    .21760077    .16795488
Y1_pystacked    .13940983    .13729802    .15941997    .18863897    .12766546
 Y_lnearn_ps    8.4318912    8.1202399    8.3011524    8.3356945    8.4155915
 Y_lnearn_ps    7.3488652    7.5298212    7.4512173    7.6199239    7.5509173
 Y_lnearn_ss    .56051184    .13398987    .24437536    .21613845    .16797098
 Y_lnearn_ss    .13800614    .13664397    .15726143    .18828911    .12738374

                    fold8        fold9       fold10
Y1_pystacked      .232493    .19395966    .18824097
Y1_pystacked     .1904191    .18293988    .23153546
 Y_lnearn_ps    8.3412747    8.1595471    8.5451271
 Y_lnearn_ps    7.3627371    7.5194274    7.4759601
 Y_lnearn_ss    .23091937    .19348133    .18813463
 Y_lnearn_ss    .18850826    .18188428    .23078593
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2257382 |  .163699 | .1514406 | .5608252 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1395795 | .2450984 | .2176008 | .1679549 |  .232493 | .1939597 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      .188241     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 |  .173194 |  .134691 | .2404702 | .1394098 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  .137298 |   .15942 |  .188639 | .1276655 | .1904191 | .1829399 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2315355     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.304453 | 8.391958 |  8.04178 | 8.431891 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  8.12024 | 8.301152 | 8.335694 | 8.415591 | 8.341274 | 8.159547 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.545127     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.496204 | 7.591464 | 7.516212 | 7.348865 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.529821 | 7.451217 | 7.619924 | 7.550917 | 7.362737 | 7.519427 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      7.47596     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2244665 | .1635257 | .1495763 | .5605118 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1339899 | .2443754 | .2161385 |  .167971 | .2309194 | .1934813 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1881346     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 |  .171984 | .1332134 | .2385334 | .1380061 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  .136644 | .1572614 | .1882891 | .1273837 | .1885083 | .1818843 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2307859     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_923/lnearn_mse_inter_lnearn_mse.dta not found)
file out_923/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.079    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.083    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.022)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0828592   .0213658    -3.88   0.000    -.1247355    -.040983
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 5 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.079    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.083    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.022)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.079313   .0224803    -3.53   0.000    -.1233735   -.0352524
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.083    (0.021)
  ss  1  [shortstack]          [ss]          [ss]    -0.083    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.022)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0828592   .0213658    -3.88   0.000    -.1247355    -.040983
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 5 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.080    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.083    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.022)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0801427   .0219183    -3.66   0.000    -.1231018   -.0371836
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25435053    .25435053
    logit            2    2.976e-17    2.976e-17
  lassocv            3    .10568725    .10568725
  ridgecv            4    .05022926    .05022926
  lassocv            5     .0058065     .0058065
  ridgecv            6    .02078264    .02078264
       rf            7    .25588273    .25588273
       rf            8    1.280e-17    1.280e-17
       rf            9    7.653e-17    7.653e-17
gradboost           10    .02911864    .02911864
gradboost           11    .24868121    .24868121
     nnet           12    4.787e-17    4.787e-17
     nnet           13    .02946123    .02946123

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02318991    .02318991
      ols            2            0    1.225e-16    1.225e-16
  lassocv            3            0    .13209109    .13209109
  ridgecv            4            0    .20505882    .20505882
  lassocv            5            0    7.074e-17    7.074e-17
  ridgecv            6            0    .00741951    .00741951
       rf            7            0     .4163518     .4163518
       rf            8            0    5.646e-17    5.646e-17
       rf            9            0    4.850e-17    4.850e-17
gradboost           10            0    .02902245    .02902245
gradboost           11            0    .16520101    .16520101
     nnet           12            0    .01598054    .01598054
     nnet           13            0    .00568487    .00568487
      ols            1            1    .00443979    .00443979
      ols            2            1    6.652e-17    6.652e-17
  lassocv            3            1    .08185675    .08185675
  ridgecv            4            1    .01766321    .01766321
  lassocv            5            1    .21740459    .21740459
  ridgecv            6            1    .05956235    .05956235
       rf            7            1    .49354859    .49354859
       rf            8            1    7.722e-17    7.722e-17
       rf            9            1    4.188e-17    4.188e-17
gradboost           10            1    .00618493    .00618493
gradboost           11            1    .07194436    .07194436
     nnet           12            1    .03085119    .03085119
     nnet           13            1    .01654424    .01654424

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25435053    .25435053
    logit            2    2.976e-17    2.976e-17
  lassocv            3    .10568725    .10568725
  ridgecv            4    .05022926    .05022926
  lassocv            5     .0058065     .0058065
  ridgecv            6    .02078264    .02078264
       rf            7    .25588273    .25588273
       rf            8    1.280e-17    1.280e-17
       rf            9    7.653e-17    7.653e-17
gradboost           10    .02911864    .02911864
gradboost           11    .24868121    .24868121
     nnet           12    4.787e-17    4.787e-17
     nnet           13    .02946123    .02946123

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02318991    .02318991
      ols            2            0    1.225e-16    1.225e-16
  lassocv            3            0    .13209109    .13209109
  ridgecv            4            0    .20505882    .20505882
  lassocv            5            0    7.074e-17    7.074e-17
  ridgecv            6            0    .00741951    .00741951
       rf            7            0     .4163518     .4163518
       rf            8            0    5.646e-17    5.646e-17
       rf            9            0    4.850e-17    4.850e-17
gradboost           10            0    .02902245    .02902245
gradboost           11            0    .16520101    .16520101
     nnet           12            0    .01598054    .01598054
     nnet           13            0    .00568487    .00568487
      ols            1            1    .00443979    .00443979
      ols            2            1    6.652e-17    6.652e-17
  lassocv            3            1    .08185675    .08185675
  ridgecv            4            1    .01766321    .01766321
  lassocv            5            1    .21740459    .21740459
  ridgecv            6            1    .05956235    .05956235
       rf            7            1    .49354859    .49354859
       rf            8            1    7.722e-17    7.722e-17
       rf            9            1    4.188e-17    4.188e-17
gradboost           10            1    .00618493    .00618493
gradboost           11            1    .07194436    .07194436
     nnet           12            1    .03085119    .03085119
     nnet           13            1    .01654424    .01654424

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02318991    .02318991
      ols            2            0    1.225e-16    1.225e-16
  lassocv            3            0    .13209109    .13209109
  ridgecv            4            0    .20505882    .20505882
  lassocv            5            0    7.074e-17    7.074e-17
  ridgecv            6            0    .00741951    .00741951
       rf            7            0     .4163518     .4163518
       rf            8            0    5.646e-17    5.646e-17
       rf            9            0    4.850e-17    4.850e-17
gradboost           10            0    .02902245    .02902245
gradboost           11            0    .16520101    .16520101
     nnet           12            0    .01598054    .01598054
     nnet           13            0    .00568487    .00568487
      ols            1            1    .00443979    .00443979
      ols            2            1    6.652e-17    6.652e-17
  lassocv            3            1    .08185675    .08185675
  ridgecv            4            1    .01766321    .01766321
  lassocv            5            1    .21740459    .21740459
  ridgecv            6            1    .05956235    .05956235
       rf            7            1    .49354859    .49354859
       rf            8            1    7.722e-17    7.722e-17
       rf            9            1    4.188e-17    4.188e-17
gradboost           10            1    .00618493    .00618493
gradboost           11            1    .07194436    .07194436
     nnet           12            1    .03085119    .03085119
     nnet           13            1    .01654424    .01654424

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0231899   .0231899 |
   2. |        2          0   1.23e-16   1.23e-16 |
   3. |        3          0   .1320911   .1320911 |
   4. |        4          0   .2050588   .2050588 |
   5. |        5          0   7.07e-17   7.07e-17 |
      |-------------------------------------------|
   6. |        6          0   .0074195   .0074195 |
   7. |        7          0   .4163518   .4163518 |
   8. |        8          0   5.65e-17   5.65e-17 |
      +-------------------------------------------+
(note: file out_923/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_923/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25435053    .25435053
    logit            2    2.976e-17    2.976e-17
  lassocv            3    .10568725    .10568725
  ridgecv            4    .05022926    .05022926
  lassocv            5     .0058065     .0058065
  ridgecv            6    .02078264    .02078264
       rf            7    .25588273    .25588273
       rf            8    1.280e-17    1.280e-17
       rf            9    7.653e-17    7.653e-17
gradboost           10    .02911864    .02911864
gradboost           11    .24868121    .24868121
     nnet           12    4.787e-17    4.787e-17
     nnet           13    .02946123    .02946123

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02318991    .02318991
      ols            2            0    1.225e-16    1.225e-16
  lassocv            3            0    .13209109    .13209109
  ridgecv            4            0    .20505882    .20505882
  lassocv            5            0    7.074e-17    7.074e-17
  ridgecv            6            0    .00741951    .00741951
       rf            7            0     .4163518     .4163518
       rf            8            0    5.646e-17    5.646e-17
       rf            9            0    4.850e-17    4.850e-17
gradboost           10            0    .02902245    .02902245
gradboost           11            0    .16520101    .16520101
     nnet           12            0    .01598054    .01598054
     nnet           13            0    .00568487    .00568487
      ols            1            1    .00443979    .00443979
      ols            2            1    6.652e-17    6.652e-17
  lassocv            3            1    .08185675    .08185675
  ridgecv            4            1    .01766321    .01766321
  lassocv            5            1    .21740459    .21740459
  ridgecv            6            1    .05956235    .05956235
       rf            7            1    .49354859    .49354859
       rf            8            1    7.722e-17    7.722e-17
       rf            9            1    4.188e-17    4.188e-17
gradboost           10            1    .00618493    .00618493
gradboost           11            1    .07194436    .07194436
     nnet           12            1    .03085119    .03085119
     nnet           13            1    .01654424    .01654424

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .25435053    .25435053
    logit            2    2.976e-17    2.976e-17
  lassocv            3    .10568725    .10568725
  ridgecv            4    .05022926    .05022926
  lassocv            5     .0058065     .0058065
  ridgecv            6    .02078264    .02078264
       rf            7    .25588273    .25588273
       rf            8    1.280e-17    1.280e-17
       rf            9    7.653e-17    7.653e-17
gradboost           10    .02911864    .02911864
gradboost           11    .24868121    .24868121
     nnet           12    4.787e-17    4.787e-17
     nnet           13    .02946123    .02946123

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2543505   .2543505 |
   2. |        2   2.98e-17   2.98e-17 |
   3. |        3   .1056872   .1056872 |
   4. |        4   .0502293   .0502293 |
   5. |        5   .0058065   .0058065 |
      |--------------------------------|
   6. |        6   .0207826   .0207826 |
   7. |        7   .2558827   .2558827 |
   8. |        8   1.28e-17   1.28e-17 |
      +--------------------------------+
(note: file out_923/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_923/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .1579927     .1579927
    logit            2            0            0
  lassocv            3    .09690273    .09690273
  ridgecv            4    .13980729    .13980729
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .30331421    .30331421
       rf            8    3.341e-17    3.341e-17
       rf            9    8.385e-17    8.385e-17
gradboost           10    .03315897    .03315897
gradboost           11    .24809187    .24809187
     nnet           12    9.336e-17    9.336e-17
     nnet           13    .02073224    .02073224

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06111196    .06111196
      ols            2            0    2.367e-16    2.367e-16
  lassocv            3            0            0            0
  ridgecv            4            0    .13085316    .13085316
  lassocv            5            0    .12169093    .12169093
  ridgecv            6            0    4.519e-17    4.519e-17
       rf            7            0    .47841568    .47841568
       rf            8            0    1.072e-16    1.072e-16
       rf            9            0    8.785e-17    8.785e-17
gradboost           10            0     .0452285     .0452285
gradboost           11            0    .16269978    .16269978
     nnet           12            0    2.790e-17    2.790e-17
     nnet           13            0    9.904e-17    9.904e-17
      ols            1            1    .04661346    .04661346
      ols            2            1    5.305e-17    5.305e-17
  lassocv            3            1    .13850527    .13850527
  ridgecv            4            1    1.792e-17    1.792e-17
  lassocv            5            1    .26005322    .26005322
  ridgecv            6            1    7.905e-19    7.905e-19
       rf            7            1     .5012466     .5012466
       rf            8            1    2.863e-17    2.863e-17
       rf            9            1    3.290e-17    3.290e-17
gradboost           10            1    1.185e-17    1.185e-17
gradboost           11            1     .0446192     .0446192
     nnet           12            1    5.953e-18    5.953e-18
     nnet           13            1    .00896225    .00896225

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .1579927     .1579927
    logit            2            0            0
  lassocv            3    .09690273    .09690273
  ridgecv            4    .13980729    .13980729
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .30331421    .30331421
       rf            8    3.341e-17    3.341e-17
       rf            9    8.385e-17    8.385e-17
gradboost           10    .03315897    .03315897
gradboost           11    .24809187    .24809187
     nnet           12    9.336e-17    9.336e-17
     nnet           13    .02073224    .02073224

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06111196    .06111196
      ols            2            0    2.367e-16    2.367e-16
  lassocv            3            0            0            0
  ridgecv            4            0    .13085316    .13085316
  lassocv            5            0    .12169093    .12169093
  ridgecv            6            0    4.519e-17    4.519e-17
       rf            7            0    .47841568    .47841568
       rf            8            0    1.072e-16    1.072e-16
       rf            9            0    8.785e-17    8.785e-17
gradboost           10            0     .0452285     .0452285
gradboost           11            0    .16269978    .16269978
     nnet           12            0    2.790e-17    2.790e-17
     nnet           13            0    9.904e-17    9.904e-17
      ols            1            1    .04661346    .04661346
      ols            2            1    5.305e-17    5.305e-17
  lassocv            3            1    .13850527    .13850527
  ridgecv            4            1    1.792e-17    1.792e-17
  lassocv            5            1    .26005322    .26005322
  ridgecv            6            1    7.905e-19    7.905e-19
       rf            7            1     .5012466     .5012466
       rf            8            1    2.863e-17    2.863e-17
       rf            9            1    3.290e-17    3.290e-17
gradboost           10            1    1.185e-17    1.185e-17
gradboost           11            1     .0446192     .0446192
     nnet           12            1    5.953e-18    5.953e-18
     nnet           13            1    .00896225    .00896225

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06111196    .06111196
      ols            2            0    2.367e-16    2.367e-16
  lassocv            3            0            0            0
  ridgecv            4            0    .13085316    .13085316
  lassocv            5            0    .12169093    .12169093
  ridgecv            6            0    4.519e-17    4.519e-17
       rf            7            0    .47841568    .47841568
       rf            8            0    1.072e-16    1.072e-16
       rf            9            0    8.785e-17    8.785e-17
gradboost           10            0     .0452285     .0452285
gradboost           11            0    .16269978    .16269978
     nnet           12            0    2.790e-17    2.790e-17
     nnet           13            0    9.904e-17    9.904e-17
      ols            1            1    .04661346    .04661346
      ols            2            1    5.305e-17    5.305e-17
  lassocv            3            1    .13850527    .13850527
  ridgecv            4            1    1.792e-17    1.792e-17
  lassocv            5            1    .26005322    .26005322
  ridgecv            6            1    7.905e-19    7.905e-19
       rf            7            1     .5012466     .5012466
       rf            8            1    2.863e-17    2.863e-17
       rf            9            1    3.290e-17    3.290e-17
gradboost           10            1    1.185e-17    1.185e-17
gradboost           11            1     .0446192     .0446192
     nnet           12            1    5.953e-18    5.953e-18
     nnet           13            1    .00896225    .00896225

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5399077   2.7395686          1          0    .061112    .061112 |
   2. | 3.0125154    3.277421          2          0   2.37e-16   2.37e-16 |
   3. | 2.8133173   2.9015644          3          0          0          0 |
   4. |  2.475115   2.6170015          4          0   .1308532   .1308532 |
   5. | 3.0782817   3.1303269          5          0   .1216909   .1216909 |
      |-------------------------------------------------------------------|
   6. | 2.5382969   2.6647252          6          0   4.52e-17   4.52e-17 |
   7. | 2.4438892   2.5811342          7          0   .4784157   .4784157 |
   8. | 2.6730205   2.7329779          8          0   1.07e-16   1.07e-16 |
      +-------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_923/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .1579927     .1579927
    logit            2            0            0
  lassocv            3    .09690273    .09690273
  ridgecv            4    .13980729    .13980729
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .30331421    .30331421
       rf            8    3.341e-17    3.341e-17
       rf            9    8.385e-17    8.385e-17
gradboost           10    .03315897    .03315897
gradboost           11    .24809187    .24809187
     nnet           12    9.336e-17    9.336e-17
     nnet           13    .02073224    .02073224

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .06111196    .06111196
      ols            2            0    2.367e-16    2.367e-16
  lassocv            3            0            0            0
  ridgecv            4            0    .13085316    .13085316
  lassocv            5            0    .12169093    .12169093
  ridgecv            6            0    4.519e-17    4.519e-17
       rf            7            0    .47841568    .47841568
       rf            8            0    1.072e-16    1.072e-16
       rf            9            0    8.785e-17    8.785e-17
gradboost           10            0     .0452285     .0452285
gradboost           11            0    .16269978    .16269978
     nnet           12            0    2.790e-17    2.790e-17
     nnet           13            0    9.904e-17    9.904e-17
      ols            1            1    .04661346    .04661346
      ols            2            1    5.305e-17    5.305e-17
  lassocv            3            1    .13850527    .13850527
  ridgecv            4            1    1.792e-17    1.792e-17
  lassocv            5            1    .26005322    .26005322
  ridgecv            6            1    7.905e-19    7.905e-19
       rf            7            1     .5012466     .5012466
       rf            8            1    2.863e-17    2.863e-17
       rf            9            1    3.290e-17    3.290e-17
gradboost           10            1    1.185e-17    1.185e-17
gradboost           11            1     .0446192     .0446192
     nnet           12            1    5.953e-18    5.953e-18
     nnet           13            1    .00896225    .00896225

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1     .1579927     .1579927
    logit            2            0            0
  lassocv            3    .09690273    .09690273
  ridgecv            4    .13980729    .13980729
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .30331421    .30331421
       rf            8    3.341e-17    3.341e-17
       rf            9    8.385e-17    8.385e-17
gradboost           10    .03315897    .03315897
gradboost           11    .24809187    .24809187
     nnet           12    9.336e-17    9.336e-17
     nnet           13    .02073224    .02073224

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75966605          1   .1579927   .1579927 |
   2. | .40057309          2          0          0 |
   3. | .09377459          3   .0969027   .0969027 |
   4. | .18897504          4   .1398073   .1398073 |
   5. | .47611459          5          0          0 |
      |--------------------------------------------|
   6. | .85599841          6          0          0 |
   7. |  .7937194          7   .3033142   .3033142 |
   8. |  .8368697          8   3.34e-17   3.34e-17 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_923/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26848161    .26848161
    logit            2    9.474e-17    9.474e-17
  lassocv            3    .11604087    .11604087
  ridgecv            4    .06260273    .06260273
  lassocv            5    5.528e-17    5.528e-17
  ridgecv            6    8.490e-17    8.490e-17
       rf            7     .2725315     .2725315
       rf            8            0            0
       rf            9    5.150e-17    5.150e-17
gradboost           10    7.904e-17    7.904e-17
gradboost           11    .26083157    .26083157
     nnet           12    2.289e-16    2.289e-16
     nnet           13    .01951173    .01951173

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01542845    .01542845
      ols            2            0    5.532e-16    5.532e-16
  lassocv            3            0    .12322997    .12322997
  ridgecv            4            0    .23887625    .23887625
  lassocv            5            0    4.348e-16    4.348e-16
  ridgecv            6            0    2.010e-15    2.010e-15
       rf            7            0    .44474416    .44474416
       rf            8            0    1.130e-15    1.130e-15
       rf            9            0    1.622e-15    1.622e-15
gradboost           10            0            0            0
gradboost           11            0    .17772117    .17772117
     nnet           12            0    3.460e-15    3.460e-15
     nnet           13            0    2.604e-16    2.604e-16
      ols            1            1    .00292327    .00292327
      ols            2            1            0            0
  lassocv            3            1     .0786187     .0786187
  ridgecv            4            1    .06503827    .06503827
  lassocv            5            1    .21821893    .21821893
  ridgecv            6            1    .02519302    .02519302
       rf            7            1    .51181816    .51181816
       rf            8            1    8.492e-18    8.492e-18
       rf            9            1    1.234e-15    1.234e-15
gradboost           10            1            0            0
gradboost           11            1    .08468355    .08468355
     nnet           12            1            0            0
     nnet           13            1     .0135061     .0135061

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26848161    .26848161
    logit            2    9.474e-17    9.474e-17
  lassocv            3    .11604087    .11604087
  ridgecv            4    .06260273    .06260273
  lassocv            5    5.528e-17    5.528e-17
  ridgecv            6    8.490e-17    8.490e-17
       rf            7     .2725315     .2725315
       rf            8            0            0
       rf            9    5.150e-17    5.150e-17
gradboost           10    7.904e-17    7.904e-17
gradboost           11    .26083157    .26083157
     nnet           12    2.289e-16    2.289e-16
     nnet           13    .01951173    .01951173

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01542845    .01542845
      ols            2            0    5.532e-16    5.532e-16
  lassocv            3            0    .12322997    .12322997
  ridgecv            4            0    .23887625    .23887625
  lassocv            5            0    4.348e-16    4.348e-16
  ridgecv            6            0    2.010e-15    2.010e-15
       rf            7            0    .44474416    .44474416
       rf            8            0    1.130e-15    1.130e-15
       rf            9            0    1.622e-15    1.622e-15
gradboost           10            0            0            0
gradboost           11            0    .17772117    .17772117
     nnet           12            0    3.460e-15    3.460e-15
     nnet           13            0    2.604e-16    2.604e-16
      ols            1            1    .00292327    .00292327
      ols            2            1            0            0
  lassocv            3            1     .0786187     .0786187
  ridgecv            4            1    .06503827    .06503827
  lassocv            5            1    .21821893    .21821893
  ridgecv            6            1    .02519302    .02519302
       rf            7            1    .51181816    .51181816
       rf            8            1    8.492e-18    8.492e-18
       rf            9            1    1.234e-15    1.234e-15
gradboost           10            1            0            0
gradboost           11            1    .08468355    .08468355
     nnet           12            1            0            0
     nnet           13            1     .0135061     .0135061

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01542845    .01542845
      ols            2            0    5.532e-16    5.532e-16
  lassocv            3            0    .12322997    .12322997
  ridgecv            4            0    .23887625    .23887625
  lassocv            5            0    4.348e-16    4.348e-16
  ridgecv            6            0    2.010e-15    2.010e-15
       rf            7            0    .44474416    .44474416
       rf            8            0    1.130e-15    1.130e-15
       rf            9            0    1.622e-15    1.622e-15
gradboost           10            0            0            0
gradboost           11            0    .17772117    .17772117
     nnet           12            0    3.460e-15    3.460e-15
     nnet           13            0    2.604e-16    2.604e-16
      ols            1            1    .00292327    .00292327
      ols            2            1            0            0
  lassocv            3            1     .0786187     .0786187
  ridgecv            4            1    .06503827    .06503827
  lassocv            5            1    .21821893    .21821893
  ridgecv            6            1    .02519302    .02519302
       rf            7            1    .51181816    .51181816
       rf            8            1    8.492e-18    8.492e-18
       rf            9            1    1.234e-15    1.234e-15
gradboost           10            1            0            0
gradboost           11            1    .08468355    .08468355
     nnet           12            1            0            0
     nnet           13            1     .0135061     .0135061

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5484276   2.7360937          1          0   .0154284   .0154284 |
   2. | 3.0084644   3.2646836          2          0   5.53e-16   5.53e-16 |
   3. | 2.8029241   2.9053826          3          0     .12323     .12323 |
   4. | 2.4697251   2.6126104          4          0   .2388763   .2388763 |
   5. | 3.0810573   3.1400948          5          0   4.35e-16   4.35e-16 |
      |-------------------------------------------------------------------|
   6. | 2.5332467   2.6670462          6          0   2.01e-15   2.01e-15 |
   7. |  2.413195   2.6113286          7          0   .4447442   .4447442 |
   8. | 2.6520788   2.7171135          8          0   1.13e-15   1.13e-15 |
      +-------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_923/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26848161    .26848161
    logit            2    9.474e-17    9.474e-17
  lassocv            3    .11604087    .11604087
  ridgecv            4    .06260273    .06260273
  lassocv            5    5.528e-17    5.528e-17
  ridgecv            6    8.490e-17    8.490e-17
       rf            7     .2725315     .2725315
       rf            8            0            0
       rf            9    5.150e-17    5.150e-17
gradboost           10    7.904e-17    7.904e-17
gradboost           11    .26083157    .26083157
     nnet           12    2.289e-16    2.289e-16
     nnet           13    .01951173    .01951173

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01542845    .01542845
      ols            2            0    5.532e-16    5.532e-16
  lassocv            3            0    .12322997    .12322997
  ridgecv            4            0    .23887625    .23887625
  lassocv            5            0    4.348e-16    4.348e-16
  ridgecv            6            0    2.010e-15    2.010e-15
       rf            7            0    .44474416    .44474416
       rf            8            0    1.130e-15    1.130e-15
       rf            9            0    1.622e-15    1.622e-15
gradboost           10            0            0            0
gradboost           11            0    .17772117    .17772117
     nnet           12            0    3.460e-15    3.460e-15
     nnet           13            0    2.604e-16    2.604e-16
      ols            1            1    .00292327    .00292327
      ols            2            1            0            0
  lassocv            3            1     .0786187     .0786187
  ridgecv            4            1    .06503827    .06503827
  lassocv            5            1    .21821893    .21821893
  ridgecv            6            1    .02519302    .02519302
       rf            7            1    .51181816    .51181816
       rf            8            1    8.492e-18    8.492e-18
       rf            9            1    1.234e-15    1.234e-15
gradboost           10            1            0            0
gradboost           11            1    .08468355    .08468355
     nnet           12            1            0            0
     nnet           13            1     .0135061     .0135061

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .26848161    .26848161
    logit            2    9.474e-17    9.474e-17
  lassocv            3    .11604087    .11604087
  ridgecv            4    .06260273    .06260273
  lassocv            5    5.528e-17    5.528e-17
  ridgecv            6    8.490e-17    8.490e-17
       rf            7     .2725315     .2725315
       rf            8            0            0
       rf            9    5.150e-17    5.150e-17
gradboost           10    7.904e-17    7.904e-17
gradboost           11    .26083157    .26083157
     nnet           12    2.289e-16    2.289e-16
     nnet           13    .01951173    .01951173

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75065524          1   .2684816   .2684816 |
   2. | .38383661          2   9.47e-17   9.47e-17 |
   3. |  .0923243          3   .1160409   .1160409 |
   4. | .18313078          4   .0626027   .0626027 |
   5. | .47859655          5   5.53e-17   5.53e-17 |
      |--------------------------------------------|
   6. | .85967596          6   8.49e-17   8.49e-17 |
   7. | .81383651          7   .2725315   .2725315 |
   8. | .85326078          8          0          0 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_923/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.075    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.089    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.065    (0.031)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0889917   .0185273    -4.80   0.000    -.1253045   -.0526788
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.075    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.089    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.065    (0.031)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0745597   .0297063    -2.51   0.012    -.1327829   -.0163365
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 85 propensity scores trimmed to lower limit .01.
Warning: 17 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.089    (0.019)
  ss  1  [shortstack]          [ss]          [ss]    -0.089    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.065    (0.031)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0889917   .0185273    -4.80   0.000    -.1253045   -.0526788
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.065    (0.031)
  ss  1  [shortstack]          [ss]          [ss]    -0.089    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.065    (0.031)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0652778   .0314785    -2.07   0.038    -.1269746    -.003581
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 102 propensity scores trimmed to lower limit .01.
Warning: 21 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .8           .8
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .8           .8
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .8           .8
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0          0          0 |
   4. |        4          0          0          0 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0          1          1 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_923/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_923/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .8           .8
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4            0            0
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .7         .7 |
   4. |        4          0          0 |
   5. |        5         .1         .1 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_923/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_923/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5380211   2.7976632          1          0          0          0 |
   2. | 2.9416361   3.2323666          2          0          0          0 |
   3. |  2.897661   2.9088264          3          0          0          0 |
   4. | 2.4971538   2.6453459          4          0          0          0 |
   5. | 3.0338829   3.1256461          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.4665527   2.6547542          6          0          0          0 |
   7. | 2.4847815   2.8359649          7          0          1          1 |
   8. | 2.6914895   2.8125668          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_923/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .83313161          1          0          0 |
   2. | .54619795          2          0          0 |
   3. | .11888732          3          0          0 |
   4. | .22929426          4          0          0 |
   5. | .42443505          5          0          0 |
      |--------------------------------------------|
   6. | .88516158          6          0          0 |
   7. |  .8311832          7          0          0 |
   8. | .76999259          8          0          0 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_923/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5380211   2.7976632          1          0          0          0 |
   2. | 2.9416361   3.2323666          2          0          0          0 |
   3. |  2.897661   2.9088264          3          0          0          0 |
   4. | 2.4971538   2.6453459          4          0          0          0 |
   5. | 3.0338829   3.1256461          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.4665527   2.6547542          6          0          0          0 |
   7. | 2.4847815   2.8359649          7          0          1          1 |
   8. | 2.6914895   2.8125668          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_923/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .70281583          1          0          0 |
   2. | .31032693          2          0          0 |
   3. |  .0442751          3          1          1 |
   4. | .20730293          4          0          0 |
   5. | .57000428          5          0          0 |
      |--------------------------------------------|
   6. | .84310764          6          0          0 |
   7. | .81734771          7          0          0 |
   8. | .72774345          8          0          0 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_923/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.681    (0.344)
  ss  1  [shortstack]          [ss]          [ss]    -0.023    (0.082)
  ps  1   [poolstack]          [ps]          [ps]     0.083    (0.078)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0229736   .0816051    -0.28   0.778    -.1829166    .1369695
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 6 propensity scores trimmed to lower limit .01.
Warning: 265 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.681    (0.344)
  ss  1  [shortstack]          [ss]          [ss]    -0.023    (0.082)
  ps  1   [poolstack]          [ps]          [ps]     0.083    (0.078)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.681342   .3437941    -1.98   0.047    -1.355166   -.0075178
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 3445 propensity scores trimmed to lower limit .01.
Warning: 501 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.023    (0.082)
  ss  1  [shortstack]          [ss]          [ss]    -0.023    (0.082)
  ps  1   [poolstack]          [ps]          [ps]     0.083    (0.078)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0229736   .0816051    -0.28   0.778    -.1829166    .1369695
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 6 propensity scores trimmed to lower limit .01.
Warning: 265 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.083    (0.078)
  ss  1  [shortstack]          [ss]          [ss]    -0.023    (0.082)
  ps  1   [poolstack]          [ps]          [ps]     0.083    (0.078)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0826815   .0779567     1.06   0.289    -.0701107    .2354738
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 46 propensity scores trimmed to lower limit .01.
Warning: 123 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22093037    .22093037
    logit            2    .07174122    .07174122
  lassocv            3    .29414548    .29414548
  ridgecv            4      .126005      .126005
  lassocv            5   -.16431604   -.16431604
  ridgecv            6   -.03819047   -.03819047
       rf            7    .36183029    .36183029
       rf            8    .15190897    .15190897
       rf            9   -.23253443   -.23253443
gradboost           10    .05923929    .05923929
gradboost           11    .19770755    .19770755
     nnet           12   -.98693023   -.98693023
     nnet           13     .0254365     .0254365

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02316468    .02316468
      ols            2            0   -.04550523   -.04550523
  lassocv            3            0    .01449461    .01449461
  ridgecv            4            0    .57598256    .57598256
  lassocv            5            0   -.04744565   -.04744565
  ridgecv            6            0   -.11445056   -.11445056
       rf            7            0    .63392395    .63392395
       rf            8            0   -.22403998   -.22403998
       rf            9            0    .15408929    .15408929
gradboost           10            0    .06350299    .06350299
gradboost           11            0    .10108143    .10108143
     nnet           12            0    -.9994099    -.9994099
     nnet           13            0   -.01050482   -.01050482
      ols            1            1   -.00581561   -.00581561
      ols            2            1   -.02434039   -.02434039
  lassocv            3            1   -.17412401   -.17412401
  ridgecv            4            1    .29384316    .29384316
  lassocv            5            1    .39718998    .39718998
  ridgecv            6            1   -.06333721   -.06333721
       rf            7            1    .53173961    .53173961
       rf            8            1    .38025644    .38025644
       rf            9            1   -.28241015   -.28241015
gradboost           10            1   -.06091179   -.06091179
gradboost           11            1    .06159098    .06159098
     nnet           12            1   -.16769785   -.16769785
     nnet           13            1    .00581667    .00581667

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22093037    .22093037
    logit            2    .07174122    .07174122
  lassocv            3    .29414548    .29414548
  ridgecv            4      .126005      .126005
  lassocv            5   -.16431604   -.16431604
  ridgecv            6   -.03819047   -.03819047
       rf            7    .36183029    .36183029
       rf            8    .15190897    .15190897
       rf            9   -.23253443   -.23253443
gradboost           10    .05923929    .05923929
gradboost           11    .19770755    .19770755
     nnet           12   -.98693023   -.98693023
     nnet           13     .0254365     .0254365

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02316468    .02316468
      ols            2            0   -.04550523   -.04550523
  lassocv            3            0    .01449461    .01449461
  ridgecv            4            0    .57598256    .57598256
  lassocv            5            0   -.04744565   -.04744565
  ridgecv            6            0   -.11445056   -.11445056
       rf            7            0    .63392395    .63392395
       rf            8            0   -.22403998   -.22403998
       rf            9            0    .15408929    .15408929
gradboost           10            0    .06350299    .06350299
gradboost           11            0    .10108143    .10108143
     nnet           12            0    -.9994099    -.9994099
     nnet           13            0   -.01050482   -.01050482
      ols            1            1   -.00581561   -.00581561
      ols            2            1   -.02434039   -.02434039
  lassocv            3            1   -.17412401   -.17412401
  ridgecv            4            1    .29384316    .29384316
  lassocv            5            1    .39718998    .39718998
  ridgecv            6            1   -.06333721   -.06333721
       rf            7            1    .53173961    .53173961
       rf            8            1    .38025644    .38025644
       rf            9            1   -.28241015   -.28241015
gradboost           10            1   -.06091179   -.06091179
gradboost           11            1    .06159098    .06159098
     nnet           12            1   -.16769785   -.16769785
     nnet           13            1    .00581667    .00581667

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02316468    .02316468
      ols            2            0   -.04550523   -.04550523
  lassocv            3            0    .01449461    .01449461
  ridgecv            4            0    .57598256    .57598256
  lassocv            5            0   -.04744565   -.04744565
  ridgecv            6            0   -.11445056   -.11445056
       rf            7            0    .63392395    .63392395
       rf            8            0   -.22403998   -.22403998
       rf            9            0    .15408929    .15408929
gradboost           10            0    .06350299    .06350299
gradboost           11            0    .10108143    .10108143
     nnet           12            0    -.9994099    -.9994099
     nnet           13            0   -.01050482   -.01050482
      ols            1            1   -.00581561   -.00581561
      ols            2            1   -.02434039   -.02434039
  lassocv            3            1   -.17412401   -.17412401
  ridgecv            4            1    .29384316    .29384316
  lassocv            5            1    .39718998    .39718998
  ridgecv            6            1   -.06333721   -.06333721
       rf            7            1    .53173961    .53173961
       rf            8            1    .38025644    .38025644
       rf            9            1   -.28241015   -.28241015
gradboost           10            1   -.06091179   -.06091179
gradboost           11            1    .06159098    .06159098
     nnet           12            1   -.16769785   -.16769785
     nnet           13            1    .00581667    .00581667

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0231647    .0231647 |
   2. |        2          0   -.0455052   -.0455052 |
   3. |        3          0    .0144946    .0144946 |
   4. |        4          0    .5759826    .5759826 |
   5. |        5          0   -.0474456   -.0474456 |
      |---------------------------------------------|
   6. |        6          0   -.1144506   -.1144506 |
   7. |        7          0    .6339239    .6339239 |
   8. |        8          0     -.22404     -.22404 |
      +---------------------------------------------+
(note: file out_923/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_923/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22093037    .22093037
    logit            2    .07174122    .07174122
  lassocv            3    .29414548    .29414548
  ridgecv            4      .126005      .126005
  lassocv            5   -.16431604   -.16431604
  ridgecv            6   -.03819047   -.03819047
       rf            7    .36183029    .36183029
       rf            8    .15190897    .15190897
       rf            9   -.23253443   -.23253443
gradboost           10    .05923929    .05923929
gradboost           11    .19770755    .19770755
     nnet           12   -.98693023   -.98693023
     nnet           13     .0254365     .0254365

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02316468    .02316468
      ols            2            0   -.04550523   -.04550523
  lassocv            3            0    .01449461    .01449461
  ridgecv            4            0    .57598256    .57598256
  lassocv            5            0   -.04744565   -.04744565
  ridgecv            6            0   -.11445056   -.11445056
       rf            7            0    .63392395    .63392395
       rf            8            0   -.22403998   -.22403998
       rf            9            0    .15408929    .15408929
gradboost           10            0    .06350299    .06350299
gradboost           11            0    .10108143    .10108143
     nnet           12            0    -.9994099    -.9994099
     nnet           13            0   -.01050482   -.01050482
      ols            1            1   -.00581561   -.00581561
      ols            2            1   -.02434039   -.02434039
  lassocv            3            1   -.17412401   -.17412401
  ridgecv            4            1    .29384316    .29384316
  lassocv            5            1    .39718998    .39718998
  ridgecv            6            1   -.06333721   -.06333721
       rf            7            1    .53173961    .53173961
       rf            8            1    .38025644    .38025644
       rf            9            1   -.28241015   -.28241015
gradboost           10            1   -.06091179   -.06091179
gradboost           11            1    .06159098    .06159098
     nnet           12            1   -.16769785   -.16769785
     nnet           13            1    .00581667    .00581667

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .22093037    .22093037
    logit            2    .07174122    .07174122
  lassocv            3    .29414548    .29414548
  ridgecv            4      .126005      .126005
  lassocv            5   -.16431604   -.16431604
  ridgecv            6   -.03819047   -.03819047
       rf            7    .36183029    .36183029
       rf            8    .15190897    .15190897
       rf            9   -.23253443   -.23253443
gradboost           10    .05923929    .05923929
gradboost           11    .19770755    .19770755
     nnet           12   -.98693023   -.98693023
     nnet           13     .0254365     .0254365

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .2209304    .2209304 |
   2. |        2    .0717412    .0717412 |
   3. |        3    .2941455    .2941455 |
   4. |        4     .126005     .126005 |
   5. |        5    -.164316    -.164316 |
      |----------------------------------|
   6. |        6   -.0381905   -.0381905 |
   7. |        7    .3618303    .3618303 |
   8. |        8     .151909     .151909 |
      +----------------------------------+
(note: file out_923/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_923/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .13850584    .13850584
    logit            2    .06581002    .06581002
  lassocv            3    .11608185    .11608185
  ridgecv            4    .21571675    .21571675
  lassocv            5   -.16304899   -.16304899
  ridgecv            6    .07946416    .07946416
       rf            7    .44391531    .44391531
       rf            8    .13107311    .13107311
       rf            9   -.31875928   -.31875928
gradboost           10    .15864057    .15864057
gradboost           11    .15464672    .15464672
     nnet           12    .03884203    .03884203
     nnet           13    .01479704    .01479704

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .09218088    .09218088
      ols            2            0   -.04146573   -.04146573
  lassocv            3            0   -.25214026   -.25214026
  ridgecv            4            0    .69283852    .69283852
  lassocv            5            0    .17372826    .17372826
  ridgecv            6            0   -.25366381   -.25366381
       rf            7            0    .72915686    .72915686
       rf            8            0    .16642854    .16642854
       rf            9            0    -.4600521    -.4600521
gradboost           10            0    .12196076    .12196076
gradboost           11            0    .04930274    .04930274
     nnet           12            0   -.02824578   -.02824578
     nnet           13            0   -.01524129   -.01524129
      ols            1            1     .0391679     .0391679
      ols            2            1   -.02279015   -.02279015
  lassocv            3            1    .08518654    .08518654
  ridgecv            4            1    .11432844    .11432844
  lassocv            5            1    .31662469    .31662469
  ridgecv            6            1   -.05033216   -.05033216
       rf            7            1    .62973304    .62973304
       rf            8            1    .03080417    .03080417
       rf            9            1   -.02688953   -.02688953
gradboost           10            1   -.08592169   -.08592169
gradboost           11            1    .02031668    .02031668
     nnet           12            1    .04560004    .04560004
     nnet           13            1    .00274656    .00274656

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .13850584    .13850584
    logit            2    .06581002    .06581002
  lassocv            3    .11608185    .11608185
  ridgecv            4    .21571675    .21571675
  lassocv            5   -.16304899   -.16304899
  ridgecv            6    .07946416    .07946416
       rf            7    .44391531    .44391531
       rf            8    .13107311    .13107311
       rf            9   -.31875928   -.31875928
gradboost           10    .15864057    .15864057
gradboost           11    .15464672    .15464672
     nnet           12    .03884203    .03884203
     nnet           13    .01479704    .01479704

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .09218088    .09218088
      ols            2            0   -.04146573   -.04146573
  lassocv            3            0   -.25214026   -.25214026
  ridgecv            4            0    .69283852    .69283852
  lassocv            5            0    .17372826    .17372826
  ridgecv            6            0   -.25366381   -.25366381
       rf            7            0    .72915686    .72915686
       rf            8            0    .16642854    .16642854
       rf            9            0    -.4600521    -.4600521
gradboost           10            0    .12196076    .12196076
gradboost           11            0    .04930274    .04930274
     nnet           12            0   -.02824578   -.02824578
     nnet           13            0   -.01524129   -.01524129
      ols            1            1     .0391679     .0391679
      ols            2            1   -.02279015   -.02279015
  lassocv            3            1    .08518654    .08518654
  ridgecv            4            1    .11432844    .11432844
  lassocv            5            1    .31662469    .31662469
  ridgecv            6            1   -.05033216   -.05033216
       rf            7            1    .62973304    .62973304
       rf            8            1    .03080417    .03080417
       rf            9            1   -.02688953   -.02688953
gradboost           10            1   -.08592169   -.08592169
gradboost           11            1    .02031668    .02031668
     nnet           12            1    .04560004    .04560004
     nnet           13            1    .00274656    .00274656

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .09218088    .09218088
      ols            2            0   -.04146573   -.04146573
  lassocv            3            0   -.25214026   -.25214026
  ridgecv            4            0    .69283852    .69283852
  lassocv            5            0    .17372826    .17372826
  ridgecv            6            0   -.25366381   -.25366381
       rf            7            0    .72915686    .72915686
       rf            8            0    .16642854    .16642854
       rf            9            0    -.4600521    -.4600521
gradboost           10            0    .12196076    .12196076
gradboost           11            0    .04930274    .04930274
     nnet           12            0   -.02824578   -.02824578
     nnet           13            0   -.01524129   -.01524129
      ols            1            1     .0391679     .0391679
      ols            2            1   -.02279015   -.02279015
  lassocv            3            1    .08518654    .08518654
  ridgecv            4            1    .11432844    .11432844
  lassocv            5            1    .31662469    .31662469
  ridgecv            6            1   -.05033216   -.05033216
       rf            7            1    .62973304    .62973304
       rf            8            1    .03080417    .03080417
       rf            9            1   -.02688953   -.02688953
gradboost           10            1   -.08592169   -.08592169
gradboost           11            1    .02031668    .02031668
     nnet           12            1    .04560004    .04560004
     nnet           13            1    .00274656    .00274656

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. |  2.783194    2.650642          1          0    .0921809    .0921809 |
   2. | 3.2869851   3.2152412          2          0   -.0414657   -.0414657 |
   3. | 3.1019297   2.8161509          3          0   -.2521403   -.2521403 |
   4. | 2.7127959   2.5316288          4          0    .6928385    .6928385 |
   5. | 3.3523565   3.0663303          5          0    .1737283    .1737283 |
      |---------------------------------------------------------------------|
   6. | 2.7985876   2.5698049          6          0   -.2536638   -.2536638 |
   7. | 2.6542751   2.5250647          7          0    .7291569    .7291569 |
   8. | 2.9489721   2.6291305          8          0    .1664285    .1664285 |
      +---------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ss_ols_short_ia.dta not found)
file out_923/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .13850584    .13850584
    logit            2    .06581002    .06581002
  lassocv            3    .11608185    .11608185
  ridgecv            4    .21571675    .21571675
  lassocv            5   -.16304899   -.16304899
  ridgecv            6    .07946416    .07946416
       rf            7    .44391531    .44391531
       rf            8    .13107311    .13107311
       rf            9   -.31875928   -.31875928
gradboost           10    .15864057    .15864057
gradboost           11    .15464672    .15464672
     nnet           12    .03884203    .03884203
     nnet           13    .01479704    .01479704

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .09218088    .09218088
      ols            2            0   -.04146573   -.04146573
  lassocv            3            0   -.25214026   -.25214026
  ridgecv            4            0    .69283852    .69283852
  lassocv            5            0    .17372826    .17372826
  ridgecv            6            0   -.25366381   -.25366381
       rf            7            0    .72915686    .72915686
       rf            8            0    .16642854    .16642854
       rf            9            0    -.4600521    -.4600521
gradboost           10            0    .12196076    .12196076
gradboost           11            0    .04930274    .04930274
     nnet           12            0   -.02824578   -.02824578
     nnet           13            0   -.01524129   -.01524129
      ols            1            1     .0391679     .0391679
      ols            2            1   -.02279015   -.02279015
  lassocv            3            1    .08518654    .08518654
  ridgecv            4            1    .11432844    .11432844
  lassocv            5            1    .31662469    .31662469
  ridgecv            6            1   -.05033216   -.05033216
       rf            7            1    .62973304    .62973304
       rf            8            1    .03080417    .03080417
       rf            9            1   -.02688953   -.02688953
gradboost           10            1   -.08592169   -.08592169
gradboost           11            1    .02031668    .02031668
     nnet           12            1    .04560004    .04560004
     nnet           13            1    .00274656    .00274656

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .13850584    .13850584
    logit            2    .06581002    .06581002
  lassocv            3    .11608185    .11608185
  ridgecv            4    .21571675    .21571675
  lassocv            5   -.16304899   -.16304899
  ridgecv            6    .07946416    .07946416
       rf            7    .44391531    .44391531
       rf            8    .13107311    .13107311
       rf            9   -.31875928   -.31875928
gradboost           10    .15864057    .15864057
gradboost           11    .15464672    .15464672
     nnet           12    .03884203    .03884203
     nnet           13    .01479704    .01479704

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .80335699          1   .1385058   .1385058 |
   2. | .47525826          2     .06581     .06581 |
   3. | .11618078          3   .1160818   .1160818 |
   4. | .17672993          4   .2157167   .2157167 |
   5. | .49817408          5   -.163049   -.163049 |
      |--------------------------------------------|
   6. | .92726233          6   .0794642   .0794642 |
   7. | .85032261          7   .4439153   .4439153 |
   8. | .87159129          8   .1310731   .1310731 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_ols_short_ia.dta not found)
file out_923/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23146519    .23146519
    logit            2    .07244678    .07244678
  lassocv            3    .13893313    .13893313
  ridgecv            4    .12336783    .12336783
  lassocv            5   -.03670491   -.03670491
  ridgecv            6   -.02670392   -.02670392
       rf            7    .36872584    .36872584
       rf            8     .1565415     .1565415
       rf            9    -.2380255    -.2380255
gradboost           10    .06151186    .06151186
gradboost           11    .19952304    .19952304
     nnet           12   -.03530757   -.03530757
     nnet           13    .02201393    .02201393

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01711077    .01711077
      ols            2            0   -.04787389   -.04787389
  lassocv            3            0    .05786351    .05786351
  ridgecv            4            0    .51478368    .51478368
  lassocv            5            0   -.07481209   -.07481209
  ridgecv            6            0    -.0729899    -.0729899
       rf            7            0    .65444472    .65444472
       rf            8            0   -.17359134   -.17359134
       rf            9            0    .10283998    .10283998
gradboost           10            0    .05693158    .05693158
gradboost           11            0    .09860595    .09860595
     nnet           12            0    .00086841    .00086841
     nnet           13            0   -.01374668   -.01374668
      ols            1            1     .0008895     .0008895
      ols            2            1   -.02283756   -.02283756
  lassocv            3            1   -.10026601   -.10026601
  ridgecv            4            1    .31582289    .31582289
  lassocv            5            1    .29371761    .29371761
  ridgecv            6            1   -.06249668   -.06249668
       rf            7            1    .54132018    .54132018
       rf            8            1     .3884768     .3884768
       rf            9            1   -.28790508   -.28790508
gradboost           10            1   -.05493411   -.05493411
gradboost           11            1    .05930842    .05930842
     nnet           12            1     .0159891     .0159891
     nnet           13            1    .00798814    .00798814

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23146519    .23146519
    logit            2    .07244678    .07244678
  lassocv            3    .13893313    .13893313
  ridgecv            4    .12336783    .12336783
  lassocv            5   -.03670491   -.03670491
  ridgecv            6   -.02670392   -.02670392
       rf            7    .36872584    .36872584
       rf            8     .1565415     .1565415
       rf            9    -.2380255    -.2380255
gradboost           10    .06151186    .06151186
gradboost           11    .19952304    .19952304
     nnet           12   -.03530757   -.03530757
     nnet           13    .02201393    .02201393

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01711077    .01711077
      ols            2            0   -.04787389   -.04787389
  lassocv            3            0    .05786351    .05786351
  ridgecv            4            0    .51478368    .51478368
  lassocv            5            0   -.07481209   -.07481209
  ridgecv            6            0    -.0729899    -.0729899
       rf            7            0    .65444472    .65444472
       rf            8            0   -.17359134   -.17359134
       rf            9            0    .10283998    .10283998
gradboost           10            0    .05693158    .05693158
gradboost           11            0    .09860595    .09860595
     nnet           12            0    .00086841    .00086841
     nnet           13            0   -.01374668   -.01374668
      ols            1            1     .0008895     .0008895
      ols            2            1   -.02283756   -.02283756
  lassocv            3            1   -.10026601   -.10026601
  ridgecv            4            1    .31582289    .31582289
  lassocv            5            1    .29371761    .29371761
  ridgecv            6            1   -.06249668   -.06249668
       rf            7            1    .54132018    .54132018
       rf            8            1     .3884768     .3884768
       rf            9            1   -.28790508   -.28790508
gradboost           10            1   -.05493411   -.05493411
gradboost           11            1    .05930842    .05930842
     nnet           12            1     .0159891     .0159891
     nnet           13            1    .00798814    .00798814

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01711077    .01711077
      ols            2            0   -.04787389   -.04787389
  lassocv            3            0    .05786351    .05786351
  ridgecv            4            0    .51478368    .51478368
  lassocv            5            0   -.07481209   -.07481209
  ridgecv            6            0    -.0729899    -.0729899
       rf            7            0    .65444472    .65444472
       rf            8            0   -.17359134   -.17359134
       rf            9            0    .10283998    .10283998
gradboost           10            0    .05693158    .05693158
gradboost           11            0    .09860595    .09860595
     nnet           12            0    .00086841    .00086841
     nnet           13            0   -.01374668   -.01374668
      ols            1            1     .0008895     .0008895
      ols            2            1   -.02283756   -.02283756
  lassocv            3            1   -.10026601   -.10026601
  ridgecv            4            1    .31582289    .31582289
  lassocv            5            1    .29371761    .29371761
  ridgecv            6            1   -.06249668   -.06249668
       rf            7            1    .54132018    .54132018
       rf            8            1     .3884768     .3884768
       rf            9            1   -.28790508   -.28790508
gradboost           10            1   -.05493411   -.05493411
gradboost           11            1    .05930842    .05930842
     nnet           12            1     .0159891     .0159891
     nnet           13            1    .00798814    .00798814

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7814779     3.07367          1          0    .0171108    .0171108 |
   2. |  3.264805   3.6259833          2          0   -.0478739   -.0478739 |
   3. | 3.0707695   3.2425493          3          0    .0578635    .0578635 |
   4. | 2.7046076   2.9273931          4          0    .5147837    .5147837 |
   5. | 3.3738041   3.5089598          5          0   -.0748121   -.0748121 |
      |---------------------------------------------------------------------|
   6. | 2.7838259   2.9833072          6          0   -.0729899   -.0729899 |
   7. | 2.6222355   2.9780757          7          0    .6544447    .6544447 |
   8. | 2.9172617   3.0397391          8          0   -.1735913   -.1735913 |
      +---------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_923/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23146519    .23146519
    logit            2    .07244678    .07244678
  lassocv            3    .13893313    .13893313
  ridgecv            4    .12336783    .12336783
  lassocv            5   -.03670491   -.03670491
  ridgecv            6   -.02670392   -.02670392
       rf            7    .36872584    .36872584
       rf            8     .1565415     .1565415
       rf            9    -.2380255    -.2380255
gradboost           10    .06151186    .06151186
gradboost           11    .19952304    .19952304
     nnet           12   -.03530757   -.03530757
     nnet           13    .02201393    .02201393

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01711077    .01711077
      ols            2            0   -.04787389   -.04787389
  lassocv            3            0    .05786351    .05786351
  ridgecv            4            0    .51478368    .51478368
  lassocv            5            0   -.07481209   -.07481209
  ridgecv            6            0    -.0729899    -.0729899
       rf            7            0    .65444472    .65444472
       rf            8            0   -.17359134   -.17359134
       rf            9            0    .10283998    .10283998
gradboost           10            0    .05693158    .05693158
gradboost           11            0    .09860595    .09860595
     nnet           12            0    .00086841    .00086841
     nnet           13            0   -.01374668   -.01374668
      ols            1            1     .0008895     .0008895
      ols            2            1   -.02283756   -.02283756
  lassocv            3            1   -.10026601   -.10026601
  ridgecv            4            1    .31582289    .31582289
  lassocv            5            1    .29371761    .29371761
  ridgecv            6            1   -.06249668   -.06249668
       rf            7            1    .54132018    .54132018
       rf            8            1     .3884768     .3884768
       rf            9            1   -.28790508   -.28790508
gradboost           10            1   -.05493411   -.05493411
gradboost           11            1    .05930842    .05930842
     nnet           12            1     .0159891     .0159891
     nnet           13            1    .00798814    .00798814

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .23146519    .23146519
    logit            2    .07244678    .07244678
  lassocv            3    .13893313    .13893313
  ridgecv            4    .12336783    .12336783
  lassocv            5   -.03670491   -.03670491
  ridgecv            6   -.02670392   -.02670392
       rf            7    .36872584    .36872584
       rf            8     .1565415     .1565415
       rf            9    -.2380255    -.2380255
gradboost           10    .06151186    .06151186
gradboost           11    .19952304    .19952304
     nnet           12   -.03530757   -.03530757
     nnet           13    .02201393    .02201393

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .75599315          1    .2314652    .2314652 |
   2. | .41595548          2    .0724468    .0724468 |
   3. | .08751436          3    .1389331    .1389331 |
   4. |  .1556946          4    .1233678    .1233678 |
   5. | .48166926          5   -.0367049   -.0367049 |
      |----------------------------------------------|
   6. | .90487414          6   -.0267039   -.0267039 |
   7. | .84843437          7    .3687258    .3687258 |
   8. | .87118867          8    .1565415    .1565415 |
      +----------------------------------------------+
(note: file out_923/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_923/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009374   .0163305    -6.18   0.000    -.1329445   -.0689303
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009374   .0163305    -6.18   0.000    -.1329445   -.0689303
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009374   .0163305    -6.18   0.000    -.1329445   -.0689303
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1009374   .0163305    -6.18   0.000    -.1329445   -.0689303
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_923/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_923/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_923/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_923/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_923/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6012568   2.7773339          1          0   .0769231   .0769231 |
   2. | 3.0684542   3.2201567          2          0   .0769231   .0769231 |
   3. | 2.6868488   2.8443182          3          0   .0769231   .0769231 |
   4. | 2.4555743   2.6123568          4          0   .0769231   .0769231 |
   5. | 3.0757958   3.1185081          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5911444    2.674483          6          0   .0769231   .0769231 |
   7. | 2.4347493   2.4600966          7          0   .0769231   .0769231 |
   8. | 2.7300184   2.7964416          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ss_avg_short_ia.dta not found)
file out_923/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .73679005          1   .0769231   .0769231 |
   2. | .42389489          2   .0769231   .0769231 |
   3. | .17014988          3   .0769231   .0769231 |
   4. | .30710256          4   .0769231   .0769231 |
   5. |  .5179018          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80254982          6   .0769231   .0769231 |
   7. | .75475445          7   .0769231   .0769231 |
   8. | .75645766          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ss_avg_short_ia.dta not found)
file out_923/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6012568   2.7773339          1          0   .0769231   .0769231 |
   2. | 3.0684542   3.2201567          2          0   .0769231   .0769231 |
   3. | 2.6868488   2.8443182          3          0   .0769231   .0769231 |
   4. | 2.4555743   2.6123568          4          0   .0769231   .0769231 |
   5. | 3.0757958   3.1185081          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5911444    2.674483          6          0   .0769231   .0769231 |
   7. | 2.4347493   2.4600966          7          0   .0769231   .0769231 |
   8. | 2.7300184   2.7964416          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_923/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_923/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .73679005          1   .0769231   .0769231 |
   2. | .42389489          2   .0769231   .0769231 |
   3. | .17014988          3   .0769231   .0769231 |
   4. | .30710256          4   .0769231   .0769231 |
   5. |  .5179018          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80254982          6   .0769231   .0769231 |
   7. | .75475445          7   .0769231   .0769231 |
   8. | .75645766          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_923/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_923/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0657918   .0622584    -1.06   0.291     -.187816    .0562324
------------------------------------------------------------------------------
Warning: 145 propensity scores trimmed to lower limit ..
Warning: 41 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1203164   .0163374    -7.36   0.000    -.1523371   -.0882958
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0589513    .034173    -1.73   0.085    -.1259291    .0080266
------------------------------------------------------------------------------
Warning: 102 propensity scores trimmed to lower limit ..
Warning: 21 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0828591   .0708472    -1.17   0.242    -.2217169    .0559988
------------------------------------------------------------------------------
Warning: 110 propensity scores trimmed to lower limit ..
Warning: 36 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0837321   .0435542    -1.92   0.055    -.1690967    .0016325
------------------------------------------------------------------------------
Warning: 109 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0959639   .1068865    -0.90   0.369    -.3054575    .1135298
------------------------------------------------------------------------------
Warning: 88 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0813002   .0187244    -4.34   0.000    -.1179994    -.044601
------------------------------------------------------------------------------
Warning: 5 propensity scores trimmed to lower limit ..
Warning: 1 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1037038   .0155559    -6.67   0.000    -.1341928   -.0732147
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1091638   .0149821    -7.29   0.000    -.1385282   -.0797994
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0785751   .0185765    -4.23   0.000    -.1149843   -.0421658
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0471095   .0384196    -1.23   0.220    -.1224105    .0281915
------------------------------------------------------------------------------
Warning: 84 propensity scores trimmed to lower limit ..
Warning: 22 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1213392   .0373238    -3.25   0.001    -.1944924   -.0481859
------------------------------------------------------------------------------
Warning: 10 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1638185   .2036687    -0.80   0.421    -.5630019    .2353649
------------------------------------------------------------------------------
Warning: 181 propensity scores trimmed to lower limit ..
Warning: 165 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_923/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.072    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.073    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0723916    .026617    -2.72   0.007    -.1245599   -.0202232
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_3928/inter_mse.dta not found)
file out_3928/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.154       0.156       0.155       0.139       0.142
>        0.156       0.164       0.174       0.159       0.144       0.155  
   D_gender_r_ps   1      0.154       0.155       0.154       0.139       0.142
>        0.156       0.164       0.174       0.159       0.144       0.155  
   D_gender_r_ss   1      0.154       0.155       0.155       0.139       0.142
>        0.156       0.164       0.174       0.159       0.143       0.154  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.228       0.164       0.133       0.156       0.
> 545       0.153       0.208       0.205       0.194       0.294       0.239  
    Y1_pystacked 1    1      0.174       0.166       0.170       0.316       0.
> 156       0.105       0.137       0.161       0.131       0.152       0.242  
     Y_lnearn_ps 0    1      8.298       8.276       8.180       8.296       8.
> 549       8.306       8.276       8.152       8.373       8.166       8.425  
     Y_lnearn_ps 1    1      7.490       7.327       7.551       7.500       7.
> 560       7.447       7.480       7.673       7.426       7.530       7.421  
     Y_lnearn_ss 0    1      0.224       0.161       0.131       0.155       0.
> 528       0.155       0.208       0.204       0.190       0.293       0.228  
     Y_lnearn_ss 1    1      0.172       0.164       0.170       0.315       0.
> 156       0.103       0.136       0.161       0.121       0.151       0.243  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15447483    .15600584    .15484207    .13912132
D_gender_r~s            1    .15418523    .15537074     .1542473    .13909319
D_gender_r~s            1    .15401452    .15495902    .15450284    .13910195

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .14219541    .15610444    .16411752    .17386516    .15872759
D_gender_r~s    .14212544    .15567199    .16427508    .17365554    .15850259
D_gender_r~s    .14154974    .15564666    .16441619    .17377764    .15885011

                    fold9       fold10
D1_pystacked    .14437677    .15539236
D_gender_r~s    .14396557    .15494592
D_gender_r~s    .14302313    .15432053
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1544748 | .1560058 | .1548421 | .1391213 | .1421954 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1561044 | .1641175 | .1738652 | .1587276 | .1443768 | .1553924 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1541852 | .1553707 | .1542473 | .1390932 | .1421254 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |  .155672 | .1642751 | .1736555 | .1585026 | .1439656 | .1549459 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1540145 |  .154959 | .1545028 |  .139102 | .1415497 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1556467 | .1644162 | .1737776 | .1588501 | .1430231 | .1543205 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_3928/gender_r_mse_inter_gender_mse.dta not found)
file out_3928/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.154       0.156       0.155       0.139       0.142
>        0.156       0.164       0.174       0.159       0.144       0.155  
   D_gender_r_ps   1      0.154       0.155       0.154       0.139       0.142
>        0.156       0.164       0.174       0.159       0.144       0.155  
   D_gender_r_ss   1      0.154       0.155       0.155       0.139       0.142
>        0.156       0.164       0.174       0.159       0.143       0.154  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.228       0.164       0.133       0.156       0.
> 545       0.153       0.208       0.205       0.194       0.294       0.239  
    Y1_pystacked 1    1      0.174       0.166       0.170       0.316       0.
> 156       0.105       0.137       0.161       0.131       0.152       0.242  
     Y_lnearn_ps 0    1      8.298       8.276       8.180       8.296       8.
> 549       8.306       8.276       8.152       8.373       8.166       8.425  
     Y_lnearn_ps 1    1      7.490       7.327       7.551       7.500       7.
> 560       7.447       7.480       7.673       7.426       7.530       7.421  
     Y_lnearn_ss 0    1      0.224       0.161       0.131       0.155       0.
> 528       0.155       0.208       0.204       0.190       0.293       0.228  
     Y_lnearn_ss 1    1      0.172       0.164       0.170       0.315       0.
> 156       0.103       0.136       0.161       0.121       0.151       0.243  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .22781039    .16393385    .13250943
Y1_pystacked            1            1    .17407772    .16567927    .17038994
 Y_lnearn_ps            0            1     8.297768     8.276347    8.1803471
 Y_lnearn_ps            1            1    7.4901809    7.3265842    7.5510108
 Y_lnearn_ss            0            1    .22422029    .16061277    .13107344
 Y_lnearn_ss            1            1    .17235551    .16445926    .16967981

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .15550005    .54463177    .15278683    .20826568    .20483578
Y1_pystacked    .31576101    .15571759    .10463107    .13713707    .16098802
 Y_lnearn_ps    8.2957312    8.5486203    8.3064057    8.2757065    8.1522079
 Y_lnearn_ps    7.4998938    7.5597501    7.4473326    7.4803418    7.6730055
 Y_lnearn_ss    .15546418    .52769086     .1553044    .20767755    .20417017
 Y_lnearn_ss    .31468824    .15558505    .10292248    .13619311    .16079831

                    fold8        fold9       fold10
Y1_pystacked    .19442528    .29375489    .23917139
Y1_pystacked    .13141888    .15208541    .24225216
 Y_lnearn_ps    8.3725767    8.1659944    8.4249265
 Y_lnearn_ps    7.4258398     7.530314    7.4209518
 Y_lnearn_ss    .19013856    .29268748    .22780098
 Y_lnearn_ss    .12093221    .15103323    .24253631
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2278104 | .1639339 | .1325094 | .1555001 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .5446318 | .1527868 | .2082657 | .2048358 | .1944253 | .2937549 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2391714     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1740777 | .1656793 | .1703899 |  .315761 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1557176 | .1046311 | .1371371 |  .160988 | .1314189 | .1520854 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2422522     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.297768 | 8.276347 | 8.180347 | 8.295732 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  8.54862 | 8.306406 | 8.275706 | 8.152208 | 8.372577 | 8.165995 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.424927     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.490181 | 7.326584 | 7.551011 | 7.499894 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  7.55975 | 7.447332 | 7.480342 | 7.673006 |  7.42584 | 7.530314 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.420952     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2242203 | .1606128 | .1310734 | .1554642 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .5276908 | .1553044 | .2076776 | .2041702 | .1901386 | .2926875 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      .227801     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1723555 | .1644593 | .1696798 | .3146882 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1555851 | .1029225 | .1361931 | .1607983 | .1209322 | .1510332 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2425363     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_3928/lnearn_mse_inter_lnearn_mse.dta not found)
file out_3928/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.072    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.073    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0723916    .026617    -2.72   0.007    -.1245599   -.0202232
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.072    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.073    (0.027)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.072304   .0265631    -2.72   0.006    -.1243667   -.0202413
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 6 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.072    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.073    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0723916    .026617    -2.72   0.007    -.1245599   -.0202232
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.073    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.072    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.073    (0.027)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0726443   .0266364    -2.73   0.006    -.1248507   -.0204378
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .23349372    .23349372
    logit            2    1.174e-16    1.174e-16
  lassocv            3    .12359088    .12359088
  ridgecv            4    .06034701    .06034701
  lassocv            5    .00173235    .00173235
  ridgecv            6    .02701312    .02701312
       rf            7    .29255125    .29255125
       rf            8    7.160e-17    7.160e-17
       rf            9    4.882e-17    4.882e-17
gradboost           10    .03427979    .03427979
gradboost           11    .20155356    .20155356
     nnet           12    3.308e-17    3.308e-17
     nnet           13    .02543833    .02543833

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02294265    .02294265
      ols            2            0    .01341479    .01341479
  lassocv            3            0    .05967174    .05967174
  ridgecv            4            0    .16613076    .16613076
  lassocv            5            0    .10503846    .10503846
  ridgecv            6            0    .01234864    .01234864
       rf            7            0    .41814164    .41814164
       rf            8            0    8.481e-17    8.481e-17
       rf            9            0    1.139e-16    1.139e-16
gradboost           10            0    .01300425    .01300425
gradboost           11            0    .16039157    .16039157
     nnet           12            0    .01536252    .01536252
     nnet           13            0      .013553      .013553
      ols            1            1    .01025352    .01025352
      ols            2            1    .00155888    .00155888
  lassocv            3            1    .20658432    .20658432
  ridgecv            4            1    .02943128    .02943128
  lassocv            5            1    .10707665    .10707665
  ridgecv            6            1    .02093119    .02093119
       rf            7            1    .49751195    .49751195
       rf            8            1    3.948e-17    3.948e-17
       rf            9            1    5.391e-17    5.391e-17
gradboost           10            1    .00785184    .00785184
gradboost           11            1    .07406303    .07406303
     nnet           12            1    .01860288    .01860288
     nnet           13            1    .02613445    .02613445

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .23349372    .23349372
    logit            2    1.174e-16    1.174e-16
  lassocv            3    .12359088    .12359088
  ridgecv            4    .06034701    .06034701
  lassocv            5    .00173235    .00173235
  ridgecv            6    .02701312    .02701312
       rf            7    .29255125    .29255125
       rf            8    7.160e-17    7.160e-17
       rf            9    4.882e-17    4.882e-17
gradboost           10    .03427979    .03427979
gradboost           11    .20155356    .20155356
     nnet           12    3.308e-17    3.308e-17
     nnet           13    .02543833    .02543833

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02294265    .02294265
      ols            2            0    .01341479    .01341479
  lassocv            3            0    .05967174    .05967174
  ridgecv            4            0    .16613076    .16613076
  lassocv            5            0    .10503846    .10503846
  ridgecv            6            0    .01234864    .01234864
       rf            7            0    .41814164    .41814164
       rf            8            0    8.481e-17    8.481e-17
       rf            9            0    1.139e-16    1.139e-16
gradboost           10            0    .01300425    .01300425
gradboost           11            0    .16039157    .16039157
     nnet           12            0    .01536252    .01536252
     nnet           13            0      .013553      .013553
      ols            1            1    .01025352    .01025352
      ols            2            1    .00155888    .00155888
  lassocv            3            1    .20658432    .20658432
  ridgecv            4            1    .02943128    .02943128
  lassocv            5            1    .10707665    .10707665
  ridgecv            6            1    .02093119    .02093119
       rf            7            1    .49751195    .49751195
       rf            8            1    3.948e-17    3.948e-17
       rf            9            1    5.391e-17    5.391e-17
gradboost           10            1    .00785184    .00785184
gradboost           11            1    .07406303    .07406303
     nnet           12            1    .01860288    .01860288
     nnet           13            1    .02613445    .02613445

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02294265    .02294265
      ols            2            0    .01341479    .01341479
  lassocv            3            0    .05967174    .05967174
  ridgecv            4            0    .16613076    .16613076
  lassocv            5            0    .10503846    .10503846
  ridgecv            6            0    .01234864    .01234864
       rf            7            0    .41814164    .41814164
       rf            8            0    8.481e-17    8.481e-17
       rf            9            0    1.139e-16    1.139e-16
gradboost           10            0    .01300425    .01300425
gradboost           11            0    .16039157    .16039157
     nnet           12            0    .01536252    .01536252
     nnet           13            0      .013553      .013553
      ols            1            1    .01025352    .01025352
      ols            2            1    .00155888    .00155888
  lassocv            3            1    .20658432    .20658432
  ridgecv            4            1    .02943128    .02943128
  lassocv            5            1    .10707665    .10707665
  ridgecv            6            1    .02093119    .02093119
       rf            7            1    .49751195    .49751195
       rf            8            1    3.948e-17    3.948e-17
       rf            9            1    5.391e-17    5.391e-17
gradboost           10            1    .00785184    .00785184
gradboost           11            1    .07406303    .07406303
     nnet           12            1    .01860288    .01860288
     nnet           13            1    .02613445    .02613445

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0229427   .0229427 |
   2. |        2          0   .0134148   .0134148 |
   3. |        3          0   .0596717   .0596717 |
   4. |        4          0   .1661308   .1661308 |
   5. |        5          0   .1050385   .1050385 |
      |-------------------------------------------|
   6. |        6          0   .0123486   .0123486 |
   7. |        7          0   .4181416   .4181416 |
   8. |        8          0   8.48e-17   8.48e-17 |
      +-------------------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_3928/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .23349372    .23349372
    logit            2    1.174e-16    1.174e-16
  lassocv            3    .12359088    .12359088
  ridgecv            4    .06034701    .06034701
  lassocv            5    .00173235    .00173235
  ridgecv            6    .02701312    .02701312
       rf            7    .29255125    .29255125
       rf            8    7.160e-17    7.160e-17
       rf            9    4.882e-17    4.882e-17
gradboost           10    .03427979    .03427979
gradboost           11    .20155356    .20155356
     nnet           12    3.308e-17    3.308e-17
     nnet           13    .02543833    .02543833

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02294265    .02294265
      ols            2            0    .01341479    .01341479
  lassocv            3            0    .05967174    .05967174
  ridgecv            4            0    .16613076    .16613076
  lassocv            5            0    .10503846    .10503846
  ridgecv            6            0    .01234864    .01234864
       rf            7            0    .41814164    .41814164
       rf            8            0    8.481e-17    8.481e-17
       rf            9            0    1.139e-16    1.139e-16
gradboost           10            0    .01300425    .01300425
gradboost           11            0    .16039157    .16039157
     nnet           12            0    .01536252    .01536252
     nnet           13            0      .013553      .013553
      ols            1            1    .01025352    .01025352
      ols            2            1    .00155888    .00155888
  lassocv            3            1    .20658432    .20658432
  ridgecv            4            1    .02943128    .02943128
  lassocv            5            1    .10707665    .10707665
  ridgecv            6            1    .02093119    .02093119
       rf            7            1    .49751195    .49751195
       rf            8            1    3.948e-17    3.948e-17
       rf            9            1    5.391e-17    5.391e-17
gradboost           10            1    .00785184    .00785184
gradboost           11            1    .07406303    .07406303
     nnet           12            1    .01860288    .01860288
     nnet           13            1    .02613445    .02613445

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .23349372    .23349372
    logit            2    1.174e-16    1.174e-16
  lassocv            3    .12359088    .12359088
  ridgecv            4    .06034701    .06034701
  lassocv            5    .00173235    .00173235
  ridgecv            6    .02701312    .02701312
       rf            7    .29255125    .29255125
       rf            8    7.160e-17    7.160e-17
       rf            9    4.882e-17    4.882e-17
gradboost           10    .03427979    .03427979
gradboost           11    .20155356    .20155356
     nnet           12    3.308e-17    3.308e-17
     nnet           13    .02543833    .02543833

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2334937   .2334937 |
   2. |        2   1.17e-16   1.17e-16 |
   3. |        3   .1235909   .1235909 |
   4. |        4    .060347    .060347 |
   5. |        5   .0017323   .0017323 |
      |--------------------------------|
   6. |        6   .0270131   .0270131 |
   7. |        7   .2925512   .2925512 |
   8. |        8   7.16e-17   7.16e-17 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_3928/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2097057     .2097057
    logit            2            0            0
  lassocv            3    .03376812    .03376812
  ridgecv            4    .11264179    .11264179
  lassocv            5    2.056e-17    2.056e-17
  ridgecv            6            0            0
       rf            7    .29605338    .29605338
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .29476671    .29476671
     nnet           12    2.252e-16    2.252e-16
     nnet           13    .05306429    .05306429

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00390956    .00390956
      ols            2            0    5.173e-17    5.173e-17
  lassocv            3            0    8.072e-17    8.072e-17
  ridgecv            4            0    .28981671    .28981671
  lassocv            5            0    4.409e-17    4.409e-17
  ridgecv            6            0    3.011e-17    3.011e-17
       rf            7            0    .47669303    .47669303
       rf            8            0    3.701e-17    3.701e-17
       rf            9            0    1.147e-16    1.147e-16
gradboost           10            0    3.150e-17    3.150e-17
gradboost           11            0    .20268868    .20268868
     nnet           12            0    1.869e-17    1.869e-17
     nnet           13            0    .02689202    .02689202
      ols            1            1    1.342e-17    1.342e-17
      ols            2            1    1.237e-16    1.237e-16
  lassocv            3            1    .17388132    .17388132
  ridgecv            4            1    8.016e-17    8.016e-17
  lassocv            5            1    .22105816    .22105816
  ridgecv            6            1    .04372492    .04372492
       rf            7            1    .47485701    .47485701
       rf            8            1    5.612e-17    5.612e-17
       rf            9            1    2.835e-17    2.835e-17
gradboost           10            1            0            0
gradboost           11            1    .06251774    .06251774
     nnet           12            1            0            0
     nnet           13            1    .02396084    .02396084

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2097057     .2097057
    logit            2            0            0
  lassocv            3    .03376812    .03376812
  ridgecv            4    .11264179    .11264179
  lassocv            5    2.056e-17    2.056e-17
  ridgecv            6            0            0
       rf            7    .29605338    .29605338
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .29476671    .29476671
     nnet           12    2.252e-16    2.252e-16
     nnet           13    .05306429    .05306429

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00390956    .00390956
      ols            2            0    5.173e-17    5.173e-17
  lassocv            3            0    8.072e-17    8.072e-17
  ridgecv            4            0    .28981671    .28981671
  lassocv            5            0    4.409e-17    4.409e-17
  ridgecv            6            0    3.011e-17    3.011e-17
       rf            7            0    .47669303    .47669303
       rf            8            0    3.701e-17    3.701e-17
       rf            9            0    1.147e-16    1.147e-16
gradboost           10            0    3.150e-17    3.150e-17
gradboost           11            0    .20268868    .20268868
     nnet           12            0    1.869e-17    1.869e-17
     nnet           13            0    .02689202    .02689202
      ols            1            1    1.342e-17    1.342e-17
      ols            2            1    1.237e-16    1.237e-16
  lassocv            3            1    .17388132    .17388132
  ridgecv            4            1    8.016e-17    8.016e-17
  lassocv            5            1    .22105816    .22105816
  ridgecv            6            1    .04372492    .04372492
       rf            7            1    .47485701    .47485701
       rf            8            1    5.612e-17    5.612e-17
       rf            9            1    2.835e-17    2.835e-17
gradboost           10            1            0            0
gradboost           11            1    .06251774    .06251774
     nnet           12            1            0            0
     nnet           13            1    .02396084    .02396084

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00390956    .00390956
      ols            2            0    5.173e-17    5.173e-17
  lassocv            3            0    8.072e-17    8.072e-17
  ridgecv            4            0    .28981671    .28981671
  lassocv            5            0    4.409e-17    4.409e-17
  ridgecv            6            0    3.011e-17    3.011e-17
       rf            7            0    .47669303    .47669303
       rf            8            0    3.701e-17    3.701e-17
       rf            9            0    1.147e-16    1.147e-16
gradboost           10            0    3.150e-17    3.150e-17
gradboost           11            0    .20268868    .20268868
     nnet           12            0    1.869e-17    1.869e-17
     nnet           13            0    .02689202    .02689202
      ols            1            1    1.342e-17    1.342e-17
      ols            2            1    1.237e-16    1.237e-16
  lassocv            3            1    .17388132    .17388132
  ridgecv            4            1    8.016e-17    8.016e-17
  lassocv            5            1    .22105816    .22105816
  ridgecv            6            1    .04372492    .04372492
       rf            7            1    .47485701    .47485701
       rf            8            1    5.612e-17    5.612e-17
       rf            9            1    2.835e-17    2.835e-17
gradboost           10            1            0            0
gradboost           11            1    .06251774    .06251774
     nnet           12            1            0            0
     nnet           13            1    .02396084    .02396084

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5372999   2.6920912          1          0   .0039096   .0039096 |
   2. | 2.9921997   3.2774735          2          0   5.17e-17   5.17e-17 |
   3. | 2.8322508   2.8517121          3          0   8.07e-17   8.07e-17 |
   4. | 2.4713084   2.5936788          4          0   .2898167   .2898167 |
   5. | 3.0957629   3.0963782          5          0   4.41e-17   4.41e-17 |
      |-------------------------------------------------------------------|
   6. | 2.5668517   2.6564477          6          0   3.01e-17   3.01e-17 |
   7. | 2.4058147   2.7317166          7          0    .476693    .476693 |
   8. | 2.6005277    2.715041          8          0   3.70e-17   3.70e-17 |
      +-------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_3928/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2097057     .2097057
    logit            2            0            0
  lassocv            3    .03376812    .03376812
  ridgecv            4    .11264179    .11264179
  lassocv            5    2.056e-17    2.056e-17
  ridgecv            6            0            0
       rf            7    .29605338    .29605338
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .29476671    .29476671
     nnet           12    2.252e-16    2.252e-16
     nnet           13    .05306429    .05306429

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00390956    .00390956
      ols            2            0    5.173e-17    5.173e-17
  lassocv            3            0    8.072e-17    8.072e-17
  ridgecv            4            0    .28981671    .28981671
  lassocv            5            0    4.409e-17    4.409e-17
  ridgecv            6            0    3.011e-17    3.011e-17
       rf            7            0    .47669303    .47669303
       rf            8            0    3.701e-17    3.701e-17
       rf            9            0    1.147e-16    1.147e-16
gradboost           10            0    3.150e-17    3.150e-17
gradboost           11            0    .20268868    .20268868
     nnet           12            0    1.869e-17    1.869e-17
     nnet           13            0    .02689202    .02689202
      ols            1            1    1.342e-17    1.342e-17
      ols            2            1    1.237e-16    1.237e-16
  lassocv            3            1    .17388132    .17388132
  ridgecv            4            1    8.016e-17    8.016e-17
  lassocv            5            1    .22105816    .22105816
  ridgecv            6            1    .04372492    .04372492
       rf            7            1    .47485701    .47485701
       rf            8            1    5.612e-17    5.612e-17
       rf            9            1    2.835e-17    2.835e-17
gradboost           10            1            0            0
gradboost           11            1    .06251774    .06251774
     nnet           12            1            0            0
     nnet           13            1    .02396084    .02396084

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1     .2097057     .2097057
    logit            2            0            0
  lassocv            3    .03376812    .03376812
  ridgecv            4    .11264179    .11264179
  lassocv            5    2.056e-17    2.056e-17
  ridgecv            6            0            0
       rf            7    .29605338    .29605338
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .29476671    .29476671
     nnet           12    2.252e-16    2.252e-16
     nnet           13    .05306429    .05306429

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77663061          1   .2097057   .2097057 |
   2. | .43194384          2          0          0 |
   3. | .09617756          3   .0337681   .0337681 |
   4. | .19963809          4   .1126418   .1126418 |
   5. | .54287984          5   2.06e-17   2.06e-17 |
      |--------------------------------------------|
   6. | .89204939          6          0          0 |
   7. | .78620628          7   .2960534   .2960534 |
   8. | .85568445          8          0          0 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_3928/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25125354    .25125354
    logit            2    5.663e-17    5.663e-17
  lassocv            3     .1392684     .1392684
  ridgecv            4    .08066563    .08066563
  lassocv            5    2.771e-16    2.771e-16
  ridgecv            6    2.680e-16    2.680e-16
       rf            7     .3053957     .3053957
       rf            8    1.186e-17    1.186e-17
       rf            9    1.614e-16    1.614e-16
gradboost           10    .00966129    .00966129
gradboost           11    .21375544    .21375544
     nnet           12    3.113e-17    3.113e-17
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01347536    .01347536
      ols            2            0            0            0
  lassocv            3            0    .19261953    .19261953
  ridgecv            4            0    .14873629    .14873629
  lassocv            5            0     .0025711     .0025711
  ridgecv            6            0            0            0
       rf            7            0    .45313877    .45313877
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17234326    .17234326
     nnet           12            0            0            0
     nnet           13            0     .0171157     .0171157
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .28110566    .28110566
  ridgecv            4            1    .04785752    .04785752
  lassocv            5            1    .05346216    .05346216
  ridgecv            6            1    .00779347    .00779347
       rf            7            1    .50842935    .50842935
       rf            8            1    1.423e-16    1.423e-16
       rf            9            1    5.284e-16    5.284e-16
gradboost           10            1            0            0
gradboost           11            1    .08094535    .08094535
     nnet           12            1            0            0
     nnet           13            1    .02040648    .02040648

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25125354    .25125354
    logit            2    5.663e-17    5.663e-17
  lassocv            3     .1392684     .1392684
  ridgecv            4    .08066563    .08066563
  lassocv            5    2.771e-16    2.771e-16
  ridgecv            6    2.680e-16    2.680e-16
       rf            7     .3053957     .3053957
       rf            8    1.186e-17    1.186e-17
       rf            9    1.614e-16    1.614e-16
gradboost           10    .00966129    .00966129
gradboost           11    .21375544    .21375544
     nnet           12    3.113e-17    3.113e-17
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01347536    .01347536
      ols            2            0            0            0
  lassocv            3            0    .19261953    .19261953
  ridgecv            4            0    .14873629    .14873629
  lassocv            5            0     .0025711     .0025711
  ridgecv            6            0            0            0
       rf            7            0    .45313877    .45313877
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17234326    .17234326
     nnet           12            0            0            0
     nnet           13            0     .0171157     .0171157
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .28110566    .28110566
  ridgecv            4            1    .04785752    .04785752
  lassocv            5            1    .05346216    .05346216
  ridgecv            6            1    .00779347    .00779347
       rf            7            1    .50842935    .50842935
       rf            8            1    1.423e-16    1.423e-16
       rf            9            1    5.284e-16    5.284e-16
gradboost           10            1            0            0
gradboost           11            1    .08094535    .08094535
     nnet           12            1            0            0
     nnet           13            1    .02040648    .02040648

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01347536    .01347536
      ols            2            0            0            0
  lassocv            3            0    .19261953    .19261953
  ridgecv            4            0    .14873629    .14873629
  lassocv            5            0     .0025711     .0025711
  ridgecv            6            0            0            0
       rf            7            0    .45313877    .45313877
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17234326    .17234326
     nnet           12            0            0            0
     nnet           13            0     .0171157     .0171157
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .28110566    .28110566
  ridgecv            4            1    .04785752    .04785752
  lassocv            5            1    .05346216    .05346216
  ridgecv            6            1    .00779347    .00779347
       rf            7            1    .50842935    .50842935
       rf            8            1    1.423e-16    1.423e-16
       rf            9            1    5.284e-16    5.284e-16
gradboost           10            1            0            0
gradboost           11            1    .08094535    .08094535
     nnet           12            1            0            0
     nnet           13            1    .02040648    .02040648

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5397638    2.675628          1          0   .0134754   .0134754 |
   2. | 2.9839306    3.282268          2          0          0          0 |
   3. | 2.8266541   2.8372948          3          0   .1926195   .1926195 |
   4. | 2.4654449   2.5883994          4          0   .1487363   .1487363 |
   5. | 3.0950945   3.0996561          5          0   .0025711   .0025711 |
      |-------------------------------------------------------------------|
   6. | 2.5596584    2.642205          6          0          0          0 |
   7. | 2.3856356   2.6945489          7          0   .4531388   .4531388 |
   8. | 2.6003507   2.7070601          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_3928/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25125354    .25125354
    logit            2    5.663e-17    5.663e-17
  lassocv            3     .1392684     .1392684
  ridgecv            4    .08066563    .08066563
  lassocv            5    2.771e-16    2.771e-16
  ridgecv            6    2.680e-16    2.680e-16
       rf            7     .3053957     .3053957
       rf            8    1.186e-17    1.186e-17
       rf            9    1.614e-16    1.614e-16
gradboost           10    .00966129    .00966129
gradboost           11    .21375544    .21375544
     nnet           12    3.113e-17    3.113e-17
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01347536    .01347536
      ols            2            0            0            0
  lassocv            3            0    .19261953    .19261953
  ridgecv            4            0    .14873629    .14873629
  lassocv            5            0     .0025711     .0025711
  ridgecv            6            0            0            0
       rf            7            0    .45313877    .45313877
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17234326    .17234326
     nnet           12            0            0            0
     nnet           13            0     .0171157     .0171157
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .28110566    .28110566
  ridgecv            4            1    .04785752    .04785752
  lassocv            5            1    .05346216    .05346216
  ridgecv            6            1    .00779347    .00779347
       rf            7            1    .50842935    .50842935
       rf            8            1    1.423e-16    1.423e-16
       rf            9            1    5.284e-16    5.284e-16
gradboost           10            1            0            0
gradboost           11            1    .08094535    .08094535
     nnet           12            1            0            0
     nnet           13            1    .02040648    .02040648

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .25125354    .25125354
    logit            2    5.663e-17    5.663e-17
  lassocv            3     .1392684     .1392684
  ridgecv            4    .08066563    .08066563
  lassocv            5    2.771e-16    2.771e-16
  ridgecv            6    2.680e-16    2.680e-16
       rf            7     .3053957     .3053957
       rf            8    1.186e-17    1.186e-17
       rf            9    1.614e-16    1.614e-16
gradboost           10    .00966129    .00966129
gradboost           11    .21375544    .21375544
     nnet           12    3.113e-17    3.113e-17
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76672862          1   .2512535   .2512535 |
   2. | .40650497          2   5.66e-17   5.66e-17 |
   3. | .09641115          3   .1392684   .1392684 |
   4. | .19919187          4   .0806656   .0806656 |
   5. | .53350347          5   2.77e-16   2.77e-16 |
      |--------------------------------------------|
   6. | .88560659          6   2.68e-16   2.68e-16 |
   7. |   .801643          7   .3053957   .3053957 |
   8. | .83893822          8   1.19e-17   1.19e-17 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_3928/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.029    (0.088)
  ss  1  [shortstack]          [ss]          [ss]    -0.001    (0.081)
  ps  1   [poolstack]          [ps]          [ps]    -0.001    (0.081)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0007709   .0808121    -0.01   0.992    -.1591596    .1576179
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 82 propensity scores trimmed to lower limit .01.
Warning: 16 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.029    (0.088)
  ss  1  [shortstack]          [ss]          [ss]    -0.001    (0.081)
  ps  1   [poolstack]          [ps]          [ps]    -0.001    (0.081)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0285534   .0875214     0.33   0.744    -.1429854    .2000923
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 64 propensity scores trimmed to lower limit .01.
Warning: 11 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.001    (0.081)
  ss  1  [shortstack]          [ss]          [ss]    -0.001    (0.081)
  ps  1   [poolstack]          [ps]          [ps]    -0.001    (0.081)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0007709   .0808121    -0.01   0.992    -.1591596    .1576179
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 82 propensity scores trimmed to lower limit .01.
Warning: 16 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.001    (0.081)
  ss  1  [shortstack]          [ss]          [ss]    -0.001    (0.081)
  ps  1   [poolstack]          [ps]          [ps]    -0.001    (0.081)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0007709   .0808121    -0.01   0.992    -.1591596    .1576179
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 82 propensity scores trimmed to lower limit .01.
Warning: 16 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0          0          0 |
   4. |        4          0         .1         .1 |
   5. |        5          0         .1         .1 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .8         .8 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_3928/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0           .1           .1
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .8         .8 |
   4. |        4         .1         .1 |
   5. |        5          0          0 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7         .1         .1 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_3928/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5118794   2.7528937          1          0          0          0 |
   2. | 2.8923905   3.2184176          2          0          0          0 |
   3. | 2.9168916   2.9038236          3          0          0          0 |
   4. | 2.5131216   2.6478825          4          0          0          0 |
   5. | 3.0616705   3.1144109          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5120332   2.6416435          6          0          0          0 |
   7. | 2.5162961   2.8007903          7          0          1          1 |
   8. | 2.6071784   2.7215791          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_3928/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72450328          1          0          0 |
   2. | .33522227          2          0          0 |
   3. | .02521066          3          1          1 |
   4. | .24730569          4          0          0 |
   5. |   .555399          5          0          0 |
      |--------------------------------------------|
   6. | .87178385          6          0          0 |
   7. | .86414778          7          0          0 |
   8. | .67848366          8          0          0 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_3928/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5118794   2.7528937          1          0          0          0 |
   2. | 2.8923905   3.2184176          2          0          0          0 |
   3. | 2.9168916   2.9038236          3          0          0          0 |
   4. | 2.5131216   2.6478825          4          0          0          0 |
   5. | 3.0616705   3.1144109          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5120332   2.6416435          6          0          0          0 |
   7. | 2.5162961   2.8007903          7          0          1          1 |
   8. | 2.6071784   2.7215791          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_3928/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72450328          1          0          0 |
   2. | .33522227          2          0          0 |
   3. | .02521066          3          1          1 |
   4. | .24730569          4          0          0 |
   5. |   .555399          5          0          0 |
      |--------------------------------------------|
   6. | .87178385          6          0          0 |
   7. | .86414778          7          0          0 |
   8. | .67848366          8          0          0 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_3928/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.662    (0.271)
  ss  1  [shortstack]          [ss]          [ss]    -0.111    (0.055)
  ps  1   [poolstack]          [ps]          [ps]     0.135    (0.094)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1109417   .0547374    -2.03   0.043     -.218225   -.0036584
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 244 propensity scores trimmed to lower limit .01.
Warning: 14 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.662    (0.271)
  ss  1  [shortstack]          [ss]          [ss]    -0.111    (0.055)
  ps  1   [poolstack]          [ps]          [ps]     0.135    (0.094)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.6623405   .2714189    -2.44   0.015    -1.194312   -.1303691
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2689 propensity scores trimmed to lower limit .01.
Warning: 1050 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.111    (0.055)
  ss  1  [shortstack]          [ss]          [ss]    -0.111    (0.055)
  ps  1   [poolstack]          [ps]          [ps]     0.135    (0.094)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1109417   .0547374    -2.03   0.043     -.218225   -.0036584
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 244 propensity scores trimmed to lower limit .01.
Warning: 14 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.135    (0.094)
  ss  1  [shortstack]          [ss]          [ss]    -0.111    (0.055)
  ps  1   [poolstack]          [ps]          [ps]     0.135    (0.094)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .1352565    .093982     1.44   0.150    -.0489448    .3194578
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 8 propensity scores trimmed to lower limit .01.
Warning: 306 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19840792    .19840792
    logit            2    .08903647    .08903647
  lassocv            3     .3629891     .3629891
  ridgecv            4    .05533048    .05533048
  lassocv            5   -.28562399   -.28562399
  ridgecv            6    .12852725    .12852725
       rf            7    .42661721    .42661721
       rf            8    .14393148    .14393148
       rf            9   -.28711787   -.28711787
gradboost           10    .12065642    .12065642
gradboost           11    .12540297    .12540297
     nnet           12   -1.0942962   -1.0942962
     nnet           13   -.00044119   -.00044119

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02415616    .02415616
      ols            2            0   -.04306526   -.04306526
  lassocv            3            0   -.13601085   -.13601085
  ridgecv            4            0    .56690461    .56690461
  lassocv            5            0    .08878922    .08878922
  ridgecv            6            0    -.0959103    -.0959103
       rf            7            0     .6443549     .6443549
       rf            8            0    .07760361    .07760361
       rf            9            0   -.17219187   -.17219187
gradboost           10            0    -.0019413    -.0019413
gradboost           11            0    .10018012    .10018012
     nnet           12            0    .06065523    .06065523
     nnet           13            0    .00718894    .00718894
      ols            1            1   -.00943273   -.00943273
      ols            2            1   -.01155138   -.01155138
  lassocv            3            1    .04099001    .04099001
  ridgecv            4            1    .25909461    .25909461
  lassocv            5            1    .19545425    .19545425
  ridgecv            6            1   -.06033519   -.06033519
       rf            7            1    .49907375    .49907375
       rf            8            1     .5785336     .5785336
       rf            9            1   -.49604544   -.49604544
gradboost           10            1   -.03325323   -.03325323
gradboost           11            1    .05632126    .05632126
     nnet           12            1    -.1332347    -.1332347
     nnet           13            1    .01422961    .01422961

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19840792    .19840792
    logit            2    .08903647    .08903647
  lassocv            3     .3629891     .3629891
  ridgecv            4    .05533048    .05533048
  lassocv            5   -.28562399   -.28562399
  ridgecv            6    .12852725    .12852725
       rf            7    .42661721    .42661721
       rf            8    .14393148    .14393148
       rf            9   -.28711787   -.28711787
gradboost           10    .12065642    .12065642
gradboost           11    .12540297    .12540297
     nnet           12   -1.0942962   -1.0942962
     nnet           13   -.00044119   -.00044119

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02415616    .02415616
      ols            2            0   -.04306526   -.04306526
  lassocv            3            0   -.13601085   -.13601085
  ridgecv            4            0    .56690461    .56690461
  lassocv            5            0    .08878922    .08878922
  ridgecv            6            0    -.0959103    -.0959103
       rf            7            0     .6443549     .6443549
       rf            8            0    .07760361    .07760361
       rf            9            0   -.17219187   -.17219187
gradboost           10            0    -.0019413    -.0019413
gradboost           11            0    .10018012    .10018012
     nnet           12            0    .06065523    .06065523
     nnet           13            0    .00718894    .00718894
      ols            1            1   -.00943273   -.00943273
      ols            2            1   -.01155138   -.01155138
  lassocv            3            1    .04099001    .04099001
  ridgecv            4            1    .25909461    .25909461
  lassocv            5            1    .19545425    .19545425
  ridgecv            6            1   -.06033519   -.06033519
       rf            7            1    .49907375    .49907375
       rf            8            1     .5785336     .5785336
       rf            9            1   -.49604544   -.49604544
gradboost           10            1   -.03325323   -.03325323
gradboost           11            1    .05632126    .05632126
     nnet           12            1    -.1332347    -.1332347
     nnet           13            1    .01422961    .01422961

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02415616    .02415616
      ols            2            0   -.04306526   -.04306526
  lassocv            3            0   -.13601085   -.13601085
  ridgecv            4            0    .56690461    .56690461
  lassocv            5            0    .08878922    .08878922
  ridgecv            6            0    -.0959103    -.0959103
       rf            7            0     .6443549     .6443549
       rf            8            0    .07760361    .07760361
       rf            9            0   -.17219187   -.17219187
gradboost           10            0    -.0019413    -.0019413
gradboost           11            0    .10018012    .10018012
     nnet           12            0    .06065523    .06065523
     nnet           13            0    .00718894    .00718894
      ols            1            1   -.00943273   -.00943273
      ols            2            1   -.01155138   -.01155138
  lassocv            3            1    .04099001    .04099001
  ridgecv            4            1    .25909461    .25909461
  lassocv            5            1    .19545425    .19545425
  ridgecv            6            1   -.06033519   -.06033519
       rf            7            1    .49907375    .49907375
       rf            8            1     .5785336     .5785336
       rf            9            1   -.49604544   -.49604544
gradboost           10            1   -.03325323   -.03325323
gradboost           11            1    .05632126    .05632126
     nnet           12            1    -.1332347    -.1332347
     nnet           13            1    .01422961    .01422961

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0241562    .0241562 |
   2. |        2          0   -.0430653   -.0430653 |
   3. |        3          0   -.1360108   -.1360108 |
   4. |        4          0    .5669046    .5669046 |
   5. |        5          0    .0887892    .0887892 |
      |---------------------------------------------|
   6. |        6          0   -.0959103   -.0959103 |
   7. |        7          0    .6443549    .6443549 |
   8. |        8          0    .0776036    .0776036 |
      +---------------------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_3928/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19840792    .19840792
    logit            2    .08903647    .08903647
  lassocv            3     .3629891     .3629891
  ridgecv            4    .05533048    .05533048
  lassocv            5   -.28562399   -.28562399
  ridgecv            6    .12852725    .12852725
       rf            7    .42661721    .42661721
       rf            8    .14393148    .14393148
       rf            9   -.28711787   -.28711787
gradboost           10    .12065642    .12065642
gradboost           11    .12540297    .12540297
     nnet           12   -1.0942962   -1.0942962
     nnet           13   -.00044119   -.00044119

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02415616    .02415616
      ols            2            0   -.04306526   -.04306526
  lassocv            3            0   -.13601085   -.13601085
  ridgecv            4            0    .56690461    .56690461
  lassocv            5            0    .08878922    .08878922
  ridgecv            6            0    -.0959103    -.0959103
       rf            7            0     .6443549     .6443549
       rf            8            0    .07760361    .07760361
       rf            9            0   -.17219187   -.17219187
gradboost           10            0    -.0019413    -.0019413
gradboost           11            0    .10018012    .10018012
     nnet           12            0    .06065523    .06065523
     nnet           13            0    .00718894    .00718894
      ols            1            1   -.00943273   -.00943273
      ols            2            1   -.01155138   -.01155138
  lassocv            3            1    .04099001    .04099001
  ridgecv            4            1    .25909461    .25909461
  lassocv            5            1    .19545425    .19545425
  ridgecv            6            1   -.06033519   -.06033519
       rf            7            1    .49907375    .49907375
       rf            8            1     .5785336     .5785336
       rf            9            1   -.49604544   -.49604544
gradboost           10            1   -.03325323   -.03325323
gradboost           11            1    .05632126    .05632126
     nnet           12            1    -.1332347    -.1332347
     nnet           13            1    .01422961    .01422961

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .19840792    .19840792
    logit            2    .08903647    .08903647
  lassocv            3     .3629891     .3629891
  ridgecv            4    .05533048    .05533048
  lassocv            5   -.28562399   -.28562399
  ridgecv            6    .12852725    .12852725
       rf            7    .42661721    .42661721
       rf            8    .14393148    .14393148
       rf            9   -.28711787   -.28711787
gradboost           10    .12065642    .12065642
gradboost           11    .12540297    .12540297
     nnet           12   -1.0942962   -1.0942962
     nnet           13   -.00044119   -.00044119

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .1984079   .1984079 |
   2. |        2   .0890365   .0890365 |
   3. |        3   .3629891   .3629891 |
   4. |        4   .0553305   .0553305 |
   5. |        5   -.285624   -.285624 |
      |--------------------------------|
   6. |        6   .1285273   .1285273 |
   7. |        7   .4266172   .4266172 |
   8. |        8   .1439315   .1439315 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_3928/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19046824    .19046824
    logit            2    .08453925    .08453925
  lassocv            3    .21169184    .21169184
  ridgecv            4    .14799892    .14799892
  lassocv            5   -.33564103   -.33564103
  ridgecv            6    .15783837    .15783837
       rf            7    .47806137    .47806137
       rf            8    .21452011    .21452011
       rf            9   -.37560631   -.37560631
gradboost           10    .00812253    .00812253
gradboost           11    .23274019    .23274019
     nnet           12   -.08323792   -.08323792
     nnet           13     .0397753     .0397753

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02174727    .02174727
      ols            2            0   -.08852241   -.08852241
  lassocv            3            0   -.28054789   -.28054789
  ridgecv            4            0    .90145157    .90145157
  lassocv            5            0    .00608807    .00608807
  ridgecv            6            0   -.23251368   -.23251368
       rf            7            0     .7253165     .7253165
       rf            8            0   -.27293959   -.27293959
       rf            9            0    .26541936    .26541936
gradboost           10            0    -.0769879    -.0769879
gradboost           11            0    .16377858    .16377858
     nnet           12            0    .01915059    .01915059
     nnet           13            0    .02054739    .02054739
      ols            1            1   -.00253439   -.00253439
      ols            2            1   -.03634918   -.03634918
  lassocv            3            1   -.04079024   -.04079024
  ridgecv            4            1     .3461995     .3461995
  lassocv            5            1    .34077836    .34077836
  ridgecv            6            1   -.10476439   -.10476439
       rf            7            1    .58151451    .58151451
       rf            8            1   -.34759832   -.34759832
       rf            9            1    .46150965    .46150965
gradboost           10            1   -.08687923   -.08687923
gradboost           11            1    .04472599    .04472599
     nnet           12            1    .01184073    .01184073
     nnet           13            1    .01955432    .01955432

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19046824    .19046824
    logit            2    .08453925    .08453925
  lassocv            3    .21169184    .21169184
  ridgecv            4    .14799892    .14799892
  lassocv            5   -.33564103   -.33564103
  ridgecv            6    .15783837    .15783837
       rf            7    .47806137    .47806137
       rf            8    .21452011    .21452011
       rf            9   -.37560631   -.37560631
gradboost           10    .00812253    .00812253
gradboost           11    .23274019    .23274019
     nnet           12   -.08323792   -.08323792
     nnet           13     .0397753     .0397753

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02174727    .02174727
      ols            2            0   -.08852241   -.08852241
  lassocv            3            0   -.28054789   -.28054789
  ridgecv            4            0    .90145157    .90145157
  lassocv            5            0    .00608807    .00608807
  ridgecv            6            0   -.23251368   -.23251368
       rf            7            0     .7253165     .7253165
       rf            8            0   -.27293959   -.27293959
       rf            9            0    .26541936    .26541936
gradboost           10            0    -.0769879    -.0769879
gradboost           11            0    .16377858    .16377858
     nnet           12            0    .01915059    .01915059
     nnet           13            0    .02054739    .02054739
      ols            1            1   -.00253439   -.00253439
      ols            2            1   -.03634918   -.03634918
  lassocv            3            1   -.04079024   -.04079024
  ridgecv            4            1     .3461995     .3461995
  lassocv            5            1    .34077836    .34077836
  ridgecv            6            1   -.10476439   -.10476439
       rf            7            1    .58151451    .58151451
       rf            8            1   -.34759832   -.34759832
       rf            9            1    .46150965    .46150965
gradboost           10            1   -.08687923   -.08687923
gradboost           11            1    .04472599    .04472599
     nnet           12            1    .01184073    .01184073
     nnet           13            1    .01955432    .01955432

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02174727    .02174727
      ols            2            0   -.08852241   -.08852241
  lassocv            3            0   -.28054789   -.28054789
  ridgecv            4            0    .90145157    .90145157
  lassocv            5            0    .00608807    .00608807
  ridgecv            6            0   -.23251368   -.23251368
       rf            7            0     .7253165     .7253165
       rf            8            0   -.27293959   -.27293959
       rf            9            0    .26541936    .26541936
gradboost           10            0    -.0769879    -.0769879
gradboost           11            0    .16377858    .16377858
     nnet           12            0    .01915059    .01915059
     nnet           13            0    .02054739    .02054739
      ols            1            1   -.00253439   -.00253439
      ols            2            1   -.03634918   -.03634918
  lassocv            3            1   -.04079024   -.04079024
  ridgecv            4            1     .3461995     .3461995
  lassocv            5            1    .34077836    .34077836
  ridgecv            6            1   -.10476439   -.10476439
       rf            7            1    .58151451    .58151451
       rf            8            1   -.34759832   -.34759832
       rf            9            1    .46150965    .46150965
gradboost           10            1   -.08687923   -.08687923
gradboost           11            1    .04472599    .04472599
     nnet           12            1    .01184073    .01184073
     nnet           13            1    .01955432    .01955432

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 3.0236971   3.1880342          1          0    .0217473    .0217473 |
   2. | 3.4803202   3.7508127          2          0   -.0885224   -.0885224 |
   3. | 3.3270929   3.3883754          3          0   -.2805479   -.2805479 |
   4. | 2.9517714   3.0730271          4          0    .9014516    .9014516 |
   5. | 3.6467198   3.6102762          5          0    .0060881    .0060881 |
      |---------------------------------------------------------------------|
   6. | 3.0712271   3.1349225          6          0   -.2325137   -.2325137 |
   7. | 2.8982963   3.2182605          7          0    .7253165    .7253165 |
   8. | 3.0969796   3.1443839          8          0   -.2729396   -.2729396 |
      +---------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ss_ols_short_ia.dta not found)
file out_3928/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19046824    .19046824
    logit            2    .08453925    .08453925
  lassocv            3    .21169184    .21169184
  ridgecv            4    .14799892    .14799892
  lassocv            5   -.33564103   -.33564103
  ridgecv            6    .15783837    .15783837
       rf            7    .47806137    .47806137
       rf            8    .21452011    .21452011
       rf            9   -.37560631   -.37560631
gradboost           10    .00812253    .00812253
gradboost           11    .23274019    .23274019
     nnet           12   -.08323792   -.08323792
     nnet           13     .0397753     .0397753

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02174727    .02174727
      ols            2            0   -.08852241   -.08852241
  lassocv            3            0   -.28054789   -.28054789
  ridgecv            4            0    .90145157    .90145157
  lassocv            5            0    .00608807    .00608807
  ridgecv            6            0   -.23251368   -.23251368
       rf            7            0     .7253165     .7253165
       rf            8            0   -.27293959   -.27293959
       rf            9            0    .26541936    .26541936
gradboost           10            0    -.0769879    -.0769879
gradboost           11            0    .16377858    .16377858
     nnet           12            0    .01915059    .01915059
     nnet           13            0    .02054739    .02054739
      ols            1            1   -.00253439   -.00253439
      ols            2            1   -.03634918   -.03634918
  lassocv            3            1   -.04079024   -.04079024
  ridgecv            4            1     .3461995     .3461995
  lassocv            5            1    .34077836    .34077836
  ridgecv            6            1   -.10476439   -.10476439
       rf            7            1    .58151451    .58151451
       rf            8            1   -.34759832   -.34759832
       rf            9            1    .46150965    .46150965
gradboost           10            1   -.08687923   -.08687923
gradboost           11            1    .04472599    .04472599
     nnet           12            1    .01184073    .01184073
     nnet           13            1    .01955432    .01955432

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .19046824    .19046824
    logit            2    .08453925    .08453925
  lassocv            3    .21169184    .21169184
  ridgecv            4    .14799892    .14799892
  lassocv            5   -.33564103   -.33564103
  ridgecv            6    .15783837    .15783837
       rf            7    .47806137    .47806137
       rf            8    .21452011    .21452011
       rf            9   -.37560631   -.37560631
gradboost           10    .00812253    .00812253
gradboost           11    .23274019    .23274019
     nnet           12   -.08323792   -.08323792
     nnet           13     .0397753     .0397753

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71671683          1   .1904682   .1904682 |
   2. | .42117124          2   .0845392   .0845392 |
   3. | .04444165          3   .2116918   .2116918 |
   4. | .12434161          4   .1479989   .1479989 |
   5. |  .5233665          5   -.335641   -.335641 |
      |--------------------------------------------|
   6. |  .9122106          6   .1578384   .1578384 |
   7. | .79811427          7   .4780614   .4780614 |
   8. | .84414197          8   .2145201   .2145201 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_ols_short_ia.dta not found)
file out_3928/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20707214    .20707214
    logit            2    .09171369    .09171369
  lassocv            3    .21683512    .21683512
  ridgecv            4    .07963034    .07963034
  lassocv            5   -.14926541   -.14926541
  ridgecv            6    .10238096    .10238096
       rf            7    .42902091    .42902091
       rf            8    .14605542    .14605542
       rf            9    -.2823655    -.2823655
gradboost           10    .12085942    .12085942
gradboost           11    .12534072    .12534072
     nnet           12   -.00094933   -.00094933
     nnet           13   -.00402265   -.00402265

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00681594    .00681594
      ols            2            0   -.04558798   -.04558798
  lassocv            3            0   -.01561405   -.01561405
  ridgecv            4            0     .4467937     .4467937
  lassocv            5            0    .00505491    .00505491
  ridgecv            6            0   -.02047192   -.02047192
       rf            7            0    .67244356    .67244356
       rf            8            0     .0663742     .0663742
       rf            9            0   -.17127855   -.17127855
gradboost           10            0    -.0018359    -.0018359
gradboost           11            0    .10337076    .10337076
     nnet           12            0   -.00131126   -.00131126
     nnet           13            0    .01095011    .01095011
      ols            1            1   -.00120478   -.00120478
      ols            2            1    -.0138987    -.0138987
  lassocv            3            1    .10580127    .10580127
  ridgecv            4            1    .28037211    .28037211
  lassocv            5            1    .10503295    .10503295
  ridgecv            6            1   -.05853957   -.05853957
       rf            7            1    .49640759    .49640759
       rf            8            1    .63640078    .63640078
       rf            9            1   -.54132667   -.54132667
gradboost           10            1   -.03294025   -.03294025
gradboost           11            1    .05485986    .05485986
     nnet           12            1    .00711489    .00711489
     nnet           13            1    .01479673    .01479673

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20707214    .20707214
    logit            2    .09171369    .09171369
  lassocv            3    .21683512    .21683512
  ridgecv            4    .07963034    .07963034
  lassocv            5   -.14926541   -.14926541
  ridgecv            6    .10238096    .10238096
       rf            7    .42902091    .42902091
       rf            8    .14605542    .14605542
       rf            9    -.2823655    -.2823655
gradboost           10    .12085942    .12085942
gradboost           11    .12534072    .12534072
     nnet           12   -.00094933   -.00094933
     nnet           13   -.00402265   -.00402265

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00681594    .00681594
      ols            2            0   -.04558798   -.04558798
  lassocv            3            0   -.01561405   -.01561405
  ridgecv            4            0     .4467937     .4467937
  lassocv            5            0    .00505491    .00505491
  ridgecv            6            0   -.02047192   -.02047192
       rf            7            0    .67244356    .67244356
       rf            8            0     .0663742     .0663742
       rf            9            0   -.17127855   -.17127855
gradboost           10            0    -.0018359    -.0018359
gradboost           11            0    .10337076    .10337076
     nnet           12            0   -.00131126   -.00131126
     nnet           13            0    .01095011    .01095011
      ols            1            1   -.00120478   -.00120478
      ols            2            1    -.0138987    -.0138987
  lassocv            3            1    .10580127    .10580127
  ridgecv            4            1    .28037211    .28037211
  lassocv            5            1    .10503295    .10503295
  ridgecv            6            1   -.05853957   -.05853957
       rf            7            1    .49640759    .49640759
       rf            8            1    .63640078    .63640078
       rf            9            1   -.54132667   -.54132667
gradboost           10            1   -.03294025   -.03294025
gradboost           11            1    .05485986    .05485986
     nnet           12            1    .00711489    .00711489
     nnet           13            1    .01479673    .01479673

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00681594    .00681594
      ols            2            0   -.04558798   -.04558798
  lassocv            3            0   -.01561405   -.01561405
  ridgecv            4            0     .4467937     .4467937
  lassocv            5            0    .00505491    .00505491
  ridgecv            6            0   -.02047192   -.02047192
       rf            7            0    .67244356    .67244356
       rf            8            0     .0663742     .0663742
       rf            9            0   -.17127855   -.17127855
gradboost           10            0    -.0018359    -.0018359
gradboost           11            0    .10337076    .10337076
     nnet           12            0   -.00131126   -.00131126
     nnet           13            0    .01095011    .01095011
      ols            1            1   -.00120478   -.00120478
      ols            2            1    -.0138987    -.0138987
  lassocv            3            1    .10580127    .10580127
  ridgecv            4            1    .28037211    .28037211
  lassocv            5            1    .10503295    .10503295
  ridgecv            6            1   -.05853957   -.05853957
       rf            7            1    .49640759    .49640759
       rf            8            1    .63640078    .63640078
       rf            9            1   -.54132667   -.54132667
gradboost           10            1   -.03294025   -.03294025
gradboost           11            1    .05485986    .05485986
     nnet           12            1    .00711489    .00711489
     nnet           13            1    .01479673    .01479673

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.6691837   2.8388812          1          0    .0068159    .0068159 |
   2. |  3.112663   3.4222823          2          0    -.045588    -.045588 |
   3. | 2.9585995   3.0274321          3          0   -.0156141   -.0156141 |
   4. | 2.5901883   2.7380718          4          0    .4467937    .4467937 |
   5. | 3.2826207   3.2684896          5          0    .0050549    .0050549 |
      |---------------------------------------------------------------------|
   6. | 2.6966528   2.7820734          6          0   -.0204719   -.0204719 |
   7. | 2.5042453    2.850256          7          0    .6724436    .6724436 |
   8. | 2.7502818    2.828908          8          0    .0663742    .0663742 |
      +---------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_3928/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20707214    .20707214
    logit            2    .09171369    .09171369
  lassocv            3    .21683512    .21683512
  ridgecv            4    .07963034    .07963034
  lassocv            5   -.14926541   -.14926541
  ridgecv            6    .10238096    .10238096
       rf            7    .42902091    .42902091
       rf            8    .14605542    .14605542
       rf            9    -.2823655    -.2823655
gradboost           10    .12085942    .12085942
gradboost           11    .12534072    .12534072
     nnet           12   -.00094933   -.00094933
     nnet           13   -.00402265   -.00402265

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00681594    .00681594
      ols            2            0   -.04558798   -.04558798
  lassocv            3            0   -.01561405   -.01561405
  ridgecv            4            0     .4467937     .4467937
  lassocv            5            0    .00505491    .00505491
  ridgecv            6            0   -.02047192   -.02047192
       rf            7            0    .67244356    .67244356
       rf            8            0     .0663742     .0663742
       rf            9            0   -.17127855   -.17127855
gradboost           10            0    -.0018359    -.0018359
gradboost           11            0    .10337076    .10337076
     nnet           12            0   -.00131126   -.00131126
     nnet           13            0    .01095011    .01095011
      ols            1            1   -.00120478   -.00120478
      ols            2            1    -.0138987    -.0138987
  lassocv            3            1    .10580127    .10580127
  ridgecv            4            1    .28037211    .28037211
  lassocv            5            1    .10503295    .10503295
  ridgecv            6            1   -.05853957   -.05853957
       rf            7            1    .49640759    .49640759
       rf            8            1    .63640078    .63640078
       rf            9            1   -.54132667   -.54132667
gradboost           10            1   -.03294025   -.03294025
gradboost           11            1    .05485986    .05485986
     nnet           12            1    .00711489    .00711489
     nnet           13            1    .01479673    .01479673

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .20707214    .20707214
    logit            2    .09171369    .09171369
  lassocv            3    .21683512    .21683512
  ridgecv            4    .07963034    .07963034
  lassocv            5   -.14926541   -.14926541
  ridgecv            6    .10238096    .10238096
       rf            7    .42902091    .42902091
       rf            8    .14605542    .14605542
       rf            9    -.2823655    -.2823655
gradboost           10    .12085942    .12085942
gradboost           11    .12534072    .12534072
     nnet           12   -.00094933   -.00094933
     nnet           13   -.00402265   -.00402265

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .80076884          1    .2070721    .2070721 |
   2. | .43899709          2    .0917137    .0917137 |
   3. | .10353588          3    .2168351    .2168351 |
   4. | .20663702          4    .0796303    .0796303 |
   5. | .58090273          5   -.1492654   -.1492654 |
      |----------------------------------------------|
   6. | .96990966          6     .102381     .102381 |
   7. | .88529215          7    .4290209    .4290209 |
   8. | .89114057          8    .1460554    .1460554 |
      +----------------------------------------------+
(note: file out_3928/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_3928/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0996422   .0158075    -6.30   0.000    -.1306244     -.06866
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.016)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0996422   .0158075    -6.30   0.000    -.1306244     -.06866
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0996422   .0158075    -6.30   0.000    -.1306244     -.06866
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.100    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.100    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.100    (0.016)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0996422   .0158075    -6.30   0.000    -.1306244     -.06866
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3928/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_3928/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_3928/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_3928/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_3928/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6334731    2.691962          1          0   .0769231   .0769231 |
   2. | 3.0105539   3.3252506          2          0   .0769231   .0769231 |
   3. | 2.7830902   2.8485078          3          0   .0769231   .0769231 |
   4. | 2.4786566   2.5562659          4          0   .0769231   .0769231 |
   5. | 3.1000671   3.0538631          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6423515   2.7011747          6          0   .0769231   .0769231 |
   7. | 2.4739401   2.5938061          7          0   .0769231   .0769231 |
   8. | 2.6887097    2.834873          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ss_avg_short_ia.dta not found)
file out_3928/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .74674899          1   .0769231   .0769231 |
   2. | .41495348          2   .0769231   .0769231 |
   3. | .16886397          3   .0769231   .0769231 |
   4. | .32091007          4   .0769231   .0769231 |
   5. | .56123756          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .82787223          6   .0769231   .0769231 |
   7. | .78958293          7   .0769231   .0769231 |
   8. | .75782071          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ss_avg_short_ia.dta not found)
file out_3928/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6334731    2.691962          1          0   .0769231   .0769231 |
   2. | 3.0105539   3.3252506          2          0   .0769231   .0769231 |
   3. | 2.7830902   2.8485078          3          0   .0769231   .0769231 |
   4. | 2.4786566   2.5562659          4          0   .0769231   .0769231 |
   5. | 3.1000671   3.0538631          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6423515   2.7011747          6          0   .0769231   .0769231 |
   7. | 2.4739401   2.5938061          7          0   .0769231   .0769231 |
   8. | 2.6887097    2.834873          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_3928/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_3928/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .74674899          1   .0769231   .0769231 |
   2. | .41495348          2   .0769231   .0769231 |
   3. | .16886397          3   .0769231   .0769231 |
   4. | .32091007          4   .0769231   .0769231 |
   5. | .56123756          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .82787223          6   .0769231   .0769231 |
   7. | .78958293          7   .0769231   .0769231 |
   8. | .75782071          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3928/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_3928/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1086865   .0829621    -1.31   0.190    -.2712893    .0539163
------------------------------------------------------------------------------
Warning: 132 propensity scores trimmed to lower limit ..
Warning: 36 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1192512   .0163953    -7.27   0.000    -.1513853   -.0871171
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0327777   .0869628     0.38   0.706    -.1376663    .2032216
------------------------------------------------------------------------------
Warning: 82 propensity scores trimmed to lower limit ..
Warning: 16 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0121041    .094311    -0.13   0.898    -.1969502    .1727421
------------------------------------------------------------------------------
Warning: 100 propensity scores trimmed to lower limit ..
Warning: 29 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0215553   .0924344     0.23   0.816    -.1596129    .2027234
------------------------------------------------------------------------------
Warning: 85 propensity scores trimmed to lower limit ..
Warning: 19 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1707861   .1810137    -0.94   0.345    -.5255665    .1839942
------------------------------------------------------------------------------
Warning: 92 propensity scores trimmed to lower limit ..
Warning: 19 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0792297   .0198485    -3.99   0.000     -.118132   -.0403273
------------------------------------------------------------------------------
Warning: 3 propensity scores trimmed to lower limit ..
Warning: 2 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1039604   .0157525    -6.60   0.000    -.1348348    -.073086
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1094243   .0149031    -7.34   0.000    -.1386338   -.0802147
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0739581   .0216305    -3.42   0.001    -.1163532    -.031563
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0300239   .0409308    -0.73   0.463    -.1102468     .050199
------------------------------------------------------------------------------
Warning: 81 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    .097184   .0850149     1.14   0.253    -.0694421    .2638101
------------------------------------------------------------------------------
Warning: 28 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    -.21826   .2483986    -0.88   0.380    -.7051122    .2685922
------------------------------------------------------------------------------
Warning: 159 propensity scores trimmed to lower limit ..
Warning: 160 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3928/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.086    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.080    (0.023)
  ps  1   [poolstack]          [ps]          [ps]    -0.085    (0.022)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0800461    .023393    -3.42   0.001    -.1258956   -.0341966
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_8756/inter_mse.dta not found)
file out_8756/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.145       0.173       0.158       0.157
>        0.160       0.149       0.150       0.149       0.160       0.158  
   D_gender_r_ps   1      0.155       0.145       0.173       0.158       0.156
>        0.159       0.149       0.150       0.148       0.159       0.158  
   D_gender_r_ss   1      0.155       0.144       0.172       0.157       0.156
>        0.159       0.148       0.150       0.148       0.159       0.159  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.228       0.236       0.180       0.205       0.
> 506       0.179       0.222       0.207       0.189       0.176       0.177  
    Y1_pystacked 1    1      0.172       0.183       0.139       0.201       0.
> 187       0.139       0.131       0.358       0.114       0.130       0.115  
     Y_lnearn_ps 0    1      8.292       8.427       8.408       8.322       8.
> 266       8.303       8.426       8.272       8.129       8.227       8.163  
     Y_lnearn_ps 1    1      7.497       7.479       7.406       7.486       7.
> 519       7.442       7.518       7.466       7.638       7.556       7.473  
     Y_lnearn_ss 0    1      0.225       0.217       0.180       0.206       0.
> 503       0.180       0.218       0.202       0.190       0.172       0.176  
     Y_lnearn_ss 1    1      0.171       0.182       0.141       0.201       0.
> 187       0.139       0.130       0.355       0.113       0.130       0.116  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15587805    .14476012     .1731626    .15808628
D_gender_r~s            1    .15541104     .1445158    .17259241    .15753002
D_gender_r~s            1     .1553032    .14427885     .1721915    .15705628

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15697178    .15950586     .1494367    .15038913     .1487546
D_gender_r~s    .15598406    .15925754    .14876115    .14993274    .14828846
D_gender_r~s     .1563235    .15895661     .1482744    .14961218    .14823483

                    fold9       fold10
D1_pystacked    .15962003     .1580469
D_gender_r~s    .15913261    .15806907
D_gender_r~s    .15948707    .15856852
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1558781 | .1447601 | .1731626 | .1580863 | .1569718 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1595059 | .1494367 | .1503891 | .1487546 |   .15962 | .1580469 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 |  .155411 | .1445158 | .1725924 |   .15753 | .1559841 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1592575 | .1487612 | .1499327 | .1482885 | .1591326 | .1580691 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1553032 | .1442788 | .1721915 | .1570563 | .1563235 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1589566 | .1482744 | .1496122 | .1482348 | .1594871 | .1585685 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_8756/gender_r_mse_inter_gender_mse.dta not found)
file out_8756/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.145       0.173       0.158       0.157
>        0.160       0.149       0.150       0.149       0.160       0.158  
   D_gender_r_ps   1      0.155       0.145       0.173       0.158       0.156
>        0.159       0.149       0.150       0.148       0.159       0.158  
   D_gender_r_ss   1      0.155       0.144       0.172       0.157       0.156
>        0.159       0.148       0.150       0.148       0.159       0.159  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.228       0.236       0.180       0.205       0.
> 506       0.179       0.222       0.207       0.189       0.176       0.177  
    Y1_pystacked 1    1      0.172       0.183       0.139       0.201       0.
> 187       0.139       0.131       0.358       0.114       0.130       0.115  
     Y_lnearn_ps 0    1      8.292       8.427       8.408       8.322       8.
> 266       8.303       8.426       8.272       8.129       8.227       8.163  
     Y_lnearn_ps 1    1      7.497       7.479       7.406       7.486       7.
> 519       7.442       7.518       7.466       7.638       7.556       7.473  
     Y_lnearn_ss 0    1      0.225       0.217       0.180       0.206       0.
> 503       0.180       0.218       0.202       0.190       0.172       0.176  
     Y_lnearn_ss 1    1      0.171       0.182       0.141       0.201       0.
> 187       0.139       0.130       0.355       0.113       0.130       0.116  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .22791682    .23570511    .18040722
Y1_pystacked            1            1    .17174694     .1827728    .13893217
 Y_lnearn_ps            0            1     8.291815    8.4266094    8.4080686
 Y_lnearn_ps            1            1    7.4973944    7.4788477    7.4061544
 Y_lnearn_ss            0            1    .22471954    .21733162    .18031175
 Y_lnearn_ss            1            1     .1713416    .18204969    .14092178

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .20497942    .50580075    .17909434    .22233212    .20702884
Y1_pystacked    .20146356    .18739032     .1385462    .13116423    .35768965
 Y_lnearn_ps    8.3218056    8.2656766    8.3030244    8.4260889    8.2722438
 Y_lnearn_ps    7.4862865    7.5194194    7.4422534    7.5178736    7.4663719
 Y_lnearn_ss    .20604775    .50327008    .18018027    .21837798     .2015187
 Y_lnearn_ss    .20071177     .1874444    .13916719     .1298825    .35530551

                    fold8        fold9       fold10
Y1_pystacked    .18947391    .17605117    .17658252
Y1_pystacked    .11425068    .13024432    .11544938
 Y_lnearn_ps    8.1285573    8.2268945    8.1633082
 Y_lnearn_ps    7.6375734    7.5557073    7.4733382
 Y_lnearn_ss    .18985457    .17178424    .17557503
 Y_lnearn_ss    .11285509    .13019087    .11555981
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2279168 | .2357051 | .1804072 | .2049794 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .5058007 | .1790943 | .2223321 | .2070288 | .1894739 | .1760512 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1765825     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1717469 | .1827728 | .1389322 | .2014636 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1873903 | .1385462 | .1311642 | .3576896 | .1142507 | .1302443 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1154494     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.291815 | 8.426609 | 8.408069 | 8.321806 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.265676 | 8.303024 | 8.426089 | 8.272243 | 8.128557 | 8.226894 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.163308     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.497395 | 7.478848 | 7.406154 | 7.486287 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.519419 | 7.442254 | 7.517874 | 7.466372 | 7.637573 | 7.555707 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.473338     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2247195 | .2173316 | .1803117 | .2060477 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .5032701 | .1801803 |  .218378 | .2015187 | .1898546 | .1717842 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      .175575     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1713416 | .1820497 | .1409218 | .2007118 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1874444 | .1391672 | .1298825 | .3553055 | .1128551 | .1301909 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1155598     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_8756/lnearn_mse_inter_lnearn_mse.dta not found)
file out_8756/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.086    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.080    (0.023)
  ps  1   [poolstack]          [ps]          [ps]    -0.085    (0.022)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0800461    .023393    -3.42   0.001    -.1258956   -.0341966
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.086    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.080    (0.023)
  ps  1   [poolstack]          [ps]          [ps]    -0.085    (0.022)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0863401   .0224024    -3.85   0.000    -.1302479   -.0424323
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.080    (0.023)
  ss  1  [shortstack]          [ss]          [ss]    -0.080    (0.023)
  ps  1   [poolstack]          [ps]          [ps]    -0.085    (0.022)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0800461    .023393    -3.42   0.001    -.1258956   -.0341966
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 4 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.085    (0.022)
  ss  1  [shortstack]          [ss]          [ss]    -0.080    (0.023)
  ps  1   [poolstack]          [ps]          [ps]    -0.085    (0.022)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0850341   .0219026    -3.88   0.000    -.1279624   -.0421058
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 5 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25475798    .25475798
    logit            2    8.442e-17    8.442e-17
  lassocv            3    .13131362    .13131362
  ridgecv            4    .02538287    .02538287
  lassocv            5    .00697585    .00697585
  ridgecv            6    .01080453    .01080453
       rf            7    .28304222    .28304222
       rf            8    1.372e-17    1.372e-17
       rf            9    2.375e-17    2.375e-17
gradboost           10    .03138802    .03138802
gradboost           11     .2254507     .2254507
     nnet           12    1.805e-17    1.805e-17
     nnet           13    .03088422    .03088422

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02117921    .02117921
      ols            2            0    .00559431    .00559431
  lassocv            3            0    .17123026    .17123026
  ridgecv            4            0    .16723868    .16723868
  lassocv            5            0    3.551e-17    3.551e-17
  ridgecv            6            0     .0162353     .0162353
       rf            7            0    .44551617    .44551617
       rf            8            0    9.127e-17    9.127e-17
       rf            9            0    1.291e-16    1.291e-16
gradboost           10            0    .01563051    .01563051
gradboost           11            0    .13913059    .13913059
     nnet           12            0     .0093285     .0093285
     nnet           13            0    .00891646    .00891646
      ols            1            1    .00597831    .00597831
      ols            2            1    .00155753    .00155753
  lassocv            3            1    .12523953    .12523953
  ridgecv            4            1    .06952244    .06952244
  lassocv            5            1     .1336733     .1336733
  ridgecv            6            1    .05859166    .05859166
       rf            7            1    .50404016    .50404016
       rf            8            1    1.663e-17    1.663e-17
       rf            9            1    5.504e-17    5.504e-17
gradboost           10            1    4.179e-18    4.179e-18
gradboost           11            1    .05697489    .05697489
     nnet           12            1    .02654436    .02654436
     nnet           13            1    .01787783    .01787783

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25475798    .25475798
    logit            2    8.442e-17    8.442e-17
  lassocv            3    .13131362    .13131362
  ridgecv            4    .02538287    .02538287
  lassocv            5    .00697585    .00697585
  ridgecv            6    .01080453    .01080453
       rf            7    .28304222    .28304222
       rf            8    1.372e-17    1.372e-17
       rf            9    2.375e-17    2.375e-17
gradboost           10    .03138802    .03138802
gradboost           11     .2254507     .2254507
     nnet           12    1.805e-17    1.805e-17
     nnet           13    .03088422    .03088422

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02117921    .02117921
      ols            2            0    .00559431    .00559431
  lassocv            3            0    .17123026    .17123026
  ridgecv            4            0    .16723868    .16723868
  lassocv            5            0    3.551e-17    3.551e-17
  ridgecv            6            0     .0162353     .0162353
       rf            7            0    .44551617    .44551617
       rf            8            0    9.127e-17    9.127e-17
       rf            9            0    1.291e-16    1.291e-16
gradboost           10            0    .01563051    .01563051
gradboost           11            0    .13913059    .13913059
     nnet           12            0     .0093285     .0093285
     nnet           13            0    .00891646    .00891646
      ols            1            1    .00597831    .00597831
      ols            2            1    .00155753    .00155753
  lassocv            3            1    .12523953    .12523953
  ridgecv            4            1    .06952244    .06952244
  lassocv            5            1     .1336733     .1336733
  ridgecv            6            1    .05859166    .05859166
       rf            7            1    .50404016    .50404016
       rf            8            1    1.663e-17    1.663e-17
       rf            9            1    5.504e-17    5.504e-17
gradboost           10            1    4.179e-18    4.179e-18
gradboost           11            1    .05697489    .05697489
     nnet           12            1    .02654436    .02654436
     nnet           13            1    .01787783    .01787783

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02117921    .02117921
      ols            2            0    .00559431    .00559431
  lassocv            3            0    .17123026    .17123026
  ridgecv            4            0    .16723868    .16723868
  lassocv            5            0    3.551e-17    3.551e-17
  ridgecv            6            0     .0162353     .0162353
       rf            7            0    .44551617    .44551617
       rf            8            0    9.127e-17    9.127e-17
       rf            9            0    1.291e-16    1.291e-16
gradboost           10            0    .01563051    .01563051
gradboost           11            0    .13913059    .13913059
     nnet           12            0     .0093285     .0093285
     nnet           13            0    .00891646    .00891646
      ols            1            1    .00597831    .00597831
      ols            2            1    .00155753    .00155753
  lassocv            3            1    .12523953    .12523953
  ridgecv            4            1    .06952244    .06952244
  lassocv            5            1     .1336733     .1336733
  ridgecv            6            1    .05859166    .05859166
       rf            7            1    .50404016    .50404016
       rf            8            1    1.663e-17    1.663e-17
       rf            9            1    5.504e-17    5.504e-17
gradboost           10            1    4.179e-18    4.179e-18
gradboost           11            1    .05697489    .05697489
     nnet           12            1    .02654436    .02654436
     nnet           13            1    .01787783    .01787783

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0211792   .0211792 |
   2. |        2          0   .0055943   .0055943 |
   3. |        3          0   .1712303   .1712303 |
   4. |        4          0   .1672387   .1672387 |
   5. |        5          0   3.55e-17   3.55e-17 |
      |-------------------------------------------|
   6. |        6          0   .0162353   .0162353 |
   7. |        7          0   .4455162   .4455162 |
   8. |        8          0   9.13e-17   9.13e-17 |
      +-------------------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_8756/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25475798    .25475798
    logit            2    8.442e-17    8.442e-17
  lassocv            3    .13131362    .13131362
  ridgecv            4    .02538287    .02538287
  lassocv            5    .00697585    .00697585
  ridgecv            6    .01080453    .01080453
       rf            7    .28304222    .28304222
       rf            8    1.372e-17    1.372e-17
       rf            9    2.375e-17    2.375e-17
gradboost           10    .03138802    .03138802
gradboost           11     .2254507     .2254507
     nnet           12    1.805e-17    1.805e-17
     nnet           13    .03088422    .03088422

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02117921    .02117921
      ols            2            0    .00559431    .00559431
  lassocv            3            0    .17123026    .17123026
  ridgecv            4            0    .16723868    .16723868
  lassocv            5            0    3.551e-17    3.551e-17
  ridgecv            6            0     .0162353     .0162353
       rf            7            0    .44551617    .44551617
       rf            8            0    9.127e-17    9.127e-17
       rf            9            0    1.291e-16    1.291e-16
gradboost           10            0    .01563051    .01563051
gradboost           11            0    .13913059    .13913059
     nnet           12            0     .0093285     .0093285
     nnet           13            0    .00891646    .00891646
      ols            1            1    .00597831    .00597831
      ols            2            1    .00155753    .00155753
  lassocv            3            1    .12523953    .12523953
  ridgecv            4            1    .06952244    .06952244
  lassocv            5            1     .1336733     .1336733
  ridgecv            6            1    .05859166    .05859166
       rf            7            1    .50404016    .50404016
       rf            8            1    1.663e-17    1.663e-17
       rf            9            1    5.504e-17    5.504e-17
gradboost           10            1    4.179e-18    4.179e-18
gradboost           11            1    .05697489    .05697489
     nnet           12            1    .02654436    .02654436
     nnet           13            1    .01787783    .01787783

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .25475798    .25475798
    logit            2    8.442e-17    8.442e-17
  lassocv            3    .13131362    .13131362
  ridgecv            4    .02538287    .02538287
  lassocv            5    .00697585    .00697585
  ridgecv            6    .01080453    .01080453
       rf            7    .28304222    .28304222
       rf            8    1.372e-17    1.372e-17
       rf            9    2.375e-17    2.375e-17
gradboost           10    .03138802    .03138802
gradboost           11     .2254507     .2254507
     nnet           12    1.805e-17    1.805e-17
     nnet           13    .03088422    .03088422

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1    .254758    .254758 |
   2. |        2   8.44e-17   8.44e-17 |
   3. |        3   .1313136   .1313136 |
   4. |        4   .0253829   .0253829 |
   5. |        5   .0069759   .0069759 |
      |--------------------------------|
   6. |        6   .0108045   .0108045 |
   7. |        7   .2830422   .2830422 |
   8. |        8   1.37e-17   1.37e-17 |
      +--------------------------------+
(note: file out_8756/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_8756/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2665012     .2665012
    logit            2            0            0
  lassocv            3    .00245737    .00245737
  ridgecv            4    .07516094    .07516094
  lassocv            5    .01805439    .01805439
  ridgecv            6            0            0
       rf            7    .29085879    .29085879
       rf            8    8.225e-17    8.225e-17
       rf            9    7.545e-17    7.545e-17
gradboost           10            0            0
gradboost           11    .28469901    .28469901
     nnet           12    2.105e-16    2.105e-16
     nnet           13    .06226831    .06226831

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0    2.194e-16    2.194e-16
  lassocv            3            0    .00440084    .00440084
  ridgecv            4            0    .25811804    .25811804
  lassocv            5            0    .03412971    .03412971
  ridgecv            6            0            0            0
       rf            7            0    .43135448    .43135448
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .24899598    .24899598
     nnet           12            0            0            0
     nnet           13            0    .02300095    .02300095
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .04587313    .04587313
  ridgecv            4            1            0            0
  lassocv            5            1    .36505377    .36505377
  ridgecv            6            1    1.854e-17    1.854e-17
       rf            7            1    .45553238    .45553238
       rf            8            1            0            0
       rf            9            1    1.729e-17    1.729e-17
gradboost           10            1    1.562e-17    1.562e-17
gradboost           11            1    .11937258    .11937258
     nnet           12            1            0            0
     nnet           13            1    .01416814    .01416814

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2665012     .2665012
    logit            2            0            0
  lassocv            3    .00245737    .00245737
  ridgecv            4    .07516094    .07516094
  lassocv            5    .01805439    .01805439
  ridgecv            6            0            0
       rf            7    .29085879    .29085879
       rf            8    8.225e-17    8.225e-17
       rf            9    7.545e-17    7.545e-17
gradboost           10            0            0
gradboost           11    .28469901    .28469901
     nnet           12    2.105e-16    2.105e-16
     nnet           13    .06226831    .06226831

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0    2.194e-16    2.194e-16
  lassocv            3            0    .00440084    .00440084
  ridgecv            4            0    .25811804    .25811804
  lassocv            5            0    .03412971    .03412971
  ridgecv            6            0            0            0
       rf            7            0    .43135448    .43135448
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .24899598    .24899598
     nnet           12            0            0            0
     nnet           13            0    .02300095    .02300095
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .04587313    .04587313
  ridgecv            4            1            0            0
  lassocv            5            1    .36505377    .36505377
  ridgecv            6            1    1.854e-17    1.854e-17
       rf            7            1    .45553238    .45553238
       rf            8            1            0            0
       rf            9            1    1.729e-17    1.729e-17
gradboost           10            1    1.562e-17    1.562e-17
gradboost           11            1    .11937258    .11937258
     nnet           12            1            0            0
     nnet           13            1    .01416814    .01416814

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0    2.194e-16    2.194e-16
  lassocv            3            0    .00440084    .00440084
  ridgecv            4            0    .25811804    .25811804
  lassocv            5            0    .03412971    .03412971
  ridgecv            6            0            0            0
       rf            7            0    .43135448    .43135448
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .24899598    .24899598
     nnet           12            0            0            0
     nnet           13            0    .02300095    .02300095
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .04587313    .04587313
  ridgecv            4            1            0            0
  lassocv            5            1    .36505377    .36505377
  ridgecv            6            1    1.854e-17    1.854e-17
       rf            7            1    .45553238    .45553238
       rf            8            1            0            0
       rf            9            1    1.729e-17    1.729e-17
gradboost           10            1    1.562e-17    1.562e-17
gradboost           11            1    .11937258    .11937258
     nnet           12            1            0            0
     nnet           13            1    .01416814    .01416814

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5275143   2.7053215          1          0          0          0 |
   2. | 2.9861861   3.1976636          2          0   2.19e-16   2.19e-16 |
   3. | 2.8076659   2.8780473          3          0   .0044008   .0044008 |
   4. | 2.4819866   2.6137085          4          0    .258118    .258118 |
   5. | 3.0915314   3.1795174          5          0   .0341297   .0341297 |
      |-------------------------------------------------------------------|
   6. | 2.5564471   2.6612353          6          0          0          0 |
   7. | 2.4266868   2.2786461          7          0   .4313545   .4313545 |
   8. | 2.6784588    2.689415          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_8756/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1     .2665012     .2665012
    logit            2            0            0
  lassocv            3    .00245737    .00245737
  ridgecv            4    .07516094    .07516094
  lassocv            5    .01805439    .01805439
  ridgecv            6            0            0
       rf            7    .29085879    .29085879
       rf            8    8.225e-17    8.225e-17
       rf            9    7.545e-17    7.545e-17
gradboost           10            0            0
gradboost           11    .28469901    .28469901
     nnet           12    2.105e-16    2.105e-16
     nnet           13    .06226831    .06226831

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0    2.194e-16    2.194e-16
  lassocv            3            0    .00440084    .00440084
  ridgecv            4            0    .25811804    .25811804
  lassocv            5            0    .03412971    .03412971
  ridgecv            6            0            0            0
       rf            7            0    .43135448    .43135448
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .24899598    .24899598
     nnet           12            0            0            0
     nnet           13            0    .02300095    .02300095
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .04587313    .04587313
  ridgecv            4            1            0            0
  lassocv            5            1    .36505377    .36505377
  ridgecv            6            1    1.854e-17    1.854e-17
       rf            7            1    .45553238    .45553238
       rf            8            1            0            0
       rf            9            1    1.729e-17    1.729e-17
gradboost           10            1    1.562e-17    1.562e-17
gradboost           11            1    .11937258    .11937258
     nnet           12            1            0            0
     nnet           13            1    .01416814    .01416814

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1     .2665012     .2665012
    logit            2            0            0
  lassocv            3    .00245737    .00245737
  ridgecv            4    .07516094    .07516094
  lassocv            5    .01805439    .01805439
  ridgecv            6            0            0
       rf            7    .29085879    .29085879
       rf            8    8.225e-17    8.225e-17
       rf            9    7.545e-17    7.545e-17
gradboost           10            0            0
gradboost           11    .28469901    .28469901
     nnet           12    2.105e-16    2.105e-16
     nnet           13    .06226831    .06226831

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75954501          1   .2665012   .2665012 |
   2. | .41361816          2          0          0 |
   3. | .09602006          3   .0024574   .0024574 |
   4. | .17853484          4   .0751609   .0751609 |
   5. | .58528097          5   .0180544   .0180544 |
      |--------------------------------------------|
   6. |  .8651174          6          0          0 |
   7. | .82633356          7   .2908588   .2908588 |
   8. | .84080761          8   8.23e-17   8.23e-17 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_8756/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26020572    .26020572
    logit            2            0            0
  lassocv            3    .16792388    .16792388
  ridgecv            4    .01367852    .01367852
  lassocv            5    4.081e-16    4.081e-16
  ridgecv            6    4.097e-16    4.097e-16
       rf            7    .29299223    .29299223
       rf            8            0            0
       rf            9    5.770e-16    5.770e-16
gradboost           10            0            0
gradboost           11    .23692334    .23692334
     nnet           12            0            0
     nnet           13     .0282763     .0282763

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01944531    .01944531
      ols            2            0            0            0
  lassocv            3            0    .18244935    .18244935
  ridgecv            4            0     .1853034     .1853034
  lassocv            5            0            0            0
  ridgecv            6            0    5.289e-16    5.289e-16
       rf            7            0    .46198985    .46198985
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0     .1454019     .1454019
     nnet           12            0            0            0
     nnet           13            0    .00541017    .00541017
      ols            1            1    1.378e-16    1.378e-16
      ols            2            1    6.200e-17    6.200e-17
  lassocv            3            1    .26556963    .26556963
  ridgecv            4            1    .07992089    .07992089
  lassocv            5            1            0            0
  ridgecv            6            1    .05219205    .05219205
       rf            7            1    .52550237    .52550237
       rf            8            1    1.497e-16    1.497e-16
       rf            9            1    5.785e-16    5.785e-16
gradboost           10            1    5.682e-17    5.682e-17
gradboost           11            1    .06652058    .06652058
     nnet           12            1            0            0
     nnet           13            1    .01029447    .01029447

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26020572    .26020572
    logit            2            0            0
  lassocv            3    .16792388    .16792388
  ridgecv            4    .01367852    .01367852
  lassocv            5    4.081e-16    4.081e-16
  ridgecv            6    4.097e-16    4.097e-16
       rf            7    .29299223    .29299223
       rf            8            0            0
       rf            9    5.770e-16    5.770e-16
gradboost           10            0            0
gradboost           11    .23692334    .23692334
     nnet           12            0            0
     nnet           13     .0282763     .0282763

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01944531    .01944531
      ols            2            0            0            0
  lassocv            3            0    .18244935    .18244935
  ridgecv            4            0     .1853034     .1853034
  lassocv            5            0            0            0
  ridgecv            6            0    5.289e-16    5.289e-16
       rf            7            0    .46198985    .46198985
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0     .1454019     .1454019
     nnet           12            0            0            0
     nnet           13            0    .00541017    .00541017
      ols            1            1    1.378e-16    1.378e-16
      ols            2            1    6.200e-17    6.200e-17
  lassocv            3            1    .26556963    .26556963
  ridgecv            4            1    .07992089    .07992089
  lassocv            5            1            0            0
  ridgecv            6            1    .05219205    .05219205
       rf            7            1    .52550237    .52550237
       rf            8            1    1.497e-16    1.497e-16
       rf            9            1    5.785e-16    5.785e-16
gradboost           10            1    5.682e-17    5.682e-17
gradboost           11            1    .06652058    .06652058
     nnet           12            1            0            0
     nnet           13            1    .01029447    .01029447

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01944531    .01944531
      ols            2            0            0            0
  lassocv            3            0    .18244935    .18244935
  ridgecv            4            0     .1853034     .1853034
  lassocv            5            0            0            0
  ridgecv            6            0    5.289e-16    5.289e-16
       rf            7            0    .46198985    .46198985
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0     .1454019     .1454019
     nnet           12            0            0            0
     nnet           13            0    .00541017    .00541017
      ols            1            1    1.378e-16    1.378e-16
      ols            2            1    6.200e-17    6.200e-17
  lassocv            3            1    .26556963    .26556963
  ridgecv            4            1    .07992089    .07992089
  lassocv            5            1            0            0
  ridgecv            6            1    .05219205    .05219205
       rf            7            1    .52550237    .52550237
       rf            8            1    1.497e-16    1.497e-16
       rf            9            1    5.785e-16    5.785e-16
gradboost           10            1    5.682e-17    5.682e-17
gradboost           11            1    .06652058    .06652058
     nnet           12            1            0            0
     nnet           13            1    .01029447    .01029447

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5347516    2.706248          1          0   .0194453   .0194453 |
   2. | 2.9660161   3.2034682          2          0          0          0 |
   3. | 2.8362723    2.867338          3          0   .1824494   .1824494 |
   4. | 2.4602145   2.5795766          4          0   .1853034   .1853034 |
   5. | 3.0964204   3.1626855          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5579435   2.6658077          6          0   5.29e-16   5.29e-16 |
   7. | 2.3804688   2.2957041          7          0   .4619898   .4619898 |
   8. | 2.6799118    2.707175          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_8756/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26020572    .26020572
    logit            2            0            0
  lassocv            3    .16792388    .16792388
  ridgecv            4    .01367852    .01367852
  lassocv            5    4.081e-16    4.081e-16
  ridgecv            6    4.097e-16    4.097e-16
       rf            7    .29299223    .29299223
       rf            8            0            0
       rf            9    5.770e-16    5.770e-16
gradboost           10            0            0
gradboost           11    .23692334    .23692334
     nnet           12            0            0
     nnet           13     .0282763     .0282763

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01944531    .01944531
      ols            2            0            0            0
  lassocv            3            0    .18244935    .18244935
  ridgecv            4            0     .1853034     .1853034
  lassocv            5            0            0            0
  ridgecv            6            0    5.289e-16    5.289e-16
       rf            7            0    .46198985    .46198985
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0     .1454019     .1454019
     nnet           12            0            0            0
     nnet           13            0    .00541017    .00541017
      ols            1            1    1.378e-16    1.378e-16
      ols            2            1    6.200e-17    6.200e-17
  lassocv            3            1    .26556963    .26556963
  ridgecv            4            1    .07992089    .07992089
  lassocv            5            1            0            0
  ridgecv            6            1    .05219205    .05219205
       rf            7            1    .52550237    .52550237
       rf            8            1    1.497e-16    1.497e-16
       rf            9            1    5.785e-16    5.785e-16
gradboost           10            1    5.682e-17    5.682e-17
gradboost           11            1    .06652058    .06652058
     nnet           12            1            0            0
     nnet           13            1    .01029447    .01029447

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .26020572    .26020572
    logit            2            0            0
  lassocv            3    .16792388    .16792388
  ridgecv            4    .01367852    .01367852
  lassocv            5    4.081e-16    4.081e-16
  ridgecv            6    4.097e-16    4.097e-16
       rf            7    .29299223    .29299223
       rf            8            0            0
       rf            9    5.770e-16    5.770e-16
gradboost           10            0            0
gradboost           11    .23692334    .23692334
     nnet           12            0            0
     nnet           13     .0282763     .0282763

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76060325          1   .2602057   .2602057 |
   2. | .40850166          2          0          0 |
   3. |  .1018487          3   .1679239   .1679239 |
   4. | .17646246          4   .0136785   .0136785 |
   5. | .57610698          5   4.08e-16   4.08e-16 |
      |--------------------------------------------|
   6. | .86193061          6   4.10e-16   4.10e-16 |
   7. | .81875192          7   .2929922   .2929922 |
   8. | .82605859          8          0          0 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_8756/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.105    (0.034)
  ss  1  [shortstack]          [ss]          [ss]    -0.091    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.096    (0.034)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0911908   .0186362    -4.89   0.000     -.127717   -.0546645
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.105    (0.034)
  ss  1  [shortstack]          [ss]          [ss]    -0.091    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.096    (0.034)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1046575   .0344253    -3.04   0.002    -.1721299   -.0371852
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 71 propensity scores trimmed to lower limit .01.
Warning: 19 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.091    (0.019)
  ss  1  [shortstack]          [ss]          [ss]    -0.091    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.096    (0.034)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0911908   .0186362    -4.89   0.000     -.127717   -.0546645
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.096    (0.034)
  ss  1  [shortstack]          [ss]          [ss]    -0.091    (0.019)
  ps  1   [poolstack]          [ps]          [ps]    -0.096    (0.034)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0960442   .0342456    -2.80   0.005    -.1631643   -.0289242
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 98 propensity scores trimmed to lower limit .01.
Warning: 20 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_8756/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0          0          0 |
   4. |        4          0         .1         .1 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .9         .9 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_8756/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .2           .2
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .8         .8 |
   4. |        4          0          0 |
   5. |        5          0          0 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_8756/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_8756/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4930961   2.7880454          1          0          0          0 |
   2. | 2.8965251   3.1455264          2          0          0          0 |
   3. | 2.9009833   2.9094024          3          0          0          0 |
   4. | 2.4868057   2.5900228          4          0          0          0 |
   5. | 3.0507851   3.1608658          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5260704   2.6424327          6          0          0          0 |
   7. | 2.4762795   2.5187142          7          0          1          1 |
   8. | 2.6944299   2.7874815          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_8756/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .83602387          1          0          0 |
   2. | .47418055          2          0          0 |
   3. | .09550226          3          0          0 |
   4. | .25864476          4          0          0 |
   5. | .58233958          5          0          0 |
      |--------------------------------------------|
   6. | .84831953          6          0          0 |
   7. | .73924333          7          0          0 |
   8. | .69799322          8          0          0 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_8756/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4930961   2.7880454          1          0          0          0 |
   2. | 2.8965251   3.1455264          2          0          0          0 |
   3. | 2.9009833   2.9094024          3          0          0          0 |
   4. | 2.4868057   2.5900228          4          0          0          0 |
   5. | 3.0507851   3.1608658          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5260704   2.6424327          6          0          0          0 |
   7. | 2.4762795   2.5187142          7          0          1          1 |
   8. | 2.6944299   2.7874815          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_8756/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .74653584          1          0          0 |
   2. | .34712097          2          0          0 |
   3. | .08483139          3          1          1 |
   4. | .21509174          4          0          0 |
   5. | .55637544          5          0          0 |
      |--------------------------------------------|
   6. | .84360737          6          0          0 |
   7. | .82097822          7          0          0 |
   8. | .76361394          8          0          0 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_8756/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    33.698    (2.249)
  ss  1  [shortstack]          [ss]          [ss]     0.063    (0.092)
  ps  1   [poolstack]          [ps]          [ps]     0.131    (0.099)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0633315   .0917338     0.69   0.490    -.1164634    .2431264
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2 propensity scores trimmed to lower limit .01.
Warning: 341 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    33.698    (2.249)
  ss  1  [shortstack]          [ss]          [ss]     0.063    (0.092)
  ps  1   [poolstack]          [ps]          [ps]     0.131    (0.099)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   33.69802   2.249092    14.98   0.000     29.28988    38.10616
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 1773 propensity scores trimmed to lower limit .01.
Warning: 1096 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.063    (0.092)
  ss  1  [shortstack]          [ss]          [ss]     0.063    (0.092)
  ps  1   [poolstack]          [ps]          [ps]     0.131    (0.099)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0633315   .0917338     0.69   0.490    -.1164634    .2431264
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2 propensity scores trimmed to lower limit .01.
Warning: 341 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.131    (0.099)
  ss  1  [shortstack]          [ss]          [ss]     0.063    (0.092)
  ps  1   [poolstack]          [ps]          [ps]     0.131    (0.099)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    .130916   .0990966     1.32   0.186    -.0633097    .3251417
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 7 propensity scores trimmed to lower limit .01.
Warning: 260 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21898286    .21898286
    logit            2    .07883047    .07883047
  lassocv            3    .33090824    .33090824
  ridgecv            4    .03650332    .03650332
  lassocv            5   -.18146526   -.18146526
  ridgecv            6    .03869044    .03869044
       rf            7    .41809986    .41809986
       rf            8    .07596619    .07596619
       rf            9   -.20482037   -.20482037
gradboost           10    .07508415    .07508415
gradboost           11    .16056491    .16056491
     nnet           12    .03989432    .03989432
     nnet           13    .02846888    .02846888

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01816773    .01816773
      ols            2            0   -.03750351   -.03750351
  lassocv            3            0    .18784984    .18784984
  ridgecv            4            0    .46503906    .46503906
  lassocv            5            0   -.14037218   -.14037218
  ridgecv            6            0   -.07086146   -.07086146
       rf            7            0    .68446528    .68446528
       rf            8            0   -.02194165   -.02194165
       rf            9            0   -.09569144   -.09569144
gradboost           10            0     .0150908     .0150908
gradboost           11            0    .08106036    .08106036
     nnet           12            0   -.09518552   -.09518552
     nnet           13            0   -.00419454   -.00419454
      ols            1            1   -.02846177   -.02846177
      ols            2            1   -.02235493   -.02235493
  lassocv            3            1     -.034604     -.034604
  ridgecv            4            1    .30274216    .30274216
  lassocv            5            1    .24474692    .24474692
  ridgecv            6            1   -.02216718   -.02216718
       rf            7            1    .54742761    .54742761
       rf            8            1    .42685878    .42685878
       rf            9            1   -.34311868   -.34311868
gradboost           10            1    -.0664794    -.0664794
gradboost           11            1    .04208652    .04208652
     nnet           12            1   -.03165816   -.03165816
     nnet           13            1    .00249954    .00249954

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21898286    .21898286
    logit            2    .07883047    .07883047
  lassocv            3    .33090824    .33090824
  ridgecv            4    .03650332    .03650332
  lassocv            5   -.18146526   -.18146526
  ridgecv            6    .03869044    .03869044
       rf            7    .41809986    .41809986
       rf            8    .07596619    .07596619
       rf            9   -.20482037   -.20482037
gradboost           10    .07508415    .07508415
gradboost           11    .16056491    .16056491
     nnet           12    .03989432    .03989432
     nnet           13    .02846888    .02846888

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01816773    .01816773
      ols            2            0   -.03750351   -.03750351
  lassocv            3            0    .18784984    .18784984
  ridgecv            4            0    .46503906    .46503906
  lassocv            5            0   -.14037218   -.14037218
  ridgecv            6            0   -.07086146   -.07086146
       rf            7            0    .68446528    .68446528
       rf            8            0   -.02194165   -.02194165
       rf            9            0   -.09569144   -.09569144
gradboost           10            0     .0150908     .0150908
gradboost           11            0    .08106036    .08106036
     nnet           12            0   -.09518552   -.09518552
     nnet           13            0   -.00419454   -.00419454
      ols            1            1   -.02846177   -.02846177
      ols            2            1   -.02235493   -.02235493
  lassocv            3            1     -.034604     -.034604
  ridgecv            4            1    .30274216    .30274216
  lassocv            5            1    .24474692    .24474692
  ridgecv            6            1   -.02216718   -.02216718
       rf            7            1    .54742761    .54742761
       rf            8            1    .42685878    .42685878
       rf            9            1   -.34311868   -.34311868
gradboost           10            1    -.0664794    -.0664794
gradboost           11            1    .04208652    .04208652
     nnet           12            1   -.03165816   -.03165816
     nnet           13            1    .00249954    .00249954

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01816773    .01816773
      ols            2            0   -.03750351   -.03750351
  lassocv            3            0    .18784984    .18784984
  ridgecv            4            0    .46503906    .46503906
  lassocv            5            0   -.14037218   -.14037218
  ridgecv            6            0   -.07086146   -.07086146
       rf            7            0    .68446528    .68446528
       rf            8            0   -.02194165   -.02194165
       rf            9            0   -.09569144   -.09569144
gradboost           10            0     .0150908     .0150908
gradboost           11            0    .08106036    .08106036
     nnet           12            0   -.09518552   -.09518552
     nnet           13            0   -.00419454   -.00419454
      ols            1            1   -.02846177   -.02846177
      ols            2            1   -.02235493   -.02235493
  lassocv            3            1     -.034604     -.034604
  ridgecv            4            1    .30274216    .30274216
  lassocv            5            1    .24474692    .24474692
  ridgecv            6            1   -.02216718   -.02216718
       rf            7            1    .54742761    .54742761
       rf            8            1    .42685878    .42685878
       rf            9            1   -.34311868   -.34311868
gradboost           10            1    -.0664794    -.0664794
gradboost           11            1    .04208652    .04208652
     nnet           12            1   -.03165816   -.03165816
     nnet           13            1    .00249954    .00249954

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0181677    .0181677 |
   2. |        2          0   -.0375035   -.0375035 |
   3. |        3          0    .1878498    .1878498 |
   4. |        4          0    .4650391    .4650391 |
   5. |        5          0   -.1403722   -.1403722 |
      |---------------------------------------------|
   6. |        6          0   -.0708615   -.0708615 |
   7. |        7          0    .6844653    .6844653 |
   8. |        8          0   -.0219417   -.0219417 |
      +---------------------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_8756/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21898286    .21898286
    logit            2    .07883047    .07883047
  lassocv            3    .33090824    .33090824
  ridgecv            4    .03650332    .03650332
  lassocv            5   -.18146526   -.18146526
  ridgecv            6    .03869044    .03869044
       rf            7    .41809986    .41809986
       rf            8    .07596619    .07596619
       rf            9   -.20482037   -.20482037
gradboost           10    .07508415    .07508415
gradboost           11    .16056491    .16056491
     nnet           12    .03989432    .03989432
     nnet           13    .02846888    .02846888

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01816773    .01816773
      ols            2            0   -.03750351   -.03750351
  lassocv            3            0    .18784984    .18784984
  ridgecv            4            0    .46503906    .46503906
  lassocv            5            0   -.14037218   -.14037218
  ridgecv            6            0   -.07086146   -.07086146
       rf            7            0    .68446528    .68446528
       rf            8            0   -.02194165   -.02194165
       rf            9            0   -.09569144   -.09569144
gradboost           10            0     .0150908     .0150908
gradboost           11            0    .08106036    .08106036
     nnet           12            0   -.09518552   -.09518552
     nnet           13            0   -.00419454   -.00419454
      ols            1            1   -.02846177   -.02846177
      ols            2            1   -.02235493   -.02235493
  lassocv            3            1     -.034604     -.034604
  ridgecv            4            1    .30274216    .30274216
  lassocv            5            1    .24474692    .24474692
  ridgecv            6            1   -.02216718   -.02216718
       rf            7            1    .54742761    .54742761
       rf            8            1    .42685878    .42685878
       rf            9            1   -.34311868   -.34311868
gradboost           10            1    -.0664794    -.0664794
gradboost           11            1    .04208652    .04208652
     nnet           12            1   -.03165816   -.03165816
     nnet           13            1    .00249954    .00249954

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .21898286    .21898286
    logit            2    .07883047    .07883047
  lassocv            3    .33090824    .33090824
  ridgecv            4    .03650332    .03650332
  lassocv            5   -.18146526   -.18146526
  ridgecv            6    .03869044    .03869044
       rf            7    .41809986    .41809986
       rf            8    .07596619    .07596619
       rf            9   -.20482037   -.20482037
gradboost           10    .07508415    .07508415
gradboost           11    .16056491    .16056491
     nnet           12    .03989432    .03989432
     nnet           13    .02846888    .02846888

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .2189829    .2189829 |
   2. |        2    .0788305    .0788305 |
   3. |        3    .3309082    .3309082 |
   4. |        4    .0365033    .0365033 |
   5. |        5   -.1814653   -.1814653 |
      |----------------------------------|
   6. |        6    .0386904    .0386904 |
   7. |        7    .4180999    .4180999 |
   8. |        8    .0759662    .0759662 |
      +----------------------------------+
(note: file out_8756/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_8756/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20731357    .20731357
    logit            2    .10268403    .10268403
  lassocv            3   -.05566735   -.05566735
  ridgecv            4    .25012426    .25012426
  lassocv            5    .08481018    .08481018
  ridgecv            6   -.14501866   -.14501866
       rf            7    .34468657    .34468657
       rf            8    .41044376    .41044376
       rf            9   -.43800566   -.43800566
gradboost           10    .03105333    .03105333
gradboost           11    .23316011    .23316011
     nnet           12    .01004098    .01004098
     nnet           13    .05553213    .05553213

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01765429    .01765429
      ols            2            0   -.06493398   -.06493398
  lassocv            3            0   -.17342663   -.17342663
  ridgecv            4            0    .67613334    .67613334
  lassocv            5            0    .02619319    .02619319
  ridgecv            6            0    -.1618331    -.1618331
       rf            7            0     .5507261     .5507261
       rf            8            0    .42692243    .42692243
       rf            9            0   -.50274265   -.50274265
gradboost           10            0    .02055936    .02055936
gradboost           11            0    .19549961    .19549961
     nnet           12            0   -.01349734   -.01349734
     nnet           13            0    .01426242    .01426242
      ols            1            1   -.00808562   -.00808562
      ols            2            1   -.01077062   -.01077062
  lassocv            3            1   -.04765867   -.04765867
  ridgecv            4            1    .15247009    .15247009
  lassocv            5            1    .42156217    .42156217
  ridgecv            6            1   -.05831502   -.05831502
       rf            7            1    .55697871    .55697871
       rf            8            1   -.09661246   -.09661246
       rf            9            1    .08229255    .08229255
gradboost           10            1   -.01873991   -.01873991
gradboost           11            1    .08278582    .08278582
     nnet           12            1    .04743695    .04743695
     nnet           13            1    .00575196    .00575196

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20731357    .20731357
    logit            2    .10268403    .10268403
  lassocv            3   -.05566735   -.05566735
  ridgecv            4    .25012426    .25012426
  lassocv            5    .08481018    .08481018
  ridgecv            6   -.14501866   -.14501866
       rf            7    .34468657    .34468657
       rf            8    .41044376    .41044376
       rf            9   -.43800566   -.43800566
gradboost           10    .03105333    .03105333
gradboost           11    .23316011    .23316011
     nnet           12    .01004098    .01004098
     nnet           13    .05553213    .05553213

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01765429    .01765429
      ols            2            0   -.06493398   -.06493398
  lassocv            3            0   -.17342663   -.17342663
  ridgecv            4            0    .67613334    .67613334
  lassocv            5            0    .02619319    .02619319
  ridgecv            6            0    -.1618331    -.1618331
       rf            7            0     .5507261     .5507261
       rf            8            0    .42692243    .42692243
       rf            9            0   -.50274265   -.50274265
gradboost           10            0    .02055936    .02055936
gradboost           11            0    .19549961    .19549961
     nnet           12            0   -.01349734   -.01349734
     nnet           13            0    .01426242    .01426242
      ols            1            1   -.00808562   -.00808562
      ols            2            1   -.01077062   -.01077062
  lassocv            3            1   -.04765867   -.04765867
  ridgecv            4            1    .15247009    .15247009
  lassocv            5            1    .42156217    .42156217
  ridgecv            6            1   -.05831502   -.05831502
       rf            7            1    .55697871    .55697871
       rf            8            1   -.09661246   -.09661246
       rf            9            1    .08229255    .08229255
gradboost           10            1   -.01873991   -.01873991
gradboost           11            1    .08278582    .08278582
     nnet           12            1    .04743695    .04743695
     nnet           13            1    .00575196    .00575196

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01765429    .01765429
      ols            2            0   -.06493398   -.06493398
  lassocv            3            0   -.17342663   -.17342663
  ridgecv            4            0    .67613334    .67613334
  lassocv            5            0    .02619319    .02619319
  ridgecv            6            0    -.1618331    -.1618331
       rf            7            0     .5507261     .5507261
       rf            8            0    .42692243    .42692243
       rf            9            0   -.50274265   -.50274265
gradboost           10            0    .02055936    .02055936
gradboost           11            0    .19549961    .19549961
     nnet           12            0   -.01349734   -.01349734
     nnet           13            0    .01426242    .01426242
      ols            1            1   -.00808562   -.00808562
      ols            2            1   -.01077062   -.01077062
  lassocv            3            1   -.04765867   -.04765867
  ridgecv            4            1    .15247009    .15247009
  lassocv            5            1    .42156217    .42156217
  ridgecv            6            1   -.05831502   -.05831502
       rf            7            1    .55697871    .55697871
       rf            8            1   -.09661246   -.09661246
       rf            9            1    .08229255    .08229255
gradboost           10            1   -.01873991   -.01873991
gradboost           11            1    .08278582    .08278582
     nnet           12            1    .04743695    .04743695
     nnet           13            1    .00575196    .00575196

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7958752   2.7310317          1          0    .0176543    .0176543 |
   2. | 3.2876921   3.2244396          2          0    -.064934    -.064934 |
   3. | 3.0767945   2.9260668          3          0   -.1734266   -.1734266 |
   4. | 2.7631338   2.6144858          4          0    .6761333    .6761333 |
   5. | 3.4031151   3.2432028          5          0    .0261932    .0261932 |
      |---------------------------------------------------------------------|
   6. | 2.8516646   2.6727865          6          0   -.1618331   -.1618331 |
   7. | 2.6827083   2.2988686          7          0    .5507261    .5507261 |
   8. | 2.9736745   2.7028864          8          0    .4269224    .4269224 |
      +---------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ss_ols_short_ia.dta not found)
file out_8756/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20731357    .20731357
    logit            2    .10268403    .10268403
  lassocv            3   -.05566735   -.05566735
  ridgecv            4    .25012426    .25012426
  lassocv            5    .08481018    .08481018
  ridgecv            6   -.14501866   -.14501866
       rf            7    .34468657    .34468657
       rf            8    .41044376    .41044376
       rf            9   -.43800566   -.43800566
gradboost           10    .03105333    .03105333
gradboost           11    .23316011    .23316011
     nnet           12    .01004098    .01004098
     nnet           13    .05553213    .05553213

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01765429    .01765429
      ols            2            0   -.06493398   -.06493398
  lassocv            3            0   -.17342663   -.17342663
  ridgecv            4            0    .67613334    .67613334
  lassocv            5            0    .02619319    .02619319
  ridgecv            6            0    -.1618331    -.1618331
       rf            7            0     .5507261     .5507261
       rf            8            0    .42692243    .42692243
       rf            9            0   -.50274265   -.50274265
gradboost           10            0    .02055936    .02055936
gradboost           11            0    .19549961    .19549961
     nnet           12            0   -.01349734   -.01349734
     nnet           13            0    .01426242    .01426242
      ols            1            1   -.00808562   -.00808562
      ols            2            1   -.01077062   -.01077062
  lassocv            3            1   -.04765867   -.04765867
  ridgecv            4            1    .15247009    .15247009
  lassocv            5            1    .42156217    .42156217
  ridgecv            6            1   -.05831502   -.05831502
       rf            7            1    .55697871    .55697871
       rf            8            1   -.09661246   -.09661246
       rf            9            1    .08229255    .08229255
gradboost           10            1   -.01873991   -.01873991
gradboost           11            1    .08278582    .08278582
     nnet           12            1    .04743695    .04743695
     nnet           13            1    .00575196    .00575196

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .20731357    .20731357
    logit            2    .10268403    .10268403
  lassocv            3   -.05566735   -.05566735
  ridgecv            4    .25012426    .25012426
  lassocv            5    .08481018    .08481018
  ridgecv            6   -.14501866   -.14501866
       rf            7    .34468657    .34468657
       rf            8    .41044376    .41044376
       rf            9   -.43800566   -.43800566
gradboost           10    .03105333    .03105333
gradboost           11    .23316011    .23316011
     nnet           12    .01004098    .01004098
     nnet           13    .05553213    .05553213

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .81404887          1    .2073136    .2073136 |
   2. | .46664653          2     .102684     .102684 |
   3. | .09915283          3   -.0556673   -.0556673 |
   4. | .17945347          4    .2501242    .2501242 |
   5. | .62134769          5    .0848102    .0848102 |
      |----------------------------------------------|
   6. | .93941943          6   -.1450187   -.1450187 |
   7. | .90568582          7    .3446866    .3446866 |
   8. | .90406201          8    .4104438    .4104438 |
      +----------------------------------------------+
(note: file out_8756/D_gender_r_ss_ols_short_ia.dta not found)
file out_8756/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21915256    .21915256
    logit            2    .07976947    .07976947
  lassocv            3    .22872013    .22872013
  ridgecv            4    .05681481    .05681481
  lassocv            5   -.08190137   -.08190137
  ridgecv            6    .01762498    .01762498
       rf            7    .42438969    .42438969
       rf            8    .05957615    .05957615
       rf            9   -.19376081   -.19376081
gradboost           10    .07825168    .07825168
gradboost           11    .16048497    .16048497
     nnet           12   -.00623044   -.00623044
     nnet           13    .02904085    .02904085

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01376153    .01376153
      ols            2            0   -.04492068   -.04492068
  lassocv            3            0    .21838376    .21838376
  ridgecv            4            0    .40307237    .40307237
  lassocv            5            0    -.1501997    -.1501997
  ridgecv            6            0   -.04298544   -.04298544
       rf            7            0    .69355839    .69355839
       rf            8            0   -.00392608   -.00392608
       rf            9            0   -.12144834   -.12144834
gradboost           10            0    .02276355    .02276355
gradboost           11            0    .07492834    .07492834
     nnet           12            0   -.00347188   -.00347188
     nnet           13            0   -.00017986   -.00017986
      ols            1            1   -.01167065   -.01167065
      ols            2            1   -.01874991   -.01874991
  lassocv            3            1    .14462891    .14462891
  ridgecv            4            1    .31216214    .31216214
  lassocv            5            1    .02515496    .02515496
  ridgecv            6            1   -.02165783   -.02165783
       rf            7            1     .5438743     .5438743
       rf            8            1    .47263789    .47263789
       rf            9            1   -.38203503   -.38203503
gradboost           10            1   -.04987427   -.04987427
gradboost           11            1    .04194392    .04194392
     nnet           12            1    .02185366    .02185366
     nnet           13            1    .00486855    .00486855

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21915256    .21915256
    logit            2    .07976947    .07976947
  lassocv            3    .22872013    .22872013
  ridgecv            4    .05681481    .05681481
  lassocv            5   -.08190137   -.08190137
  ridgecv            6    .01762498    .01762498
       rf            7    .42438969    .42438969
       rf            8    .05957615    .05957615
       rf            9   -.19376081   -.19376081
gradboost           10    .07825168    .07825168
gradboost           11    .16048497    .16048497
     nnet           12   -.00623044   -.00623044
     nnet           13    .02904085    .02904085

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01376153    .01376153
      ols            2            0   -.04492068   -.04492068
  lassocv            3            0    .21838376    .21838376
  ridgecv            4            0    .40307237    .40307237
  lassocv            5            0    -.1501997    -.1501997
  ridgecv            6            0   -.04298544   -.04298544
       rf            7            0    .69355839    .69355839
       rf            8            0   -.00392608   -.00392608
       rf            9            0   -.12144834   -.12144834
gradboost           10            0    .02276355    .02276355
gradboost           11            0    .07492834    .07492834
     nnet           12            0   -.00347188   -.00347188
     nnet           13            0   -.00017986   -.00017986
      ols            1            1   -.01167065   -.01167065
      ols            2            1   -.01874991   -.01874991
  lassocv            3            1    .14462891    .14462891
  ridgecv            4            1    .31216214    .31216214
  lassocv            5            1    .02515496    .02515496
  ridgecv            6            1   -.02165783   -.02165783
       rf            7            1     .5438743     .5438743
       rf            8            1    .47263789    .47263789
       rf            9            1   -.38203503   -.38203503
gradboost           10            1   -.04987427   -.04987427
gradboost           11            1    .04194392    .04194392
     nnet           12            1    .02185366    .02185366
     nnet           13            1    .00486855    .00486855

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01376153    .01376153
      ols            2            0   -.04492068   -.04492068
  lassocv            3            0    .21838376    .21838376
  ridgecv            4            0    .40307237    .40307237
  lassocv            5            0    -.1501997    -.1501997
  ridgecv            6            0   -.04298544   -.04298544
       rf            7            0    .69355839    .69355839
       rf            8            0   -.00392608   -.00392608
       rf            9            0   -.12144834   -.12144834
gradboost           10            0    .02276355    .02276355
gradboost           11            0    .07492834    .07492834
     nnet           12            0   -.00347188   -.00347188
     nnet           13            0   -.00017986   -.00017986
      ols            1            1   -.01167065   -.01167065
      ols            2            1   -.01874991   -.01874991
  lassocv            3            1    .14462891    .14462891
  ridgecv            4            1    .31216214    .31216214
  lassocv            5            1    .02515496    .02515496
  ridgecv            6            1   -.02165783   -.02165783
       rf            7            1     .5438743     .5438743
       rf            8            1    .47263789    .47263789
       rf            9            1   -.38203503   -.38203503
gradboost           10            1   -.04987427   -.04987427
gradboost           11            1    .04194392    .04194392
     nnet           12            1    .02185366    .02185366
     nnet           13            1    .00486855    .00486855

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7320531   2.8774864          1          0    .0137615    .0137615 |
   2. | 3.1893754    3.372838          2          0   -.0449207   -.0449207 |
   3. | 3.0226592   3.0488395          3          0    .2183838    .2183838 |
   4. | 2.6590588   2.7103214          4          0    .4030724    .4030724 |
   5. | 3.3688082   3.3492537          5          0   -.1501997   -.1501997 |
      |---------------------------------------------------------------------|
   6. | 2.7714892   2.8049238          6          0   -.0429854   -.0429854 |
   7. |  2.554325    2.472908          7          0    .6935584    .6935584 |
   8. | 2.9070434   2.8671093          8          0   -.0039261   -.0039261 |
      +---------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_8756/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21915256    .21915256
    logit            2    .07976947    .07976947
  lassocv            3    .22872013    .22872013
  ridgecv            4    .05681481    .05681481
  lassocv            5   -.08190137   -.08190137
  ridgecv            6    .01762498    .01762498
       rf            7    .42438969    .42438969
       rf            8    .05957615    .05957615
       rf            9   -.19376081   -.19376081
gradboost           10    .07825168    .07825168
gradboost           11    .16048497    .16048497
     nnet           12   -.00623044   -.00623044
     nnet           13    .02904085    .02904085

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01376153    .01376153
      ols            2            0   -.04492068   -.04492068
  lassocv            3            0    .21838376    .21838376
  ridgecv            4            0    .40307237    .40307237
  lassocv            5            0    -.1501997    -.1501997
  ridgecv            6            0   -.04298544   -.04298544
       rf            7            0    .69355839    .69355839
       rf            8            0   -.00392608   -.00392608
       rf            9            0   -.12144834   -.12144834
gradboost           10            0    .02276355    .02276355
gradboost           11            0    .07492834    .07492834
     nnet           12            0   -.00347188   -.00347188
     nnet           13            0   -.00017986   -.00017986
      ols            1            1   -.01167065   -.01167065
      ols            2            1   -.01874991   -.01874991
  lassocv            3            1    .14462891    .14462891
  ridgecv            4            1    .31216214    .31216214
  lassocv            5            1    .02515496    .02515496
  ridgecv            6            1   -.02165783   -.02165783
       rf            7            1     .5438743     .5438743
       rf            8            1    .47263789    .47263789
       rf            9            1   -.38203503   -.38203503
gradboost           10            1   -.04987427   -.04987427
gradboost           11            1    .04194392    .04194392
     nnet           12            1    .02185366    .02185366
     nnet           13            1    .00486855    .00486855

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .21915256    .21915256
    logit            2    .07976947    .07976947
  lassocv            3    .22872013    .22872013
  ridgecv            4    .05681481    .05681481
  lassocv            5   -.08190137   -.08190137
  ridgecv            6    .01762498    .01762498
       rf            7    .42438969    .42438969
       rf            8    .05957615    .05957615
       rf            9   -.19376081   -.19376081
gradboost           10    .07825168    .07825168
gradboost           11    .16048497    .16048497
     nnet           12   -.00623044   -.00623044
     nnet           13    .02904085    .02904085

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .80566384          1    .2191526    .2191526 |
   2. | .44620205          2    .0797695    .0797695 |
   3. |  .1148326          3    .2287201    .2287201 |
   4. | .17552139          4    .0568148    .0568148 |
   5. | .58968397          5   -.0819014   -.0819014 |
      |----------------------------------------------|
   6. | .93064617          6     .017625     .017625 |
   7. | .87677678          7    .4243897    .4243897 |
   8. | .86918607          8    .0595762    .0595762 |
      +----------------------------------------------+
(note: file out_8756/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_8756/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.103    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1025529   .0162606    -6.31   0.000    -.1344231   -.0706827
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.103    (0.016)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1025529   .0162606    -6.31   0.000    -.1344231   -.0706827
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.103    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1025529   .0162606    -6.31   0.000    -.1344231   -.0706827
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.103    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.103    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.103    (0.016)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1025529   .0162606    -6.31   0.000    -.1344231   -.0706827
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_8756/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_8756/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_8756/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_8756/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_8756/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6381553   2.7311157          1          0   .0769231   .0769231 |
   2. | 3.0590938   3.1229755          2          0   .0769231   .0769231 |
   3. | 2.9987499   2.8520588          3          0   .0769231   .0769231 |
   4. |  2.482323   2.6085041          4          0   .0769231   .0769231 |
   5. | 3.0603403   3.1391283          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5934743   2.6968099          6          0   .0769231   .0769231 |
   7. | 2.4761699   2.2686957          7          0   .0769231   .0769231 |
   8. | 2.7559518   2.7498923          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ss_avg_short_ia.dta not found)
file out_8756/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72569788          1   .0769231   .0769231 |
   2. | .42636153          2   .0769231   .0769231 |
   3. | .17025999          3   .0769231   .0769231 |
   4. | .30267461          4   .0769231   .0769231 |
   5. | .55631967          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80512982          6   .0769231   .0769231 |
   7. | .78655358          7   .0769231   .0769231 |
   8. | .76714295          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ss_avg_short_ia.dta not found)
file out_8756/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6381553   2.7311157          1          0   .0769231   .0769231 |
   2. | 3.0590938   3.1229755          2          0   .0769231   .0769231 |
   3. | 2.9987499   2.8520588          3          0   .0769231   .0769231 |
   4. |  2.482323   2.6085041          4          0   .0769231   .0769231 |
   5. | 3.0603403   3.1391283          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5934743   2.6968099          6          0   .0769231   .0769231 |
   7. | 2.4761699   2.2686957          7          0   .0769231   .0769231 |
   8. | 2.7559518   2.7498923          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_8756/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_8756/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72569788          1   .0769231   .0769231 |
   2. | .42636153          2   .0769231   .0769231 |
   3. | .17025999          3   .0769231   .0769231 |
   4. | .30267461          4   .0769231   .0769231 |
   5. | .55631967          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .80512982          6   .0769231   .0769231 |
   7. | .78655358          7   .0769231   .0769231 |
   8. | .76714295          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_8756/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_8756/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1202476   .0629302    -1.91   0.056    -.2435885    .0030933
------------------------------------------------------------------------------
Warning: 134 propensity scores trimmed to lower limit ..
Warning: 45 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1186154   .0162097    -7.32   0.000    -.1503858    -.086845
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0748227   .0470548    -1.59   0.112    -.1670483     .017403
------------------------------------------------------------------------------
Warning: 98 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0919478   .0719241    -1.28   0.201    -.2329164    .0490207
------------------------------------------------------------------------------
Warning: 82 propensity scores trimmed to lower limit ..
Warning: 19 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0567436   .0476484    -1.19   0.234    -.1501328    .0366456
------------------------------------------------------------------------------
Warning: 91 propensity scores trimmed to lower limit ..
Warning: 19 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0735674   .0785803    -0.94   0.349    -.2275819    .0804471
------------------------------------------------------------------------------
Warning: 77 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0793095   .0200877    -3.95   0.000    -.1186807   -.0399384
------------------------------------------------------------------------------
Warning: 4 propensity scores trimmed to lower limit ..
Warning: 1 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1050444   .0156777    -6.70   0.000    -.1357721   -.0743167
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1103786   .0150641    -7.33   0.000    -.1399037   -.0808534
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0867641   .0186783    -4.65   0.000    -.1233728   -.0501554
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.070086   .0310936    -2.25   0.024    -.1310284   -.0091436
------------------------------------------------------------------------------
Warning: 83 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1237656   .0153973    -8.04   0.000    -.1539438   -.0935874
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .5017543   .2437855     2.06   0.040     .0239435    .9795651
------------------------------------------------------------------------------
Warning: 191 propensity scores trimmed to lower limit ..
Warning: 145 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_8756/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.065    (0.035)
  ss  1  [shortstack]          [ss]          [ss]    -0.067    (0.038)
  ps  1   [poolstack]          [ps]          [ps]    -0.068    (0.033)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0667166   .0378128    -1.76   0.078    -.1408282    .0073951
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_3702/inter_mse.dta not found)
file out_3702/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.131       0.154       0.173       0.147
>        0.165       0.158       0.157       0.153       0.150       0.161  
   D_gender_r_ps   1      0.155       0.132       0.154       0.173       0.146
>        0.164       0.158       0.156       0.153       0.149       0.161  
   D_gender_r_ss   1      0.154       0.131       0.154       0.173       0.146
>        0.164       0.158       0.156       0.152       0.148       0.161  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.227       0.126       0.201       0.508       0.
> 158       0.235       0.191       0.181       0.173       0.259       0.190  
    Y1_pystacked 1    1      0.174       0.162       0.097       0.131       0.
> 131       0.172       0.306       0.208       0.165       0.231       0.138  
     Y_lnearn_ps 0    1      8.302       8.344       8.341       8.162       8.
> 331       8.418       8.100       8.119       8.533       8.465       8.235  
     Y_lnearn_ps 1    1      7.495       7.440       7.711       7.260       7.
> 404       7.551       7.625       7.565       7.581       7.328       7.450  
     Y_lnearn_ss 0    1      0.225       0.125       0.194       0.506       0.
> 159       0.233       0.190       0.179       0.171       0.254       0.189  
     Y_lnearn_ss 1    1      0.173       0.163       0.096       0.131       0.
> 130       0.171       0.301       0.206       0.164       0.231       0.137  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15494308    .13137051    .15443632    .17254321
D_gender_r~s            1    .15459465    .13184356    .15411175    .17282574
D_gender_r~s            1    .15439833    .13146776    .15395377    .17284853

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .14729125     .1650698    .15827555    .15678477    .15287338
D_gender_r~s    .14640718    .16445974    .15766932    .15601958    .15255195
D_gender_r~s    .14600049    .16441684    .15785108    .15614906    .15181733

                    fold9       fold10
D1_pystacked    .14977194    .16100436
D_gender_r~s    .14885575    .16119472
D_gender_r~s    .14826299    .16120801
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1549431 | .1313705 | .1544363 | .1725432 | .1472912 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1650698 | .1582755 | .1567848 | .1528734 | .1497719 | .1610044 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1545946 | .1318436 | .1541117 | .1728257 | .1464072 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1644597 | .1576693 | .1560196 | .1525519 | .1488557 | .1611947 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1543983 | .1314678 | .1539538 | .1728485 | .1460005 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1644168 | .1578511 | .1561491 | .1518173 |  .148263 |  .161208 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_3702/gender_r_mse_inter_gender_mse.dta not found)
file out_3702/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.131       0.154       0.173       0.147
>        0.165       0.158       0.157       0.153       0.150       0.161  
   D_gender_r_ps   1      0.155       0.132       0.154       0.173       0.146
>        0.164       0.158       0.156       0.153       0.149       0.161  
   D_gender_r_ss   1      0.154       0.131       0.154       0.173       0.146
>        0.164       0.158       0.156       0.152       0.148       0.161  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.227       0.126       0.201       0.508       0.
> 158       0.235       0.191       0.181       0.173       0.259       0.190  
    Y1_pystacked 1    1      0.174       0.162       0.097       0.131       0.
> 131       0.172       0.306       0.208       0.165       0.231       0.138  
     Y_lnearn_ps 0    1      8.302       8.344       8.341       8.162       8.
> 331       8.418       8.100       8.119       8.533       8.465       8.235  
     Y_lnearn_ps 1    1      7.495       7.440       7.711       7.260       7.
> 404       7.551       7.625       7.565       7.581       7.328       7.450  
     Y_lnearn_ss 0    1      0.225       0.125       0.194       0.506       0.
> 159       0.233       0.190       0.179       0.171       0.254       0.189  
     Y_lnearn_ss 1    1      0.173       0.163       0.096       0.131       0.
> 130       0.171       0.301       0.206       0.164       0.231       0.137  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .22694137    .12562197    .20057248
Y1_pystacked            1            1    .17381154    .16167136    .09659605
 Y_lnearn_ps            0            1    8.3020253    8.3436286    8.3408248
 Y_lnearn_ps            1            1    7.4951911    7.4403284    7.7110419
 Y_lnearn_ss            0            1     .2248779    .12481918    .19406689
 Y_lnearn_ss            1            1    .17289746    .16297722    .09574961

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .50757709    .15817784    .23494772    .19096338    .18078613
Y1_pystacked     .1309295     .1309049    .17199222    .30637357    .20757381
 Y_lnearn_ps    8.1623113    8.3311424    8.4178023    8.0998939    8.1193624
 Y_lnearn_ps     7.260107    7.4041043    7.5508686    7.6245804    7.5648886
 Y_lnearn_ss    .50552695    .15894952    .23268397    .19011692    .17911389
 Y_lnearn_ss    .13147117    .13004842    .17107746    .30129317    .20580625

                    fold8        fold9       fold10
Y1_pystacked    .17251298     .2585023    .18969008
Y1_pystacked    .16522081    .23075129    .13792318
 Y_lnearn_ps    8.5328202    8.4645323    8.2353933
 Y_lnearn_ps    7.5814645    7.3279831    7.4497872
 Y_lnearn_ss    .17069906    .25354149    .18855845
 Y_lnearn_ss     .1638104     .2310134      .137404
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2269414 |  .125622 | .2005725 | .5075771 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1581778 | .2349477 | .1909634 | .1807861 |  .172513 | .2585023 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1896901     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1738115 | .1616714 | .0965961 | .1309295 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1309049 | .1719922 | .3063736 | .2075738 | .1652208 | .2307513 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1379232     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.302026 | 8.343629 | 8.340825 | 8.162312 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.331142 | 8.417802 | 8.099894 | 8.119363 |  8.53282 | 8.464532 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.235394     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.495191 | 7.440329 | 7.711042 | 7.260107 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.404104 | 7.550869 |  7.62458 | 7.564888 | 7.581464 | 7.327983 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.449787     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2248779 | .1248192 | .1940669 |  .505527 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1589495 |  .232684 | .1901169 | .1791139 | .1706991 | .2535415 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1885584     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1728975 | .1629772 | .0957496 | .1314712 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1300484 | .1710775 | .3012932 | .2058063 | .1638104 | .2310134 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      .137404     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_3702/lnearn_mse_inter_lnearn_mse.dta not found)
file out_3702/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.065    (0.035)
  ss  1  [shortstack]          [ss]          [ss]    -0.067    (0.038)
  ps  1   [poolstack]          [ps]          [ps]    -0.068    (0.033)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0667166   .0378128    -1.76   0.078    -.1408282    .0073951
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.065    (0.035)
  ss  1  [shortstack]          [ss]          [ss]    -0.067    (0.038)
  ps  1   [poolstack]          [ps]          [ps]    -0.068    (0.033)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.065428   .0353228    -1.85   0.064    -.1346595    .0038035
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 6 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.067    (0.038)
  ss  1  [shortstack]          [ss]          [ss]    -0.067    (0.038)
  ps  1   [poolstack]          [ps]          [ps]    -0.068    (0.033)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0667166   .0378128    -1.76   0.078    -.1408282    .0073951
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.068    (0.033)
  ss  1  [shortstack]          [ss]          [ss]    -0.067    (0.038)
  ps  1   [poolstack]          [ps]          [ps]    -0.068    (0.033)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0680321    .032781    -2.08   0.038    -.1322817   -.0037826
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 5 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .21803932    .21803932
    logit            2    4.247e-17    4.247e-17
  lassocv            3     .0692831     .0692831
  ridgecv            4    .09032006    .09032006
  lassocv            5    .03305321    .03305321
  ridgecv            6    .02028478    .02028478
       rf            7    .24906363    .24906363
       rf            8    2.679e-17    2.679e-17
       rf            9    6.899e-17    6.899e-17
gradboost           10    .07572601    .07572601
gradboost           11    .20248597    .20248597
     nnet           12    .00196324    .00196324
     nnet           13    .03978067    .03978067

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02613937    .02613937
      ols            2            0    .00707522    .00707522
  lassocv            3            0    .13901224    .13901224
  ridgecv            4            0    .15035935    .15035935
  lassocv            5            0     .0296065     .0296065
  ridgecv            6            0    .00570947    .00570947
       rf            7            0    .44532733    .44532733
       rf            8            0    1.064e-16    1.064e-16
       rf            9            0    1.187e-16    1.187e-16
gradboost           10            0    .01974657    .01974657
gradboost           11            0    .16690694    .16690694
     nnet           12            0    .00318497    .00318497
     nnet           13            0    .00693204    .00693204
      ols            1            1    .00642918    .00642918
      ols            2            1    .00125036    .00125036
  lassocv            3            1    .14617932    .14617932
  ridgecv            4            1    .06456203    .06456203
  lassocv            5            1    .16886308    .16886308
  ridgecv            6            1    .00225277    .00225277
       rf            7            1      .514704      .514704
       rf            8            1    1.676e-13    1.676e-13
       rf            9            1    5.105e-13    5.105e-13
gradboost           10            1    .00704231    .00704231
gradboost           11            1    .05655514    .05655514
     nnet           12            1    .01025749    .01025749
     nnet           13            1    .02190431    .02190431

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .21803932    .21803932
    logit            2    4.247e-17    4.247e-17
  lassocv            3     .0692831     .0692831
  ridgecv            4    .09032006    .09032006
  lassocv            5    .03305321    .03305321
  ridgecv            6    .02028478    .02028478
       rf            7    .24906363    .24906363
       rf            8    2.679e-17    2.679e-17
       rf            9    6.899e-17    6.899e-17
gradboost           10    .07572601    .07572601
gradboost           11    .20248597    .20248597
     nnet           12    .00196324    .00196324
     nnet           13    .03978067    .03978067

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02613937    .02613937
      ols            2            0    .00707522    .00707522
  lassocv            3            0    .13901224    .13901224
  ridgecv            4            0    .15035935    .15035935
  lassocv            5            0     .0296065     .0296065
  ridgecv            6            0    .00570947    .00570947
       rf            7            0    .44532733    .44532733
       rf            8            0    1.064e-16    1.064e-16
       rf            9            0    1.187e-16    1.187e-16
gradboost           10            0    .01974657    .01974657
gradboost           11            0    .16690694    .16690694
     nnet           12            0    .00318497    .00318497
     nnet           13            0    .00693204    .00693204
      ols            1            1    .00642918    .00642918
      ols            2            1    .00125036    .00125036
  lassocv            3            1    .14617932    .14617932
  ridgecv            4            1    .06456203    .06456203
  lassocv            5            1    .16886308    .16886308
  ridgecv            6            1    .00225277    .00225277
       rf            7            1      .514704      .514704
       rf            8            1    1.676e-13    1.676e-13
       rf            9            1    5.105e-13    5.105e-13
gradboost           10            1    .00704231    .00704231
gradboost           11            1    .05655514    .05655514
     nnet           12            1    .01025749    .01025749
     nnet           13            1    .02190431    .02190431

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02613937    .02613937
      ols            2            0    .00707522    .00707522
  lassocv            3            0    .13901224    .13901224
  ridgecv            4            0    .15035935    .15035935
  lassocv            5            0     .0296065     .0296065
  ridgecv            6            0    .00570947    .00570947
       rf            7            0    .44532733    .44532733
       rf            8            0    1.064e-16    1.064e-16
       rf            9            0    1.187e-16    1.187e-16
gradboost           10            0    .01974657    .01974657
gradboost           11            0    .16690694    .16690694
     nnet           12            0    .00318497    .00318497
     nnet           13            0    .00693204    .00693204
      ols            1            1    .00642918    .00642918
      ols            2            1    .00125036    .00125036
  lassocv            3            1    .14617932    .14617932
  ridgecv            4            1    .06456203    .06456203
  lassocv            5            1    .16886308    .16886308
  ridgecv            6            1    .00225277    .00225277
       rf            7            1      .514704      .514704
       rf            8            1    1.676e-13    1.676e-13
       rf            9            1    5.105e-13    5.105e-13
gradboost           10            1    .00704231    .00704231
gradboost           11            1    .05655514    .05655514
     nnet           12            1    .01025749    .01025749
     nnet           13            1    .02190431    .02190431

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0261394   .0261394 |
   2. |        2          0   .0070752   .0070752 |
   3. |        3          0   .1390122   .1390122 |
   4. |        4          0   .1503593   .1503593 |
   5. |        5          0   .0296065   .0296065 |
      |-------------------------------------------|
   6. |        6          0   .0057095   .0057095 |
   7. |        7          0   .4453273   .4453273 |
   8. |        8          0   1.06e-16   1.06e-16 |
      +-------------------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_3702/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .21803932    .21803932
    logit            2    4.247e-17    4.247e-17
  lassocv            3     .0692831     .0692831
  ridgecv            4    .09032006    .09032006
  lassocv            5    .03305321    .03305321
  ridgecv            6    .02028478    .02028478
       rf            7    .24906363    .24906363
       rf            8    2.679e-17    2.679e-17
       rf            9    6.899e-17    6.899e-17
gradboost           10    .07572601    .07572601
gradboost           11    .20248597    .20248597
     nnet           12    .00196324    .00196324
     nnet           13    .03978067    .03978067

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02613937    .02613937
      ols            2            0    .00707522    .00707522
  lassocv            3            0    .13901224    .13901224
  ridgecv            4            0    .15035935    .15035935
  lassocv            5            0     .0296065     .0296065
  ridgecv            6            0    .00570947    .00570947
       rf            7            0    .44532733    .44532733
       rf            8            0    1.064e-16    1.064e-16
       rf            9            0    1.187e-16    1.187e-16
gradboost           10            0    .01974657    .01974657
gradboost           11            0    .16690694    .16690694
     nnet           12            0    .00318497    .00318497
     nnet           13            0    .00693204    .00693204
      ols            1            1    .00642918    .00642918
      ols            2            1    .00125036    .00125036
  lassocv            3            1    .14617932    .14617932
  ridgecv            4            1    .06456203    .06456203
  lassocv            5            1    .16886308    .16886308
  ridgecv            6            1    .00225277    .00225277
       rf            7            1      .514704      .514704
       rf            8            1    1.676e-13    1.676e-13
       rf            9            1    5.105e-13    5.105e-13
gradboost           10            1    .00704231    .00704231
gradboost           11            1    .05655514    .05655514
     nnet           12            1    .01025749    .01025749
     nnet           13            1    .02190431    .02190431

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .21803932    .21803932
    logit            2    4.247e-17    4.247e-17
  lassocv            3     .0692831     .0692831
  ridgecv            4    .09032006    .09032006
  lassocv            5    .03305321    .03305321
  ridgecv            6    .02028478    .02028478
       rf            7    .24906363    .24906363
       rf            8    2.679e-17    2.679e-17
       rf            9    6.899e-17    6.899e-17
gradboost           10    .07572601    .07572601
gradboost           11    .20248597    .20248597
     nnet           12    .00196324    .00196324
     nnet           13    .03978067    .03978067

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2180393   .2180393 |
   2. |        2   4.25e-17   4.25e-17 |
   3. |        3   .0692831   .0692831 |
   4. |        4   .0903201   .0903201 |
   5. |        5   .0330532   .0330532 |
      |--------------------------------|
   6. |        6   .0202848   .0202848 |
   7. |        7   .2490636   .2490636 |
   8. |        8   2.68e-17   2.68e-17 |
      +--------------------------------+
(note: file out_3702/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_3702/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .20992597    .20992597
    logit            2    1.156e-16    1.156e-16
  lassocv            3    .01908135    .01908135
  ridgecv            4    .20298821    .20298821
  lassocv            5            0            0
  ridgecv            6    4.210e-17    4.210e-17
       rf            7    .29338428    .29338428
       rf            8    1.352e-16    1.352e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .27462019    .27462019
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07104056    .07104056
      ols            2            0    1.626e-16    1.626e-16
  lassocv            3            0    .06256651    .06256651
  ridgecv            4            0    .21310026    .21310026
  lassocv            5            0            0            0
  ridgecv            6            0    2.094e-16    2.094e-16
       rf            7            0     .4811649     .4811649
       rf            8            0    1.237e-16    1.237e-16
       rf            9            0    1.614e-16    1.614e-16
gradboost           10            0    2.252e-17    2.252e-17
gradboost           11            0    .17212777    .17212777
     nnet           12            0    1.240e-16    1.240e-16
     nnet           13            0            0            0
      ols            1            1    1.236e-17    1.236e-17
      ols            2            1    3.369e-17    3.369e-17
  lassocv            3            1    1.558e-18    1.558e-18
  ridgecv            4            1    .09267824    .09267824
  lassocv            5            1     .2738445     .2738445
  ridgecv            6            1            0            0
       rf            7            1    .52022851    .52022851
       rf            8            1            0            0
       rf            9            1    3.408e-17    3.408e-17
gradboost           10            1    6.847e-17    6.847e-17
gradboost           11            1    .06845877    .06845877
     nnet           12            1    2.096e-17    2.096e-17
     nnet           13            1    .04478998    .04478998

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .20992597    .20992597
    logit            2    1.156e-16    1.156e-16
  lassocv            3    .01908135    .01908135
  ridgecv            4    .20298821    .20298821
  lassocv            5            0            0
  ridgecv            6    4.210e-17    4.210e-17
       rf            7    .29338428    .29338428
       rf            8    1.352e-16    1.352e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .27462019    .27462019
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07104056    .07104056
      ols            2            0    1.626e-16    1.626e-16
  lassocv            3            0    .06256651    .06256651
  ridgecv            4            0    .21310026    .21310026
  lassocv            5            0            0            0
  ridgecv            6            0    2.094e-16    2.094e-16
       rf            7            0     .4811649     .4811649
       rf            8            0    1.237e-16    1.237e-16
       rf            9            0    1.614e-16    1.614e-16
gradboost           10            0    2.252e-17    2.252e-17
gradboost           11            0    .17212777    .17212777
     nnet           12            0    1.240e-16    1.240e-16
     nnet           13            0            0            0
      ols            1            1    1.236e-17    1.236e-17
      ols            2            1    3.369e-17    3.369e-17
  lassocv            3            1    1.558e-18    1.558e-18
  ridgecv            4            1    .09267824    .09267824
  lassocv            5            1     .2738445     .2738445
  ridgecv            6            1            0            0
       rf            7            1    .52022851    .52022851
       rf            8            1            0            0
       rf            9            1    3.408e-17    3.408e-17
gradboost           10            1    6.847e-17    6.847e-17
gradboost           11            1    .06845877    .06845877
     nnet           12            1    2.096e-17    2.096e-17
     nnet           13            1    .04478998    .04478998

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07104056    .07104056
      ols            2            0    1.626e-16    1.626e-16
  lassocv            3            0    .06256651    .06256651
  ridgecv            4            0    .21310026    .21310026
  lassocv            5            0            0            0
  ridgecv            6            0    2.094e-16    2.094e-16
       rf            7            0     .4811649     .4811649
       rf            8            0    1.237e-16    1.237e-16
       rf            9            0    1.614e-16    1.614e-16
gradboost           10            0    2.252e-17    2.252e-17
gradboost           11            0    .17212777    .17212777
     nnet           12            0    1.240e-16    1.240e-16
     nnet           13            0            0            0
      ols            1            1    1.236e-17    1.236e-17
      ols            2            1    3.369e-17    3.369e-17
  lassocv            3            1    1.558e-18    1.558e-18
  ridgecv            4            1    .09267824    .09267824
  lassocv            5            1     .2738445     .2738445
  ridgecv            6            1            0            0
       rf            7            1    .52022851    .52022851
       rf            8            1            0            0
       rf            9            1    3.408e-17    3.408e-17
gradboost           10            1    6.847e-17    6.847e-17
gradboost           11            1    .06845877    .06845877
     nnet           12            1    2.096e-17    2.096e-17
     nnet           13            1    .04478998    .04478998

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5212209    2.778666          1          0   .0710406   .0710406 |
   2. | 2.9973879   3.2417266          2          0   1.63e-16   1.63e-16 |
   3. | 2.8484257   2.8970482          3          0   .0625665   .0625665 |
   4. | 2.4367182   2.6640305          4          0   .2131003   .2131003 |
   5. | 3.1240495   3.1287672          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5516778   2.6561586          6          0   2.09e-16   2.09e-16 |
   7. | 2.3799683   2.5865971          7          0   .4811649   .4811649 |
   8. | 2.6158938   2.6780484          8          0   1.24e-16   1.24e-16 |
      +-------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_3702/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .20992597    .20992597
    logit            2    1.156e-16    1.156e-16
  lassocv            3    .01908135    .01908135
  ridgecv            4    .20298821    .20298821
  lassocv            5            0            0
  ridgecv            6    4.210e-17    4.210e-17
       rf            7    .29338428    .29338428
       rf            8    1.352e-16    1.352e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .27462019    .27462019
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07104056    .07104056
      ols            2            0    1.626e-16    1.626e-16
  lassocv            3            0    .06256651    .06256651
  ridgecv            4            0    .21310026    .21310026
  lassocv            5            0            0            0
  ridgecv            6            0    2.094e-16    2.094e-16
       rf            7            0     .4811649     .4811649
       rf            8            0    1.237e-16    1.237e-16
       rf            9            0    1.614e-16    1.614e-16
gradboost           10            0    2.252e-17    2.252e-17
gradboost           11            0    .17212777    .17212777
     nnet           12            0    1.240e-16    1.240e-16
     nnet           13            0            0            0
      ols            1            1    1.236e-17    1.236e-17
      ols            2            1    3.369e-17    3.369e-17
  lassocv            3            1    1.558e-18    1.558e-18
  ridgecv            4            1    .09267824    .09267824
  lassocv            5            1     .2738445     .2738445
  ridgecv            6            1            0            0
       rf            7            1    .52022851    .52022851
       rf            8            1            0            0
       rf            9            1    3.408e-17    3.408e-17
gradboost           10            1    6.847e-17    6.847e-17
gradboost           11            1    .06845877    .06845877
     nnet           12            1    2.096e-17    2.096e-17
     nnet           13            1    .04478998    .04478998

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .20992597    .20992597
    logit            2    1.156e-16    1.156e-16
  lassocv            3    .01908135    .01908135
  ridgecv            4    .20298821    .20298821
  lassocv            5            0            0
  ridgecv            6    4.210e-17    4.210e-17
       rf            7    .29338428    .29338428
       rf            8    1.352e-16    1.352e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .27462019    .27462019
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .79504684          1    .209926    .209926 |
   2. |  .4260129          2   1.16e-16   1.16e-16 |
   3. | .09656252          3   .0190814   .0190814 |
   4. | .21602893          4   .2029882   .2029882 |
   5. | .54907769          5          0          0 |
      |--------------------------------------------|
   6. | .84454278          6   4.21e-17   4.21e-17 |
   7. | .82917989          7   .2933843   .2933843 |
   8. |  .8470852          8   1.35e-16   1.35e-16 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_3702/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24654293    .24654293
    logit            2    1.567e-16    1.567e-16
  lassocv            3    .09549751    .09549751
  ridgecv            4    .10143585    .10143585
  lassocv            5    3.422e-17    3.422e-17
  ridgecv            6    5.986e-18    5.986e-18
       rf            7    .26115413    .26115413
       rf            8    7.484e-17    7.484e-17
       rf            9            0            0
gradboost           10    .05018782    .05018782
gradboost           11    .21851691    .21851691
     nnet           12    1.195e-16    1.195e-16
     nnet           13    .02666485    .02666485

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01546885    .01546885
      ols            2            0            0            0
  lassocv            3            0    .20129102    .20129102
  ridgecv            4            0    .13390728    .13390728
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0    .47195577    .47195577
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17737707    .17737707
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .29657526    .29657526
  ridgecv            4            1    .07601452    .07601452
  lassocv            5            1    .01771979    .01771979
  ridgecv            6            1            0            0
       rf            7            1    .52630137    .52630137
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .06942269    .06942269
     nnet           12            1            0            0
     nnet           13            1    .01396637    .01396637

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24654293    .24654293
    logit            2    1.567e-16    1.567e-16
  lassocv            3    .09549751    .09549751
  ridgecv            4    .10143585    .10143585
  lassocv            5    3.422e-17    3.422e-17
  ridgecv            6    5.986e-18    5.986e-18
       rf            7    .26115413    .26115413
       rf            8    7.484e-17    7.484e-17
       rf            9            0            0
gradboost           10    .05018782    .05018782
gradboost           11    .21851691    .21851691
     nnet           12    1.195e-16    1.195e-16
     nnet           13    .02666485    .02666485

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01546885    .01546885
      ols            2            0            0            0
  lassocv            3            0    .20129102    .20129102
  ridgecv            4            0    .13390728    .13390728
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0    .47195577    .47195577
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17737707    .17737707
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .29657526    .29657526
  ridgecv            4            1    .07601452    .07601452
  lassocv            5            1    .01771979    .01771979
  ridgecv            6            1            0            0
       rf            7            1    .52630137    .52630137
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .06942269    .06942269
     nnet           12            1            0            0
     nnet           13            1    .01396637    .01396637

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01546885    .01546885
      ols            2            0            0            0
  lassocv            3            0    .20129102    .20129102
  ridgecv            4            0    .13390728    .13390728
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0    .47195577    .47195577
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17737707    .17737707
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .29657526    .29657526
  ridgecv            4            1    .07601452    .07601452
  lassocv            5            1    .01771979    .01771979
  ridgecv            6            1            0            0
       rf            7            1    .52630137    .52630137
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .06942269    .06942269
     nnet           12            1            0            0
     nnet           13            1    .01396637    .01396637

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5127415   2.7552214          1          0   .0154689   .0154689 |
   2. | 2.9819618   3.2421707          2          0          0          0 |
   3. | 2.8229791   2.8815416          3          0    .201291    .201291 |
   4. | 2.4296911   2.6622159          4          0   .1339073   .1339073 |
   5. | 3.1238253   3.1327442          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5334332   2.6501851          6          0          0          0 |
   7. | 2.3635335     2.60299          7          0   .4719558   .4719558 |
   8. |  2.600892   2.6858492          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_3702/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24654293    .24654293
    logit            2    1.567e-16    1.567e-16
  lassocv            3    .09549751    .09549751
  ridgecv            4    .10143585    .10143585
  lassocv            5    3.422e-17    3.422e-17
  ridgecv            6    5.986e-18    5.986e-18
       rf            7    .26115413    .26115413
       rf            8    7.484e-17    7.484e-17
       rf            9            0            0
gradboost           10    .05018782    .05018782
gradboost           11    .21851691    .21851691
     nnet           12    1.195e-16    1.195e-16
     nnet           13    .02666485    .02666485

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01546885    .01546885
      ols            2            0            0            0
  lassocv            3            0    .20129102    .20129102
  ridgecv            4            0    .13390728    .13390728
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0    .47195577    .47195577
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .17737707    .17737707
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1    .29657526    .29657526
  ridgecv            4            1    .07601452    .07601452
  lassocv            5            1    .01771979    .01771979
  ridgecv            6            1            0            0
       rf            7            1    .52630137    .52630137
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .06942269    .06942269
     nnet           12            1            0            0
     nnet           13            1    .01396637    .01396637

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .24654293    .24654293
    logit            2    1.567e-16    1.567e-16
  lassocv            3    .09549751    .09549751
  ridgecv            4    .10143585    .10143585
  lassocv            5    3.422e-17    3.422e-17
  ridgecv            6    5.986e-18    5.986e-18
       rf            7    .26115413    .26115413
       rf            8    7.484e-17    7.484e-17
       rf            9            0            0
gradboost           10    .05018782    .05018782
gradboost           11    .21851691    .21851691
     nnet           12    1.195e-16    1.195e-16
     nnet           13    .02666485    .02666485

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .78606039          1   .2465429   .2465429 |
   2. | .41676598          2   1.57e-16   1.57e-16 |
   3. | .09180517          3   .0954975   .0954975 |
   4. | .21028848          4   .1014359   .1014359 |
   5. | .55934517          5   3.42e-17   3.42e-17 |
      |--------------------------------------------|
   6. | .84533066          6   5.99e-18   5.99e-18 |
   7. | .82823951          7   .2611541   .2611541 |
   8. | .84729096          8   7.48e-17   7.48e-17 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_3702/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.032    (0.094)
  ss  1  [shortstack]          [ss]          [ss]    -0.024    (0.099)
  ps  1   [poolstack]          [ps]          [ps]    -0.078    (0.035)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.024299   .0985593    -0.25   0.805    -.2174716    .1688736
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 101 propensity scores trimmed to lower limit .01.
Warning: 35 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.032    (0.094)
  ss  1  [shortstack]          [ss]          [ss]    -0.024    (0.099)
  ps  1   [poolstack]          [ps]          [ps]    -0.078    (0.035)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0316602    .094128    -0.34   0.737    -.2161477    .1528272
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 75 propensity scores trimmed to lower limit .01.
Warning: 23 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.024    (0.099)
  ss  1  [shortstack]          [ss]          [ss]    -0.024    (0.099)
  ps  1   [poolstack]          [ps]          [ps]    -0.078    (0.035)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.024299   .0985593    -0.25   0.805    -.2174716    .1688736
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 101 propensity scores trimmed to lower limit .01.
Warning: 35 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.078    (0.035)
  ss  1  [shortstack]          [ss]          [ss]    -0.024    (0.099)
  ps  1   [poolstack]          [ps]          [ps]    -0.078    (0.035)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0781737   .0348957    -2.24   0.025    -.1465679   -.0097794
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 87 propensity scores trimmed to lower limit .01.
Warning: 29 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0         .1         .1 |
   4. |        4          0          0          0 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .9         .9 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_3702/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .7           .7
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6           .1           .1
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .7         .7 |
   4. |        4         .1         .1 |
   5. |        5          0          0 |
      |--------------------------------|
   6. |        6         .1         .1 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_3702/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_3702/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            1            1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            1            1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4822781    2.775543          1          0          0          0 |
   2. | 2.8969553   3.2071464          2          0          0          0 |
   3. | 2.9273171    2.879256          3          0          0          0 |
   4. | 2.4669778   2.6041734          4          0          0          0 |
   5. |  3.087177   3.1268489          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5082827   2.6759763          6          0          0          0 |
   7. | 2.5100493   2.7480071          7          0          1          1 |
   8. | 2.5949435   2.7987211          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_3702/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            1            1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            1            1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .68413782          1          0          0 |
   2. |  .3436799          2          0          0 |
   3. | .08236393          3          0          0 |
   4. | .27832365          4          1          1 |
   5. |   .652466          5          0          0 |
      |--------------------------------------------|
   6. | .84021044          6          0          0 |
   7. | .88972795          7          0          0 |
   8. | .71217293          8          0          0 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_3702/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4822781    2.775543          1          0          0          0 |
   2. | 2.8969553   3.2071464          2          0          0          0 |
   3. | 2.9273171    2.879256          3          0          0          0 |
   4. | 2.4669778   2.6041734          4          0          0          0 |
   5. |  3.087177   3.1268489          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5082827   2.6759763          6          0          0          0 |
   7. | 2.5100493   2.7480071          7          0          1          1 |
   8. | 2.5949435   2.7987211          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_3702/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .69930279          1          0          0 |
   2. | .35792041          2          0          0 |
   3. | .02530917          3          1          1 |
   4. | .24787381          4          0          0 |
   5. | .64404875          5          0          0 |
      |--------------------------------------------|
   6. | .83177507          6          0          0 |
   7. | .91547465          7          0          0 |
   8. | .75907969          8          0          0 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_3702/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.580    (0.304)
  ss  1  [shortstack]          [ss]          [ss]     0.022    (0.113)
  ps  1   [poolstack]          [ps]          [ps]     0.091    (0.103)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0215657   .1127872     0.19   0.848    -.1994932    .2426245
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 172 propensity scores trimmed to lower limit .01.
Warning: 34 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.580    (0.304)
  ss  1  [shortstack]          [ss]          [ss]     0.022    (0.113)
  ps  1   [poolstack]          [ps]          [ps]     0.091    (0.103)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.5800291   .3037706    -1.91   0.056    -1.175409    .0153503
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 1739 propensity scores trimmed to lower limit .01.
Warning: 430 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.022    (0.113)
  ss  1  [shortstack]          [ss]          [ss]     0.022    (0.113)
  ps  1   [poolstack]          [ps]          [ps]     0.091    (0.103)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0215657   .1127872     0.19   0.848    -.1994932    .2426245
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 172 propensity scores trimmed to lower limit .01.
Warning: 34 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.091    (0.103)
  ss  1  [shortstack]          [ss]          [ss]     0.022    (0.113)
  ps  1   [poolstack]          [ps]          [ps]     0.091    (0.103)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0913947   .1033086     0.88   0.376    -.1110863    .2938758
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 15 propensity scores trimmed to lower limit .01.
Warning: 213 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .17862032    .17862032
    logit            2    .08223696    .08223696
  lassocv            3     .2030347     .2030347
  ridgecv            4    .14827741    .14827741
  lassocv            5   -.06972332   -.06972332
  ridgecv            6   -.02285551   -.02285551
       rf            7    .38907731    .38907731
       rf            8    .06558125    .06558125
       rf            9   -.23255305   -.23255305
gradboost           10    .15862389    .15862389
gradboost           11    .12483053    .12483053
     nnet           12   -2.2897575   -2.2897575
     nnet           13    .03958382    .03958382

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02775658    .02775658
      ols            2            0   -.02024105   -.02024105
  lassocv            3            0    .10490337    .10490337
  ridgecv            4            0     .4774148     .4774148
  lassocv            5            0   -.09276439   -.09276439
  ridgecv            6            0   -.08246446   -.08246446
       rf            7            0    .65101346    .65101346
       rf            8            0    .01318639    .01318639
       rf            9            0   -.15642004   -.15642004
gradboost           10            0     .0588134     .0588134
gradboost           11            0    .09235511    .09235511
     nnet           12            0   -.37666536   -.37666536
     nnet           13            0   -.00735725   -.00735725
      ols            1            1   -.02715902   -.02715902
      ols            2            1   -.01613524   -.01613524
  lassocv            3            1    .01758951    .01758951
  ridgecv            4            1    .29941356    .29941356
  lassocv            5            1    .22077911    .22077911
  ridgecv            6            1   -.05582641   -.05582641
       rf            7            1    .53754156    .53754156
       rf            8            1    .36282929    .36282929
       rf            9            1   -.25401552   -.25401552
gradboost           10            1   -.04872077   -.04872077
gradboost           11            1    .04514734    .04514734
     nnet           12            1   -.74586339   -.74586339
     nnet           13            1     .0093571     .0093571

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .17862032    .17862032
    logit            2    .08223696    .08223696
  lassocv            3     .2030347     .2030347
  ridgecv            4    .14827741    .14827741
  lassocv            5   -.06972332   -.06972332
  ridgecv            6   -.02285551   -.02285551
       rf            7    .38907731    .38907731
       rf            8    .06558125    .06558125
       rf            9   -.23255305   -.23255305
gradboost           10    .15862389    .15862389
gradboost           11    .12483053    .12483053
     nnet           12   -2.2897575   -2.2897575
     nnet           13    .03958382    .03958382

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02775658    .02775658
      ols            2            0   -.02024105   -.02024105
  lassocv            3            0    .10490337    .10490337
  ridgecv            4            0     .4774148     .4774148
  lassocv            5            0   -.09276439   -.09276439
  ridgecv            6            0   -.08246446   -.08246446
       rf            7            0    .65101346    .65101346
       rf            8            0    .01318639    .01318639
       rf            9            0   -.15642004   -.15642004
gradboost           10            0     .0588134     .0588134
gradboost           11            0    .09235511    .09235511
     nnet           12            0   -.37666536   -.37666536
     nnet           13            0   -.00735725   -.00735725
      ols            1            1   -.02715902   -.02715902
      ols            2            1   -.01613524   -.01613524
  lassocv            3            1    .01758951    .01758951
  ridgecv            4            1    .29941356    .29941356
  lassocv            5            1    .22077911    .22077911
  ridgecv            6            1   -.05582641   -.05582641
       rf            7            1    .53754156    .53754156
       rf            8            1    .36282929    .36282929
       rf            9            1   -.25401552   -.25401552
gradboost           10            1   -.04872077   -.04872077
gradboost           11            1    .04514734    .04514734
     nnet           12            1   -.74586339   -.74586339
     nnet           13            1     .0093571     .0093571

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02775658    .02775658
      ols            2            0   -.02024105   -.02024105
  lassocv            3            0    .10490337    .10490337
  ridgecv            4            0     .4774148     .4774148
  lassocv            5            0   -.09276439   -.09276439
  ridgecv            6            0   -.08246446   -.08246446
       rf            7            0    .65101346    .65101346
       rf            8            0    .01318639    .01318639
       rf            9            0   -.15642004   -.15642004
gradboost           10            0     .0588134     .0588134
gradboost           11            0    .09235511    .09235511
     nnet           12            0   -.37666536   -.37666536
     nnet           13            0   -.00735725   -.00735725
      ols            1            1   -.02715902   -.02715902
      ols            2            1   -.01613524   -.01613524
  lassocv            3            1    .01758951    .01758951
  ridgecv            4            1    .29941356    .29941356
  lassocv            5            1    .22077911    .22077911
  ridgecv            6            1   -.05582641   -.05582641
       rf            7            1    .53754156    .53754156
       rf            8            1    .36282929    .36282929
       rf            9            1   -.25401552   -.25401552
gradboost           10            1   -.04872077   -.04872077
gradboost           11            1    .04514734    .04514734
     nnet           12            1   -.74586339   -.74586339
     nnet           13            1     .0093571     .0093571

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0277566    .0277566 |
   2. |        2          0    -.020241    -.020241 |
   3. |        3          0    .1049034    .1049034 |
   4. |        4          0    .4774148    .4774148 |
   5. |        5          0   -.0927644   -.0927644 |
      |---------------------------------------------|
   6. |        6          0   -.0824645   -.0824645 |
   7. |        7          0    .6510134    .6510134 |
   8. |        8          0    .0131864    .0131864 |
      +---------------------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_3702/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .17862032    .17862032
    logit            2    .08223696    .08223696
  lassocv            3     .2030347     .2030347
  ridgecv            4    .14827741    .14827741
  lassocv            5   -.06972332   -.06972332
  ridgecv            6   -.02285551   -.02285551
       rf            7    .38907731    .38907731
       rf            8    .06558125    .06558125
       rf            9   -.23255305   -.23255305
gradboost           10    .15862389    .15862389
gradboost           11    .12483053    .12483053
     nnet           12   -2.2897575   -2.2897575
     nnet           13    .03958382    .03958382

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02775658    .02775658
      ols            2            0   -.02024105   -.02024105
  lassocv            3            0    .10490337    .10490337
  ridgecv            4            0     .4774148     .4774148
  lassocv            5            0   -.09276439   -.09276439
  ridgecv            6            0   -.08246446   -.08246446
       rf            7            0    .65101346    .65101346
       rf            8            0    .01318639    .01318639
       rf            9            0   -.15642004   -.15642004
gradboost           10            0     .0588134     .0588134
gradboost           11            0    .09235511    .09235511
     nnet           12            0   -.37666536   -.37666536
     nnet           13            0   -.00735725   -.00735725
      ols            1            1   -.02715902   -.02715902
      ols            2            1   -.01613524   -.01613524
  lassocv            3            1    .01758951    .01758951
  ridgecv            4            1    .29941356    .29941356
  lassocv            5            1    .22077911    .22077911
  ridgecv            6            1   -.05582641   -.05582641
       rf            7            1    .53754156    .53754156
       rf            8            1    .36282929    .36282929
       rf            9            1   -.25401552   -.25401552
gradboost           10            1   -.04872077   -.04872077
gradboost           11            1    .04514734    .04514734
     nnet           12            1   -.74586339   -.74586339
     nnet           13            1     .0093571     .0093571

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .17862032    .17862032
    logit            2    .08223696    .08223696
  lassocv            3     .2030347     .2030347
  ridgecv            4    .14827741    .14827741
  lassocv            5   -.06972332   -.06972332
  ridgecv            6   -.02285551   -.02285551
       rf            7    .38907731    .38907731
       rf            8    .06558125    .06558125
       rf            9   -.23255305   -.23255305
gradboost           10    .15862389    .15862389
gradboost           11    .12483053    .12483053
     nnet           12   -2.2897575   -2.2897575
     nnet           13    .03958382    .03958382

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .1786203    .1786203 |
   2. |        2     .082237     .082237 |
   3. |        3    .2030347    .2030347 |
   4. |        4    .1482774    .1482774 |
   5. |        5   -.0697233   -.0697233 |
      |----------------------------------|
   6. |        6   -.0228555   -.0228555 |
   7. |        7    .3890773    .3890773 |
   8. |        8    .0655812    .0655812 |
      +----------------------------------+
(note: file out_3702/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_3702/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23245788    .23245788
    logit            2    .08295268    .08295268
  lassocv            3    .16261774    .16261774
  ridgecv            4    .40337159    .40337159
  lassocv            5   -.21633869   -.21633869
  ridgecv            6   -.12276901   -.12276901
       rf            7    .46540021    .46540021
       rf            8    .14578597    .14578597
       rf            9   -.28437481   -.28437481
gradboost           10    .00107335    .00107335
gradboost           11    .23992612    .23992612
     nnet           12   -.08751248   -.08751248
     nnet           13   -.03704884   -.03704884

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .11329295    .11329295
      ols            2            0   -.10217007   -.10217007
  lassocv            3            0   -.23022997   -.23022997
  ridgecv            4            0    .72752554    .72752554
  lassocv            5            0    .08744126    .08744126
  ridgecv            6            0   -.23297708   -.23297708
       rf            7            0    .65744975    .65744975
       rf            8            0   -.13508197   -.13508197
       rf            9            0    .06726719    .06726719
gradboost           10            0    .04721282    .04721282
gradboost           11            0    .10277368    .10277368
     nnet           12            0    .05308978    .05308978
     nnet           13            0   -.01143592   -.01143592
      ols            1            1   -.08758611   -.08758611
      ols            2            1   -.03354715   -.03354715
  lassocv            3            1   -.42361079   -.42361079
  ridgecv            4            1     .5105908     .5105908
  lassocv            5            1    .48775553    .48775553
  ridgecv            6            1   -.07037559   -.07037559
       rf            7            1    .52372591    .52372591
       rf            8            1    .64524581    .64524581
       rf            9            1   -.58892176   -.58892176
gradboost           10            1    .00870029    .00870029
gradboost           11            1     .0408063     .0408063
     nnet           12            1     .0066236     .0066236
     nnet           13            1    .04461908    .04461908

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23245788    .23245788
    logit            2    .08295268    .08295268
  lassocv            3    .16261774    .16261774
  ridgecv            4    .40337159    .40337159
  lassocv            5   -.21633869   -.21633869
  ridgecv            6   -.12276901   -.12276901
       rf            7    .46540021    .46540021
       rf            8    .14578597    .14578597
       rf            9   -.28437481   -.28437481
gradboost           10    .00107335    .00107335
gradboost           11    .23992612    .23992612
     nnet           12   -.08751248   -.08751248
     nnet           13   -.03704884   -.03704884

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .11329295    .11329295
      ols            2            0   -.10217007   -.10217007
  lassocv            3            0   -.23022997   -.23022997
  ridgecv            4            0    .72752554    .72752554
  lassocv            5            0    .08744126    .08744126
  ridgecv            6            0   -.23297708   -.23297708
       rf            7            0    .65744975    .65744975
       rf            8            0   -.13508197   -.13508197
       rf            9            0    .06726719    .06726719
gradboost           10            0    .04721282    .04721282
gradboost           11            0    .10277368    .10277368
     nnet           12            0    .05308978    .05308978
     nnet           13            0   -.01143592   -.01143592
      ols            1            1   -.08758611   -.08758611
      ols            2            1   -.03354715   -.03354715
  lassocv            3            1   -.42361079   -.42361079
  ridgecv            4            1     .5105908     .5105908
  lassocv            5            1    .48775553    .48775553
  ridgecv            6            1   -.07037559   -.07037559
       rf            7            1    .52372591    .52372591
       rf            8            1    .64524581    .64524581
       rf            9            1   -.58892176   -.58892176
gradboost           10            1    .00870029    .00870029
gradboost           11            1     .0408063     .0408063
     nnet           12            1     .0066236     .0066236
     nnet           13            1    .04461908    .04461908

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .11329295    .11329295
      ols            2            0   -.10217007   -.10217007
  lassocv            3            0   -.23022997   -.23022997
  ridgecv            4            0    .72752554    .72752554
  lassocv            5            0    .08744126    .08744126
  ridgecv            6            0   -.23297708   -.23297708
       rf            7            0    .65744975    .65744975
       rf            8            0   -.13508197   -.13508197
       rf            9            0    .06726719    .06726719
gradboost           10            0    .04721282    .04721282
gradboost           11            0    .10277368    .10277368
     nnet           12            0    .05308978    .05308978
     nnet           13            0   -.01143592   -.01143592
      ols            1            1   -.08758611   -.08758611
      ols            2            1   -.03354715   -.03354715
  lassocv            3            1   -.42361079   -.42361079
  ridgecv            4            1     .5105908     .5105908
  lassocv            5            1    .48775553    .48775553
  ridgecv            6            1   -.07037559   -.07037559
       rf            7            1    .52372591    .52372591
       rf            8            1    .64524581    .64524581
       rf            9            1   -.58892176   -.58892176
gradboost           10            1    .00870029    .00870029
gradboost           11            1     .0408063     .0408063
     nnet           12            1     .0066236     .0066236
     nnet           13            1    .04461908    .04461908

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.6699774   3.1740124          1          0     .113293     .113293 |
   2. | 3.1622394    3.658721          2          0   -.1021701   -.1021701 |
   3. | 3.0193394   3.3040409          3          0     -.23023     -.23023 |
   4. | 2.5925618    3.017348          4          0    .7275255    .7275255 |
   5. | 3.3480398   3.5549029          5          0    .0874413    .0874413 |
      |---------------------------------------------------------------------|
   6. | 2.7196785   3.0733179          6          0   -.2329771   -.2329771 |
   7. | 2.4275473   2.9657736          7          0    .6574497    .6574497 |
   8. | 2.7845651   3.0546556          8          0    -.135082    -.135082 |
      +---------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ss_ols_short_ia.dta not found)
file out_3702/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23245788    .23245788
    logit            2    .08295268    .08295268
  lassocv            3    .16261774    .16261774
  ridgecv            4    .40337159    .40337159
  lassocv            5   -.21633869   -.21633869
  ridgecv            6   -.12276901   -.12276901
       rf            7    .46540021    .46540021
       rf            8    .14578597    .14578597
       rf            9   -.28437481   -.28437481
gradboost           10    .00107335    .00107335
gradboost           11    .23992612    .23992612
     nnet           12   -.08751248   -.08751248
     nnet           13   -.03704884   -.03704884

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .11329295    .11329295
      ols            2            0   -.10217007   -.10217007
  lassocv            3            0   -.23022997   -.23022997
  ridgecv            4            0    .72752554    .72752554
  lassocv            5            0    .08744126    .08744126
  ridgecv            6            0   -.23297708   -.23297708
       rf            7            0    .65744975    .65744975
       rf            8            0   -.13508197   -.13508197
       rf            9            0    .06726719    .06726719
gradboost           10            0    .04721282    .04721282
gradboost           11            0    .10277368    .10277368
     nnet           12            0    .05308978    .05308978
     nnet           13            0   -.01143592   -.01143592
      ols            1            1   -.08758611   -.08758611
      ols            2            1   -.03354715   -.03354715
  lassocv            3            1   -.42361079   -.42361079
  ridgecv            4            1     .5105908     .5105908
  lassocv            5            1    .48775553    .48775553
  ridgecv            6            1   -.07037559   -.07037559
       rf            7            1    .52372591    .52372591
       rf            8            1    .64524581    .64524581
       rf            9            1   -.58892176   -.58892176
gradboost           10            1    .00870029    .00870029
gradboost           11            1     .0408063     .0408063
     nnet           12            1     .0066236     .0066236
     nnet           13            1    .04461908    .04461908

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .23245788    .23245788
    logit            2    .08295268    .08295268
  lassocv            3    .16261774    .16261774
  ridgecv            4    .40337159    .40337159
  lassocv            5   -.21633869   -.21633869
  ridgecv            6   -.12276901   -.12276901
       rf            7    .46540021    .46540021
       rf            8    .14578597    .14578597
       rf            9   -.28437481   -.28437481
gradboost           10    .00107335    .00107335
gradboost           11    .23992612    .23992612
     nnet           12   -.08751248   -.08751248
     nnet           13   -.03704884   -.03704884

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .76837734          1    .2324579    .2324579 |
   2. | .43361665          2    .0829527    .0829527 |
   3. | .05948312          3    .1626177    .1626177 |
   4. |  .1524469          4    .4033716    .4033716 |
   5. | .53358938          5   -.2163387   -.2163387 |
      |----------------------------------------------|
   6. | .84810857          6    -.122769    -.122769 |
   7. | .86496845          7    .4654002    .4654002 |
   8. | .84386413          8     .145786     .145786 |
      +----------------------------------------------+
(note: file out_3702/D_gender_r_ss_ols_short_ia.dta not found)
file out_3702/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19813132    .19813132
    logit            2    .08516658    .08516658
  lassocv            3    .11798885    .11798885
  ridgecv            4     .1449779     .1449779
  lassocv            5   -.01334717   -.01334717
  ridgecv            6   -.00584883   -.00584883
       rf            7    .39407827    .39407827
       rf            8    .07742634    .07742634
       rf            9   -.24980609   -.24980609
gradboost           10    .15912355    .15912355
gradboost           11    .12999685    .12999685
     nnet           12   -.00431072   -.00431072
     nnet           13    .02856364    .02856364

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00581588    .00581588
      ols            2            0   -.03234915   -.03234915
  lassocv            3            0    .13558416    .13558416
  ridgecv            4            0     .4029804     .4029804
  lassocv            5            0   -.11842018   -.11842018
  ridgecv            6            0   -.02024514   -.02024514
       rf            7            0    .67942082    .67942082
       rf            8            0    .05398657    .05398657
       rf            9            0   -.21315746   -.21315746
gradboost           10            0    .06746897    .06746897
gradboost           11            0    .09082383    .09082383
     nnet           12            0    .00224819    .00224819
     nnet           13            0   -.01090312   -.01090312
      ols            1            1   -.01123754   -.01123754
      ols            2            1   -9.033e-12   -9.033e-12
  lassocv            3            1    .13463028    .13463028
  ridgecv            4            1    .32347316    .32347316
  lassocv            5            1    .07230337    .07230337
  ridgecv            6            1   -.07545368   -.07545368
       rf            7            1    .53345573    .53345573
       rf            8            1    .39238465    .39238465
       rf            9            1   -.28924635   -.28924635
gradboost           10            1   -.04201735   -.04201735
gradboost           11            1    .04756409    .04756409
     nnet           12            1   -.00746116   -.00746116
     nnet           13            1    .00958127    .00958127

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19813132    .19813132
    logit            2    .08516658    .08516658
  lassocv            3    .11798885    .11798885
  ridgecv            4     .1449779     .1449779
  lassocv            5   -.01334717   -.01334717
  ridgecv            6   -.00584883   -.00584883
       rf            7    .39407827    .39407827
       rf            8    .07742634    .07742634
       rf            9   -.24980609   -.24980609
gradboost           10    .15912355    .15912355
gradboost           11    .12999685    .12999685
     nnet           12   -.00431072   -.00431072
     nnet           13    .02856364    .02856364

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00581588    .00581588
      ols            2            0   -.03234915   -.03234915
  lassocv            3            0    .13558416    .13558416
  ridgecv            4            0     .4029804     .4029804
  lassocv            5            0   -.11842018   -.11842018
  ridgecv            6            0   -.02024514   -.02024514
       rf            7            0    .67942082    .67942082
       rf            8            0    .05398657    .05398657
       rf            9            0   -.21315746   -.21315746
gradboost           10            0    .06746897    .06746897
gradboost           11            0    .09082383    .09082383
     nnet           12            0    .00224819    .00224819
     nnet           13            0   -.01090312   -.01090312
      ols            1            1   -.01123754   -.01123754
      ols            2            1   -9.033e-12   -9.033e-12
  lassocv            3            1    .13463028    .13463028
  ridgecv            4            1    .32347316    .32347316
  lassocv            5            1    .07230337    .07230337
  ridgecv            6            1   -.07545368   -.07545368
       rf            7            1    .53345573    .53345573
       rf            8            1    .39238465    .39238465
       rf            9            1   -.28924635   -.28924635
gradboost           10            1   -.04201735   -.04201735
gradboost           11            1    .04756409    .04756409
     nnet           12            1   -.00746116   -.00746116
     nnet           13            1    .00958127    .00958127

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00581588    .00581588
      ols            2            0   -.03234915   -.03234915
  lassocv            3            0    .13558416    .13558416
  ridgecv            4            0     .4029804     .4029804
  lassocv            5            0   -.11842018   -.11842018
  ridgecv            6            0   -.02024514   -.02024514
       rf            7            0    .67942082    .67942082
       rf            8            0    .05398657    .05398657
       rf            9            0   -.21315746   -.21315746
gradboost           10            0    .06746897    .06746897
gradboost           11            0    .09082383    .09082383
     nnet           12            0    .00224819    .00224819
     nnet           13            0   -.01090312   -.01090312
      ols            1            1   -.01123754   -.01123754
      ols            2            1   -9.033e-12   -9.033e-12
  lassocv            3            1    .13463028    .13463028
  ridgecv            4            1    .32347316    .32347316
  lassocv            5            1    .07230337    .07230337
  ridgecv            6            1   -.07545368   -.07545368
       rf            7            1    .53345573    .53345573
       rf            8            1    .39238465    .39238465
       rf            9            1   -.28924635   -.28924635
gradboost           10            1   -.04201735   -.04201735
gradboost           11            1    .04756409    .04756409
     nnet           12            1   -.00746116   -.00746116
     nnet           13            1    .00958127    .00958127

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7386023   2.8727798          1          0    .0058159    .0058159 |
   2. | 3.2125427   3.3726056          2          0   -.0323492   -.0323492 |
   3. | 3.0588073   2.9978433          3          0    .1355842    .1355842 |
   4. | 2.6473281   2.7288247          4          0    .4029804    .4029804 |
   5. | 3.4086297   3.2788889          5          0   -.1184202   -.1184202 |
      |---------------------------------------------------------------------|
   6. | 2.7687647   2.7581618          6          0   -.0202451   -.0202451 |
   7. | 2.5575427   2.7405048          7          0    .6794208    .6794208 |
   8. | 2.8489263   2.8033725          8          0    .0539866    .0539866 |
      +---------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_3702/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19813132    .19813132
    logit            2    .08516658    .08516658
  lassocv            3    .11798885    .11798885
  ridgecv            4     .1449779     .1449779
  lassocv            5   -.01334717   -.01334717
  ridgecv            6   -.00584883   -.00584883
       rf            7    .39407827    .39407827
       rf            8    .07742634    .07742634
       rf            9   -.24980609   -.24980609
gradboost           10    .15912355    .15912355
gradboost           11    .12999685    .12999685
     nnet           12   -.00431072   -.00431072
     nnet           13    .02856364    .02856364

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00581588    .00581588
      ols            2            0   -.03234915   -.03234915
  lassocv            3            0    .13558416    .13558416
  ridgecv            4            0     .4029804     .4029804
  lassocv            5            0   -.11842018   -.11842018
  ridgecv            6            0   -.02024514   -.02024514
       rf            7            0    .67942082    .67942082
       rf            8            0    .05398657    .05398657
       rf            9            0   -.21315746   -.21315746
gradboost           10            0    .06746897    .06746897
gradboost           11            0    .09082383    .09082383
     nnet           12            0    .00224819    .00224819
     nnet           13            0   -.01090312   -.01090312
      ols            1            1   -.01123754   -.01123754
      ols            2            1   -9.033e-12   -9.033e-12
  lassocv            3            1    .13463028    .13463028
  ridgecv            4            1    .32347316    .32347316
  lassocv            5            1    .07230337    .07230337
  ridgecv            6            1   -.07545368   -.07545368
       rf            7            1    .53345573    .53345573
       rf            8            1    .39238465    .39238465
       rf            9            1   -.28924635   -.28924635
gradboost           10            1   -.04201735   -.04201735
gradboost           11            1    .04756409    .04756409
     nnet           12            1   -.00746116   -.00746116
     nnet           13            1    .00958127    .00958127

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .19813132    .19813132
    logit            2    .08516658    .08516658
  lassocv            3    .11798885    .11798885
  ridgecv            4     .1449779     .1449779
  lassocv            5   -.01334717   -.01334717
  ridgecv            6   -.00584883   -.00584883
       rf            7    .39407827    .39407827
       rf            8    .07742634    .07742634
       rf            9   -.24980609   -.24980609
gradboost           10    .15912355    .15912355
gradboost           11    .12999685    .12999685
     nnet           12   -.00431072   -.00431072
     nnet           13    .02856364    .02856364

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .80196878          1    .1981313    .1981313 |
   2. | .44019613          2    .0851666    .0851666 |
   3. |  .0892015          3    .1179889    .1179889 |
   4. |  .2023221          4    .1449779    .1449779 |
   5. | .59600539          5   -.0133472   -.0133472 |
      |----------------------------------------------|
   6. |  .9135647          6   -.0058488   -.0058488 |
   7. | .87538852          7    .3940783    .3940783 |
   8. |  .8797134          8    .0774263    .0774263 |
      +----------------------------------------------+
(note: file out_3702/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_3702/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.102    (0.017)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101936   .0169174    -6.03   0.000    -.1350935   -.0687785
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.102    (0.017)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101936   .0169174    -6.03   0.000    -.1350935   -.0687785
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.102    (0.017)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101936   .0169174    -6.03   0.000    -.1350935   -.0687785
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.102    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.102    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.102    (0.017)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.101936   .0169174    -6.03   0.000    -.1350935   -.0687785
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_3702/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_3702/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_3702/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_3702/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_3702/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6054049   2.7434617          1          0   .0769231   .0769231 |
   2. | 3.1091263    3.228063          2          0   .0769231   .0769231 |
   3. | 2.7826881   2.8314023          3          0   .0769231   .0769231 |
   4. | 2.4529564   2.5958499          4          0   .0769231   .0769231 |
   5. | 3.0985298   3.0796798          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6185817   2.6760917          6          0   .0769231   .0769231 |
   7. | 2.4276833   2.6157313          7          0   .0769231   .0769231 |
   8. | 2.7022414   2.7837486          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ss_avg_short_ia.dta not found)
file out_3702/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .70746432          1   .0769231   .0769231 |
   2. | .41974944          2   .0769231   .0769231 |
   3. | .16068646          3   .0769231   .0769231 |
   4. | .30738034          4   .0769231   .0769231 |
   5. | .55485982          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .81817156          6   .0769231   .0769231 |
   7. | .78532276          7   .0769231   .0769231 |
   8. | .75880445          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ss_avg_short_ia.dta not found)
file out_3702/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6054049   2.7434617          1          0   .0769231   .0769231 |
   2. | 3.1091263    3.228063          2          0   .0769231   .0769231 |
   3. | 2.7826881   2.8314023          3          0   .0769231   .0769231 |
   4. | 2.4529564   2.5958499          4          0   .0769231   .0769231 |
   5. | 3.0985298   3.0796798          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6185817   2.6760917          6          0   .0769231   .0769231 |
   7. | 2.4276833   2.6157313          7          0   .0769231   .0769231 |
   8. | 2.7022414   2.7837486          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_3702/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_3702/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .70746432          1   .0769231   .0769231 |
   2. | .41974944          2   .0769231   .0769231 |
   3. | .16068646          3   .0769231   .0769231 |
   4. | .30738034          4   .0769231   .0769231 |
   5. | .55485982          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .81817156          6   .0769231   .0769231 |
   7. | .78532276          7   .0769231   .0769231 |
   8. | .75880445          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_3702/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_3702/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.2279346    .109318    -2.09   0.037    -.4421939   -.0136753
------------------------------------------------------------------------------
Warning: 133 propensity scores trimmed to lower limit ..
Warning: 36 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1214096   .0157055    -7.73   0.000    -.1521919   -.0906274
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0782649   .0346118    -2.26   0.024    -.1461027   -.0104271
------------------------------------------------------------------------------
Warning: 87 propensity scores trimmed to lower limit ..
Warning: 29 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0382036   .0993783    -0.38   0.701    -.2329815    .1565744
------------------------------------------------------------------------------
Warning: 101 propensity scores trimmed to lower limit ..
Warning: 35 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0709906   .0468469    -1.52   0.130    -.1628087    .0208276
------------------------------------------------------------------------------
Warning: 100 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.233605   .1869847    -1.25   0.212    -.6000883    .1328783
------------------------------------------------------------------------------
Warning: 90 propensity scores trimmed to lower limit ..
Warning: 22 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0695322   .0252618    -2.75   0.006    -.1190445     -.02002
------------------------------------------------------------------------------
Warning: 5 propensity scores trimmed to lower limit ..
Warning: 1 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1028701   .0163588    -6.29   0.000    -.1349327   -.0708075
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1077046    .015096    -7.13   0.000    -.1372922   -.0781171
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0714535   .0289586    -2.47   0.014    -.1282112   -.0146958
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0449222   .0515116    -0.87   0.383    -.1458832    .0560387
------------------------------------------------------------------------------
Warning: 88 propensity scores trimmed to lower limit ..
Warning: 25 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1213669   .0167089    -7.26   0.000    -.1541158    -.088618
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.2706404   .2278099    -1.19   0.235    -.7171396    .1758587
------------------------------------------------------------------------------
Warning: 171 propensity scores trimmed to lower limit ..
Warning: 124 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_3702/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.074    (0.026)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0738639   .0262234    -2.82   0.005    -.1252608   -.0224671
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_84685/inter_mse.dta not found)
file out_84685/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.173       0.146       0.150       0.166
>        0.159       0.152       0.154       0.156       0.151       0.154  
   D_gender_r_ps   1      0.156       0.171       0.145       0.150       0.165
>        0.159       0.151       0.153       0.156       0.151       0.154  
   D_gender_r_ss   1      0.155       0.170       0.145       0.150       0.165
>        0.159       0.151       0.154       0.156       0.151       0.154  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.226       0.239       0.501       0.165       0.
> 207       0.183       0.173       0.153       0.216       0.239       0.183  
    Y1_pystacked 1    1      0.174       0.205       0.224       0.162       0.
> 122       0.141       0.131       0.147       0.207       0.164       0.244  
     Y_lnearn_ps 0    1      8.298       8.317       8.241       8.480       8.
> 429       8.185       8.116       8.409       8.299       8.289       8.225  
     Y_lnearn_ps 1    1      7.489       7.544       7.523       7.481       7.
> 335       7.330       7.434       7.628       7.639       7.547       7.429  
     Y_lnearn_ss 0    1      0.224       0.238       0.498       0.161       0.
> 203       0.184       0.171       0.151       0.209       0.239       0.180  
     Y_lnearn_ss 1    1      0.173       0.204       0.223       0.161       0.
> 117       0.141       0.131       0.146       0.207       0.162       0.239  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15611099    .17324428    .14559822    .15046616
D_gender_r~s            1    .15552005    .17090426    .14487204    .14975285
D_gender_r~s            1    .15544897    .17029037    .14508463    .14950361

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .16588883    .15894702    .15200169     .1536643    .15633857
D_gender_r~s    .16548089    .15897299     .1507532    .15349972    .15609227
D_gender_r~s     .1654547    .15897185    .15088182    .15375054    .15618565

                    fold9       fold10
D1_pystacked    .15090051    .15407606
D_gender_r~s    .15072051    .15416294
D_gender_r~s    .15082681    .15355014
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 |  .156111 | .1732443 | .1455982 | .1504662 | .1658888 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |  .158947 | .1520017 | .1536643 | .1563386 | .1509005 | .1540761 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1555201 | .1709043 |  .144872 | .1497529 | .1654809 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |  .158973 | .1507532 | .1534997 | .1560923 | .1507205 | .1541629 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 |  .155449 | .1702904 | .1450846 | .1495036 | .1654547 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1589718 | .1508818 | .1537505 | .1561857 | .1508268 | .1535501 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_84685/gender_r_mse_inter_gender_mse.dta not found)
file out_84685/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.173       0.146       0.150       0.166
>        0.159       0.152       0.154       0.156       0.151       0.154  
   D_gender_r_ps   1      0.156       0.171       0.145       0.150       0.165
>        0.159       0.151       0.153       0.156       0.151       0.154  
   D_gender_r_ss   1      0.155       0.170       0.145       0.150       0.165
>        0.159       0.151       0.154       0.156       0.151       0.154  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.226       0.239       0.501       0.165       0.
> 207       0.183       0.173       0.153       0.216       0.239       0.183  
    Y1_pystacked 1    1      0.174       0.205       0.224       0.162       0.
> 122       0.141       0.131       0.147       0.207       0.164       0.244  
     Y_lnearn_ps 0    1      8.298       8.317       8.241       8.480       8.
> 429       8.185       8.116       8.409       8.299       8.289       8.225  
     Y_lnearn_ps 1    1      7.489       7.544       7.523       7.481       7.
> 335       7.330       7.434       7.628       7.639       7.547       7.429  
     Y_lnearn_ss 0    1      0.224       0.238       0.498       0.161       0.
> 203       0.184       0.171       0.151       0.209       0.239       0.180  
     Y_lnearn_ss 1    1      0.173       0.204       0.223       0.161       0.
> 117       0.141       0.131       0.146       0.207       0.162       0.239  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1     .2264986    .23927078    .50093234
Y1_pystacked            1            1     .1743766    .20459512    .22359552
 Y_lnearn_ps            0            1    8.2978079    8.3168283    8.2407177
 Y_lnearn_ps            1            1    7.4891276    7.5438679    7.5230218
 Y_lnearn_ss            0            1    .22399199     .2384261    .49817397
 Y_lnearn_ss            1            1    .17280425    .20383813    .22338806

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .16465897    .20711354    .18341124    .17255749    .15251654
Y1_pystacked    .16231661     .1217816    .14088592    .13075796    .14674818
 Y_lnearn_ps    8.4796081    8.4293596    8.1846556    8.1157085     8.408855
 Y_lnearn_ps    7.4813396    7.3351125    7.3298814    7.4340427    7.6275601
 Y_lnearn_ss    .16082316    .20347099    .18357801    .17073797    .15072504
 Y_lnearn_ss    .16056566    .11693646    .14081194    .13102369    .14565184

                    fold8        fold9       fold10
Y1_pystacked    .21588126    .23927908    .18271315
Y1_pystacked    .20728893    .16366498    .24432792
 Y_lnearn_ps    8.2990812    8.2888103    8.2251325
 Y_lnearn_ps    7.6385242    7.5474293    7.4290956
 Y_lnearn_ss    .20871729    .23913103    .17985517
 Y_lnearn_ss    .20660187    .16223672    .23897053
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2264986 | .2392708 | .5009323 |  .164659 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .2071135 | .1834112 | .1725575 | .1525165 | .2158813 | .2392791 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1827132     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1743766 | .2045951 | .2235955 | .1623166 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1217816 | .1408859 |  .130758 | .1467482 | .2072889 |  .163665 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2443279     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.297808 | 8.316829 | 8.240718 | 8.479609 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.429359 | 8.184655 | 8.115708 | 8.408855 | 8.299081 | 8.288811 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.225133     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.489128 | 7.543868 | 7.523022 | 7.481339 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.335113 | 7.329881 | 7.434043 |  7.62756 | 7.638524 | 7.547429 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.429096     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 |  .223992 | .2384261 |  .498174 | .1608232 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |  .203471 |  .183578 |  .170738 |  .150725 | .2087173 |  .239131 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1798552     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1728043 | .2038381 | .2233881 | .1605657 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1169365 | .1408119 | .1310237 | .1456518 | .2066019 | .1622367 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2389705     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_84685/lnearn_mse_inter_lnearn_mse.dta not found)
file out_84685/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.074    (0.026)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0738639   .0262234    -2.82   0.005    -.1252608   -.0224671
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.074    (0.026)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0707356    .029617    -2.39   0.017     -.128784   -.0126873
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.074    (0.026)
  ss  1  [shortstack]          [ss]          [ss]    -0.074    (0.026)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0738639   .0262234    -2.82   0.005    -.1252608   -.0224671
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 3 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.028)
  ss  1  [shortstack]          [ss]          [ss]    -0.074    (0.026)
  ps  1   [poolstack]          [ps]          [ps]    -0.071    (0.028)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0705839   .0283729    -2.49   0.013    -.1261938    -.014974
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25173749    .25173749
    logit            2    7.363e-17    7.363e-17
  lassocv            3    .05320295    .05320295
  ridgecv            4    .07549623    .07549623
  lassocv            5    5.040e-17    5.040e-17
  ridgecv            6    .01359629    .01359629
       rf            7    .29658827    .29658827
       rf            8    5.114e-17    5.114e-17
       rf            9    5.601e-17    5.601e-17
gradboost           10    .04921249    .04921249
gradboost           11    .22576843    .22576843
     nnet           12    4.188e-17    4.188e-17
     nnet           13    .03439785    .03439785

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02598823    .02598823
      ols            2            0     .0029768     .0029768
  lassocv            3            0    .08520868    .08520868
  ridgecv            4            0    .19416428    .19416428
  lassocv            5            0    .04766193    .04766193
  ridgecv            6            0     .0074659     .0074659
       rf            7            0    .44797773    .44797773
       rf            8            0    8.909e-17    8.909e-17
       rf            9            0    8.718e-17    8.718e-17
gradboost           10            0    .02704436    .02704436
gradboost           11            0    .12869972    .12869972
     nnet           12            0    .02675322    .02675322
     nnet           13            0    .00605915    .00605915
      ols            1            1    .00611719    .00611719
      ols            2            1    7.800e-17    7.800e-17
  lassocv            3            1    .12025153    .12025153
  ridgecv            4            1    .02666754    .02666754
  lassocv            5            1     .2027498     .2027498
  ridgecv            6            1    .03535007    .03535007
       rf            7            1    .49664272    .49664272
       rf            8            1    3.929e-17    3.929e-17
       rf            9            1    4.052e-17    4.052e-17
gradboost           10            1    .02019434    .02019434
gradboost           11            1    .03529164    .03529164
     nnet           12            1     .0350682     .0350682
     nnet           13            1    .02166696    .02166696

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25173749    .25173749
    logit            2    7.363e-17    7.363e-17
  lassocv            3    .05320295    .05320295
  ridgecv            4    .07549623    .07549623
  lassocv            5    5.040e-17    5.040e-17
  ridgecv            6    .01359629    .01359629
       rf            7    .29658827    .29658827
       rf            8    5.114e-17    5.114e-17
       rf            9    5.601e-17    5.601e-17
gradboost           10    .04921249    .04921249
gradboost           11    .22576843    .22576843
     nnet           12    4.188e-17    4.188e-17
     nnet           13    .03439785    .03439785

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02598823    .02598823
      ols            2            0     .0029768     .0029768
  lassocv            3            0    .08520868    .08520868
  ridgecv            4            0    .19416428    .19416428
  lassocv            5            0    .04766193    .04766193
  ridgecv            6            0     .0074659     .0074659
       rf            7            0    .44797773    .44797773
       rf            8            0    8.909e-17    8.909e-17
       rf            9            0    8.718e-17    8.718e-17
gradboost           10            0    .02704436    .02704436
gradboost           11            0    .12869972    .12869972
     nnet           12            0    .02675322    .02675322
     nnet           13            0    .00605915    .00605915
      ols            1            1    .00611719    .00611719
      ols            2            1    7.800e-17    7.800e-17
  lassocv            3            1    .12025153    .12025153
  ridgecv            4            1    .02666754    .02666754
  lassocv            5            1     .2027498     .2027498
  ridgecv            6            1    .03535007    .03535007
       rf            7            1    .49664272    .49664272
       rf            8            1    3.929e-17    3.929e-17
       rf            9            1    4.052e-17    4.052e-17
gradboost           10            1    .02019434    .02019434
gradboost           11            1    .03529164    .03529164
     nnet           12            1     .0350682     .0350682
     nnet           13            1    .02166696    .02166696

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02598823    .02598823
      ols            2            0     .0029768     .0029768
  lassocv            3            0    .08520868    .08520868
  ridgecv            4            0    .19416428    .19416428
  lassocv            5            0    .04766193    .04766193
  ridgecv            6            0     .0074659     .0074659
       rf            7            0    .44797773    .44797773
       rf            8            0    8.909e-17    8.909e-17
       rf            9            0    8.718e-17    8.718e-17
gradboost           10            0    .02704436    .02704436
gradboost           11            0    .12869972    .12869972
     nnet           12            0    .02675322    .02675322
     nnet           13            0    .00605915    .00605915
      ols            1            1    .00611719    .00611719
      ols            2            1    7.800e-17    7.800e-17
  lassocv            3            1    .12025153    .12025153
  ridgecv            4            1    .02666754    .02666754
  lassocv            5            1     .2027498     .2027498
  ridgecv            6            1    .03535007    .03535007
       rf            7            1    .49664272    .49664272
       rf            8            1    3.929e-17    3.929e-17
       rf            9            1    4.052e-17    4.052e-17
gradboost           10            1    .02019434    .02019434
gradboost           11            1    .03529164    .03529164
     nnet           12            1     .0350682     .0350682
     nnet           13            1    .02166696    .02166696

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0259882   .0259882 |
   2. |        2          0   .0029768   .0029768 |
   3. |        3          0   .0852087   .0852087 |
   4. |        4          0   .1941643   .1941643 |
   5. |        5          0   .0476619   .0476619 |
      |-------------------------------------------|
   6. |        6          0   .0074659   .0074659 |
   7. |        7          0   .4479777   .4479777 |
   8. |        8          0   8.91e-17   8.91e-17 |
      +-------------------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_84685/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25173749    .25173749
    logit            2    7.363e-17    7.363e-17
  lassocv            3    .05320295    .05320295
  ridgecv            4    .07549623    .07549623
  lassocv            5    5.040e-17    5.040e-17
  ridgecv            6    .01359629    .01359629
       rf            7    .29658827    .29658827
       rf            8    5.114e-17    5.114e-17
       rf            9    5.601e-17    5.601e-17
gradboost           10    .04921249    .04921249
gradboost           11    .22576843    .22576843
     nnet           12    4.188e-17    4.188e-17
     nnet           13    .03439785    .03439785

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02598823    .02598823
      ols            2            0     .0029768     .0029768
  lassocv            3            0    .08520868    .08520868
  ridgecv            4            0    .19416428    .19416428
  lassocv            5            0    .04766193    .04766193
  ridgecv            6            0     .0074659     .0074659
       rf            7            0    .44797773    .44797773
       rf            8            0    8.909e-17    8.909e-17
       rf            9            0    8.718e-17    8.718e-17
gradboost           10            0    .02704436    .02704436
gradboost           11            0    .12869972    .12869972
     nnet           12            0    .02675322    .02675322
     nnet           13            0    .00605915    .00605915
      ols            1            1    .00611719    .00611719
      ols            2            1    7.800e-17    7.800e-17
  lassocv            3            1    .12025153    .12025153
  ridgecv            4            1    .02666754    .02666754
  lassocv            5            1     .2027498     .2027498
  ridgecv            6            1    .03535007    .03535007
       rf            7            1    .49664272    .49664272
       rf            8            1    3.929e-17    3.929e-17
       rf            9            1    4.052e-17    4.052e-17
gradboost           10            1    .02019434    .02019434
gradboost           11            1    .03529164    .03529164
     nnet           12            1     .0350682     .0350682
     nnet           13            1    .02166696    .02166696

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .25173749    .25173749
    logit            2    7.363e-17    7.363e-17
  lassocv            3    .05320295    .05320295
  ridgecv            4    .07549623    .07549623
  lassocv            5    5.040e-17    5.040e-17
  ridgecv            6    .01359629    .01359629
       rf            7    .29658827    .29658827
       rf            8    5.114e-17    5.114e-17
       rf            9    5.601e-17    5.601e-17
gradboost           10    .04921249    .04921249
gradboost           11    .22576843    .22576843
     nnet           12    4.188e-17    4.188e-17
     nnet           13    .03439785    .03439785

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2517375   .2517375 |
   2. |        2   7.36e-17   7.36e-17 |
   3. |        3   .0532029   .0532029 |
   4. |        4   .0754962   .0754962 |
   5. |        5   5.04e-17   5.04e-17 |
      |--------------------------------|
   6. |        6   .0135963   .0135963 |
   7. |        7   .2965883   .2965883 |
   8. |        8   5.11e-17   5.11e-17 |
      +--------------------------------+
(note: file out_84685/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_84685/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .19712217    .19712217
    logit            2            0            0
  lassocv            3     .0337873     .0337873
  ridgecv            4    .09656469    .09656469
  lassocv            5            0            0
  ridgecv            6    .02585657    .02585657
       rf            7    .24786726    .24786726
       rf            8    1.223e-16    1.223e-16
       rf            9    2.508e-16    2.508e-16
gradboost           10    .12323819    .12323819
gradboost           11    .23293056    .23293056
     nnet           12    3.981e-16    3.981e-16
     nnet           13    .04263326    .04263326

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0218346     .0218346
      ols            2            0    2.523e-16    2.523e-16
  lassocv            3            0    .03730084    .03730084
  ridgecv            4            0    .24272638    .24272638
  lassocv            5            0    3.328e-17    3.328e-17
  ridgecv            6            0    9.681e-17    9.681e-17
       rf            7            0    .50473803    .50473803
       rf            8            0    1.724e-16    1.724e-16
       rf            9            0    8.462e-17    8.462e-17
gradboost           10            0    3.542e-17    3.542e-17
gradboost           11            0    .19340015    .19340015
     nnet           12            0    1.668e-17    1.668e-17
     nnet           13            0    8.544e-17    8.544e-17
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1    1.108e-16    1.108e-16
  lassocv            5            1    .34395465    .34395465
  ridgecv            6            1    .05384068    .05384068
       rf            7            1    .55291924    .55291924
       rf            8            1    1.452e-16    1.452e-16
       rf            9            1            0            0
gradboost           10            1    9.864e-18    9.864e-18
gradboost           11            1     .0009319     .0009319
     nnet           12            1    1.311e-16    1.311e-16
     nnet           13            1    .04835353    .04835353

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .19712217    .19712217
    logit            2            0            0
  lassocv            3     .0337873     .0337873
  ridgecv            4    .09656469    .09656469
  lassocv            5            0            0
  ridgecv            6    .02585657    .02585657
       rf            7    .24786726    .24786726
       rf            8    1.223e-16    1.223e-16
       rf            9    2.508e-16    2.508e-16
gradboost           10    .12323819    .12323819
gradboost           11    .23293056    .23293056
     nnet           12    3.981e-16    3.981e-16
     nnet           13    .04263326    .04263326

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0218346     .0218346
      ols            2            0    2.523e-16    2.523e-16
  lassocv            3            0    .03730084    .03730084
  ridgecv            4            0    .24272638    .24272638
  lassocv            5            0    3.328e-17    3.328e-17
  ridgecv            6            0    9.681e-17    9.681e-17
       rf            7            0    .50473803    .50473803
       rf            8            0    1.724e-16    1.724e-16
       rf            9            0    8.462e-17    8.462e-17
gradboost           10            0    3.542e-17    3.542e-17
gradboost           11            0    .19340015    .19340015
     nnet           12            0    1.668e-17    1.668e-17
     nnet           13            0    8.544e-17    8.544e-17
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1    1.108e-16    1.108e-16
  lassocv            5            1    .34395465    .34395465
  ridgecv            6            1    .05384068    .05384068
       rf            7            1    .55291924    .55291924
       rf            8            1    1.452e-16    1.452e-16
       rf            9            1            0            0
gradboost           10            1    9.864e-18    9.864e-18
gradboost           11            1     .0009319     .0009319
     nnet           12            1    1.311e-16    1.311e-16
     nnet           13            1    .04835353    .04835353

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0218346     .0218346
      ols            2            0    2.523e-16    2.523e-16
  lassocv            3            0    .03730084    .03730084
  ridgecv            4            0    .24272638    .24272638
  lassocv            5            0    3.328e-17    3.328e-17
  ridgecv            6            0    9.681e-17    9.681e-17
       rf            7            0    .50473803    .50473803
       rf            8            0    1.724e-16    1.724e-16
       rf            9            0    8.462e-17    8.462e-17
gradboost           10            0    3.542e-17    3.542e-17
gradboost           11            0    .19340015    .19340015
     nnet           12            0    1.668e-17    1.668e-17
     nnet           13            0    8.544e-17    8.544e-17
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1    1.108e-16    1.108e-16
  lassocv            5            1    .34395465    .34395465
  ridgecv            6            1    .05384068    .05384068
       rf            7            1    .55291924    .55291924
       rf            8            1    1.452e-16    1.452e-16
       rf            9            1            0            0
gradboost           10            1    9.864e-18    9.864e-18
gradboost           11            1     .0009319     .0009319
     nnet           12            1    1.311e-16    1.311e-16
     nnet           13            1    .04835353    .04835353

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4947822   2.7603267          1          0   .0218346   .0218346 |
   2. | 3.0125694   3.2588447          2          0   2.52e-16   2.52e-16 |
   3. | 2.8546714   2.8208769          3          0   .0373008   .0373008 |
   4. | 2.4728594   2.6798282          4          0   .2427264   .2427264 |
   5. | 3.0931275    3.152693          5          0   3.33e-17   3.33e-17 |
      |-------------------------------------------------------------------|
   6. | 2.5534921   2.7236397          6          0   9.68e-17   9.68e-17 |
   7. | 2.4335959    2.607654          7          0    .504738    .504738 |
   8. | 2.6728076   2.6509254          8          0   1.72e-16   1.72e-16 |
      +-------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_84685/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .19712217    .19712217
    logit            2            0            0
  lassocv            3     .0337873     .0337873
  ridgecv            4    .09656469    .09656469
  lassocv            5            0            0
  ridgecv            6    .02585657    .02585657
       rf            7    .24786726    .24786726
       rf            8    1.223e-16    1.223e-16
       rf            9    2.508e-16    2.508e-16
gradboost           10    .12323819    .12323819
gradboost           11    .23293056    .23293056
     nnet           12    3.981e-16    3.981e-16
     nnet           13    .04263326    .04263326

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0218346     .0218346
      ols            2            0    2.523e-16    2.523e-16
  lassocv            3            0    .03730084    .03730084
  ridgecv            4            0    .24272638    .24272638
  lassocv            5            0    3.328e-17    3.328e-17
  ridgecv            6            0    9.681e-17    9.681e-17
       rf            7            0    .50473803    .50473803
       rf            8            0    1.724e-16    1.724e-16
       rf            9            0    8.462e-17    8.462e-17
gradboost           10            0    3.542e-17    3.542e-17
gradboost           11            0    .19340015    .19340015
     nnet           12            0    1.668e-17    1.668e-17
     nnet           13            0    8.544e-17    8.544e-17
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1    1.108e-16    1.108e-16
  lassocv            5            1    .34395465    .34395465
  ridgecv            6            1    .05384068    .05384068
       rf            7            1    .55291924    .55291924
       rf            8            1    1.452e-16    1.452e-16
       rf            9            1            0            0
gradboost           10            1    9.864e-18    9.864e-18
gradboost           11            1     .0009319     .0009319
     nnet           12            1    1.311e-16    1.311e-16
     nnet           13            1    .04835353    .04835353

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .19712217    .19712217
    logit            2            0            0
  lassocv            3     .0337873     .0337873
  ridgecv            4    .09656469    .09656469
  lassocv            5            0            0
  ridgecv            6    .02585657    .02585657
       rf            7    .24786726    .24786726
       rf            8    1.223e-16    1.223e-16
       rf            9    2.508e-16    2.508e-16
gradboost           10    .12323819    .12323819
gradboost           11    .23293056    .23293056
     nnet           12    3.981e-16    3.981e-16
     nnet           13    .04263326    .04263326

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76174812          1   .1971222   .1971222 |
   2. | .42635511          2          0          0 |
   3. | .09616557          3   .0337873   .0337873 |
   4. | .22763227          4   .0965647   .0965647 |
   5. | .58716539          5          0          0 |
      |--------------------------------------------|
   6. | .83752563          6   .0258566   .0258566 |
   7. | .82286363          7   .2478673   .2478673 |
   8. |  .8223642          8   1.22e-16   1.22e-16 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_84685/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25982313    .25982313
    logit            2    2.172e-16    2.172e-16
  lassocv            3    .06689232    .06689232
  ridgecv            4    .07868465    .07868465
  lassocv            5    1.820e-17    1.820e-17
  ridgecv            6            0            0
       rf            7    .30580144    .30580144
       rf            8            0            0
       rf            9    4.355e-16    4.355e-16
gradboost           10    .01630143    .01630143
gradboost           11    .23911403    .23911403
     nnet           12            0            0
     nnet           13      .033383      .033383

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0228567     .0228567
      ols            2            0    4.478e-16    4.478e-16
  lassocv            3            0    .17723106    .17723106
  ridgecv            4            0    .16973742    .16973742
  lassocv            5            0            0            0
  ridgecv            6            0    5.627e-16    5.627e-16
       rf            7            0    .48664848    .48664848
       rf            8            0    1.925e-15    1.925e-15
       rf            9            0    1.850e-15    1.850e-15
gradboost           10            0    2.860e-17    2.860e-17
gradboost           11            0    .13975864    .13975864
     nnet           12            0    1.309e-15    1.309e-15
     nnet           13            0     .0037677     .0037677
      ols            1            1    3.195e-16    3.195e-16
      ols            2            1    1.252e-16    1.252e-16
  lassocv            3            1    .27245035    .27245035
  ridgecv            4            1    .04516521    .04516521
  lassocv            5            1    .06202214    .06202214
  ridgecv            6            1    .02040771    .02040771
       rf            7            1    .52994258    .52994258
       rf            8            1            0            0
       rf            9            1    2.827e-16    2.827e-16
gradboost           10            1    8.813e-17    8.813e-17
gradboost           11            1    .04605649    .04605649
     nnet           12            1            0            0
     nnet           13            1     .0239555     .0239555

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25982313    .25982313
    logit            2    2.172e-16    2.172e-16
  lassocv            3    .06689232    .06689232
  ridgecv            4    .07868465    .07868465
  lassocv            5    1.820e-17    1.820e-17
  ridgecv            6            0            0
       rf            7    .30580144    .30580144
       rf            8            0            0
       rf            9    4.355e-16    4.355e-16
gradboost           10    .01630143    .01630143
gradboost           11    .23911403    .23911403
     nnet           12            0            0
     nnet           13      .033383      .033383

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0228567     .0228567
      ols            2            0    4.478e-16    4.478e-16
  lassocv            3            0    .17723106    .17723106
  ridgecv            4            0    .16973742    .16973742
  lassocv            5            0            0            0
  ridgecv            6            0    5.627e-16    5.627e-16
       rf            7            0    .48664848    .48664848
       rf            8            0    1.925e-15    1.925e-15
       rf            9            0    1.850e-15    1.850e-15
gradboost           10            0    2.860e-17    2.860e-17
gradboost           11            0    .13975864    .13975864
     nnet           12            0    1.309e-15    1.309e-15
     nnet           13            0     .0037677     .0037677
      ols            1            1    3.195e-16    3.195e-16
      ols            2            1    1.252e-16    1.252e-16
  lassocv            3            1    .27245035    .27245035
  ridgecv            4            1    .04516521    .04516521
  lassocv            5            1    .06202214    .06202214
  ridgecv            6            1    .02040771    .02040771
       rf            7            1    .52994258    .52994258
       rf            8            1            0            0
       rf            9            1    2.827e-16    2.827e-16
gradboost           10            1    8.813e-17    8.813e-17
gradboost           11            1    .04605649    .04605649
     nnet           12            1            0            0
     nnet           13            1     .0239555     .0239555

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0228567     .0228567
      ols            2            0    4.478e-16    4.478e-16
  lassocv            3            0    .17723106    .17723106
  ridgecv            4            0    .16973742    .16973742
  lassocv            5            0            0            0
  ridgecv            6            0    5.627e-16    5.627e-16
       rf            7            0    .48664848    .48664848
       rf            8            0    1.925e-15    1.925e-15
       rf            9            0    1.850e-15    1.850e-15
gradboost           10            0    2.860e-17    2.860e-17
gradboost           11            0    .13975864    .13975864
     nnet           12            0    1.309e-15    1.309e-15
     nnet           13            0     .0037677     .0037677
      ols            1            1    3.195e-16    3.195e-16
      ols            2            1    1.252e-16    1.252e-16
  lassocv            3            1    .27245035    .27245035
  ridgecv            4            1    .04516521    .04516521
  lassocv            5            1    .06202214    .06202214
  ridgecv            6            1    .02040771    .02040771
       rf            7            1    .52994258    .52994258
       rf            8            1            0            0
       rf            9            1    2.827e-16    2.827e-16
gradboost           10            1    8.813e-17    8.813e-17
gradboost           11            1    .04605649    .04605649
     nnet           12            1            0            0
     nnet           13            1     .0239555     .0239555

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5005883   2.7457687          1          0   .0228567   .0228567 |
   2. | 3.0095102   3.2559882          2          0   4.48e-16   4.48e-16 |
   3. | 2.8431339   2.8090579          3          0   .1772311   .1772311 |
   4. | 2.4706849   2.6394141          4          0   .1697374   .1697374 |
   5. | 3.0982694    3.148286          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5495999   2.7198766          6          0   5.63e-16   5.63e-16 |
   7. | 2.4004293   2.5925018          7          0   .4866485   .4866485 |
   8. | 2.6523581   2.6615579          8          0   1.93e-15   1.93e-15 |
      +-------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_84685/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25982313    .25982313
    logit            2    2.172e-16    2.172e-16
  lassocv            3    .06689232    .06689232
  ridgecv            4    .07868465    .07868465
  lassocv            5    1.820e-17    1.820e-17
  ridgecv            6            0            0
       rf            7    .30580144    .30580144
       rf            8            0            0
       rf            9    4.355e-16    4.355e-16
gradboost           10    .01630143    .01630143
gradboost           11    .23911403    .23911403
     nnet           12            0            0
     nnet           13      .033383      .033383

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0228567     .0228567
      ols            2            0    4.478e-16    4.478e-16
  lassocv            3            0    .17723106    .17723106
  ridgecv            4            0    .16973742    .16973742
  lassocv            5            0            0            0
  ridgecv            6            0    5.627e-16    5.627e-16
       rf            7            0    .48664848    .48664848
       rf            8            0    1.925e-15    1.925e-15
       rf            9            0    1.850e-15    1.850e-15
gradboost           10            0    2.860e-17    2.860e-17
gradboost           11            0    .13975864    .13975864
     nnet           12            0    1.309e-15    1.309e-15
     nnet           13            0     .0037677     .0037677
      ols            1            1    3.195e-16    3.195e-16
      ols            2            1    1.252e-16    1.252e-16
  lassocv            3            1    .27245035    .27245035
  ridgecv            4            1    .04516521    .04516521
  lassocv            5            1    .06202214    .06202214
  ridgecv            6            1    .02040771    .02040771
       rf            7            1    .52994258    .52994258
       rf            8            1            0            0
       rf            9            1    2.827e-16    2.827e-16
gradboost           10            1    8.813e-17    8.813e-17
gradboost           11            1    .04605649    .04605649
     nnet           12            1            0            0
     nnet           13            1     .0239555     .0239555

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .25982313    .25982313
    logit            2    2.172e-16    2.172e-16
  lassocv            3    .06689232    .06689232
  ridgecv            4    .07868465    .07868465
  lassocv            5    1.820e-17    1.820e-17
  ridgecv            6            0            0
       rf            7    .30580144    .30580144
       rf            8            0            0
       rf            9    4.355e-16    4.355e-16
gradboost           10    .01630143    .01630143
gradboost           11    .23911403    .23911403
     nnet           12            0            0
     nnet           13      .033383      .033383

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76007186          1   .2598231   .2598231 |
   2. | .41172715          2   2.17e-16   2.17e-16 |
   3. | .09527613          3   .0668923   .0668923 |
   4. |  .2132706          4   .0786846   .0786846 |
   5. | .58144008          5   1.82e-17   1.82e-17 |
      |--------------------------------------------|
   6. | .84363129          6          0          0 |
   7. | .81182857          7   .3058015   .3058015 |
   8. | .84063142          8          0          0 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_84685/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.069    (0.061)
  ss  1  [shortstack]          [ss]          [ss]    -0.086    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.092    (0.026)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0859172   .0175117    -4.91   0.000    -.1202396   -.0515949
------------------------------------------------------------------------------
Stacking final estimator: singlebest



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.069    (0.061)
  ss  1  [shortstack]          [ss]          [ss]    -0.086    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.092    (0.026)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0687241   .0605691    -1.13   0.257    -.1874374    .0499892
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 57 propensity scores trimmed to lower limit .01.
Warning: 11 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.086    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.086    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.092    (0.026)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0859172   .0175117    -4.91   0.000    -.1202396   -.0515949
------------------------------------------------------------------------------
Stacking final estimator: singlebest

file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.092    (0.026)
  ss  1  [shortstack]          [ss]          [ss]    -0.086    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.092    (0.026)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0924165   .0256252    -3.61   0.000     -.142641    -.042192
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 80 propensity scores trimmed to lower limit .01.
Warning: 20 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .5           .5
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .3           .3
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .7           .7
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .3           .3
  ridgecv            6            1            0            0
       rf            7            1           .7           .7
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .5           .5
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .3           .3
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .7           .7
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .3           .3
  ridgecv            6            1            0            0
       rf            7            1           .7           .7
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .7           .7
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .3           .3
  ridgecv            6            1            0            0
       rf            7            1           .7           .7
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0         .1         .1 |
   4. |        4          0         .2         .2 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .7         .7 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_84685/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .5           .5
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .3           .3
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .2           .2
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .7           .7
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .3           .3
  ridgecv            6            1            0            0
       rf            7            1           .7           .7
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .5           .5
  ridgecv            4           .1           .1
  lassocv            5           .1           .1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .3           .3
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .5         .5 |
   4. |        4         .1         .1 |
   5. |        5         .1         .1 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_84685/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_84685/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4832113   2.7921453          1          0          0          0 |
   2. | 2.9430187   3.2336388          2          0          0          0 |
   3. | 2.9242094    2.855828          3          0          0          0 |
   4. |  2.514786   2.6204472          4          0          0          0 |
   5. | 3.0666716   3.1460819          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5116916   2.7579265          6          0          0          0 |
   7. | 2.5066142   2.7911053          7          0          1          1 |
   8. | 2.6432626   2.7938592          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_84685/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            1            1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77363735          1          0          0 |
   2. | .54510969          2          0          0 |
   3. | .12236434          3          0          0 |
   4. | .28872752          4          0          0 |
   5. | .61645812          5          0          0 |
      |--------------------------------------------|
   6. | .79830301          6          0          0 |
   7. | .86310893          7          0          0 |
   8. | .69956088          8          0          0 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_84685/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4832113   2.7921453          1          0          0          0 |
   2. | 2.9430187   3.2336388          2          0          0          0 |
   3. | 2.9242094    2.855828          3          0          0          0 |
   4. |  2.514786   2.6204472          4          0          0          0 |
   5. | 3.0666716   3.1460819          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5116916   2.7579265          6          0          0          0 |
   7. | 2.5066142   2.7911053          7          0          1          1 |
   8. | 2.6432626   2.7938592          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_84685/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76432198          1          0          0 |
   2. | .30862832          2          0          0 |
   3. | .04098487          3          1          1 |
   4. | .24740548          4          0          0 |
   5. | .55354011          5          0          0 |
      |--------------------------------------------|
   6. | .84338301          6          0          0 |
   7. | .84046406          7          0          0 |
   8. | .79019874          8          0          0 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_84685/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked   -10.198    (0.887)
  ss  1  [shortstack]          [ss]          [ss]     0.315    (0.115)
  ps  1   [poolstack]          [ps]          [ps]     0.138    (0.094)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .3149174   .1146635     2.75   0.006     .0901811    .5396538
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 12 propensity scores trimmed to lower limit .01.
Warning: 267 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked   -10.198    (0.887)
  ss  1  [shortstack]          [ss]          [ss]     0.315    (0.115)
  ps  1   [poolstack]          [ps]          [ps]     0.138    (0.094)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -10.19816   .8868892   -11.50   0.000    -11.93643   -8.459893
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2417 propensity scores trimmed to lower limit .01.
Warning: 1524 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.315    (0.115)
  ss  1  [shortstack]          [ss]          [ss]     0.315    (0.115)
  ps  1   [poolstack]          [ps]          [ps]     0.138    (0.094)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .3149174   .1146635     2.75   0.006     .0901811    .5396538
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 12 propensity scores trimmed to lower limit .01.
Warning: 267 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.138    (0.094)
  ss  1  [shortstack]          [ss]          [ss]     0.315    (0.115)
  ps  1   [poolstack]          [ps]          [ps]     0.138    (0.094)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .1380045   .0936454     1.47   0.141    -.0455371    .3215461
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 12 propensity scores trimmed to lower limit .01.
Warning: 217 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22498403    .22498403
    logit            2    .07461745    .07461745
  lassocv            3    .41652275    .41652275
  ridgecv            4     .0066539     .0066539
  lassocv            5    -.4145898    -.4145898
  ridgecv            6    .13674663    .13674663
       rf            7    .41579361    .41579361
       rf            8    .12657665    .12657665
       rf            9   -.21604215   -.21604215
gradboost           10    .11900286    .11900286
gradboost           11    .15785169    .15785169
     nnet           12   -1.0521755   -1.0521755
     nnet           13    .03863826    .03863826

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02816024    .02816024
      ols            2            0   -.04756997   -.04756997
  lassocv            3            0   -.09637041   -.09637041
  ridgecv            4            0    .55728155    .55728155
  lassocv            5            0    .04985403    .04985403
  ridgecv            6            0   -.09183139   -.09183139
       rf            7            0    .66373413    .66373413
       rf            8            0    .06964943    .06964943
       rf            9            0   -.18233569   -.18233569
gradboost           10            0    .03904281    .03904281
gradboost           11            0     .0658953     .0658953
     nnet           12            0   -.16929111   -.16929111
     nnet           13            0   -.00589229   -.00589229
      ols            1            1   -.02301149   -.02301149
      ols            2            1   -.01851227   -.01851227
  lassocv            3            1   -.02927758   -.02927758
  ridgecv            4            1    .24248472    .24248472
  lassocv            5            1    .27991708    .27991708
  ridgecv            6            1   -.02218031   -.02218031
       rf            7            1    .54138227    .54138227
       rf            8            1    .19433488    .19433488
       rf            9            1    -.1125271    -.1125271
gradboost           10            1    .00729878    .00729878
gradboost           11            1    .00536448    .00536448
     nnet           12            1    .23597077    .23597077
     nnet           13            1    .00340074    .00340074

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22498403    .22498403
    logit            2    .07461745    .07461745
  lassocv            3    .41652275    .41652275
  ridgecv            4     .0066539     .0066539
  lassocv            5    -.4145898    -.4145898
  ridgecv            6    .13674663    .13674663
       rf            7    .41579361    .41579361
       rf            8    .12657665    .12657665
       rf            9   -.21604215   -.21604215
gradboost           10    .11900286    .11900286
gradboost           11    .15785169    .15785169
     nnet           12   -1.0521755   -1.0521755
     nnet           13    .03863826    .03863826

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02816024    .02816024
      ols            2            0   -.04756997   -.04756997
  lassocv            3            0   -.09637041   -.09637041
  ridgecv            4            0    .55728155    .55728155
  lassocv            5            0    .04985403    .04985403
  ridgecv            6            0   -.09183139   -.09183139
       rf            7            0    .66373413    .66373413
       rf            8            0    .06964943    .06964943
       rf            9            0   -.18233569   -.18233569
gradboost           10            0    .03904281    .03904281
gradboost           11            0     .0658953     .0658953
     nnet           12            0   -.16929111   -.16929111
     nnet           13            0   -.00589229   -.00589229
      ols            1            1   -.02301149   -.02301149
      ols            2            1   -.01851227   -.01851227
  lassocv            3            1   -.02927758   -.02927758
  ridgecv            4            1    .24248472    .24248472
  lassocv            5            1    .27991708    .27991708
  ridgecv            6            1   -.02218031   -.02218031
       rf            7            1    .54138227    .54138227
       rf            8            1    .19433488    .19433488
       rf            9            1    -.1125271    -.1125271
gradboost           10            1    .00729878    .00729878
gradboost           11            1    .00536448    .00536448
     nnet           12            1    .23597077    .23597077
     nnet           13            1    .00340074    .00340074

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02816024    .02816024
      ols            2            0   -.04756997   -.04756997
  lassocv            3            0   -.09637041   -.09637041
  ridgecv            4            0    .55728155    .55728155
  lassocv            5            0    .04985403    .04985403
  ridgecv            6            0   -.09183139   -.09183139
       rf            7            0    .66373413    .66373413
       rf            8            0    .06964943    .06964943
       rf            9            0   -.18233569   -.18233569
gradboost           10            0    .03904281    .03904281
gradboost           11            0     .0658953     .0658953
     nnet           12            0   -.16929111   -.16929111
     nnet           13            0   -.00589229   -.00589229
      ols            1            1   -.02301149   -.02301149
      ols            2            1   -.01851227   -.01851227
  lassocv            3            1   -.02927758   -.02927758
  ridgecv            4            1    .24248472    .24248472
  lassocv            5            1    .27991708    .27991708
  ridgecv            6            1   -.02218031   -.02218031
       rf            7            1    .54138227    .54138227
       rf            8            1    .19433488    .19433488
       rf            9            1    -.1125271    -.1125271
gradboost           10            1    .00729878    .00729878
gradboost           11            1    .00536448    .00536448
     nnet           12            1    .23597077    .23597077
     nnet           13            1    .00340074    .00340074

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0281602    .0281602 |
   2. |        2          0     -.04757     -.04757 |
   3. |        3          0   -.0963704   -.0963704 |
   4. |        4          0    .5572816    .5572816 |
   5. |        5          0     .049854     .049854 |
      |---------------------------------------------|
   6. |        6          0   -.0918314   -.0918314 |
   7. |        7          0    .6637341    .6637341 |
   8. |        8          0    .0696494    .0696494 |
      +---------------------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_84685/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22498403    .22498403
    logit            2    .07461745    .07461745
  lassocv            3    .41652275    .41652275
  ridgecv            4     .0066539     .0066539
  lassocv            5    -.4145898    -.4145898
  ridgecv            6    .13674663    .13674663
       rf            7    .41579361    .41579361
       rf            8    .12657665    .12657665
       rf            9   -.21604215   -.21604215
gradboost           10    .11900286    .11900286
gradboost           11    .15785169    .15785169
     nnet           12   -1.0521755   -1.0521755
     nnet           13    .03863826    .03863826

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02816024    .02816024
      ols            2            0   -.04756997   -.04756997
  lassocv            3            0   -.09637041   -.09637041
  ridgecv            4            0    .55728155    .55728155
  lassocv            5            0    .04985403    .04985403
  ridgecv            6            0   -.09183139   -.09183139
       rf            7            0    .66373413    .66373413
       rf            8            0    .06964943    .06964943
       rf            9            0   -.18233569   -.18233569
gradboost           10            0    .03904281    .03904281
gradboost           11            0     .0658953     .0658953
     nnet           12            0   -.16929111   -.16929111
     nnet           13            0   -.00589229   -.00589229
      ols            1            1   -.02301149   -.02301149
      ols            2            1   -.01851227   -.01851227
  lassocv            3            1   -.02927758   -.02927758
  ridgecv            4            1    .24248472    .24248472
  lassocv            5            1    .27991708    .27991708
  ridgecv            6            1   -.02218031   -.02218031
       rf            7            1    .54138227    .54138227
       rf            8            1    .19433488    .19433488
       rf            9            1    -.1125271    -.1125271
gradboost           10            1    .00729878    .00729878
gradboost           11            1    .00536448    .00536448
     nnet           12            1    .23597077    .23597077
     nnet           13            1    .00340074    .00340074

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .22498403    .22498403
    logit            2    .07461745    .07461745
  lassocv            3    .41652275    .41652275
  ridgecv            4     .0066539     .0066539
  lassocv            5    -.4145898    -.4145898
  ridgecv            6    .13674663    .13674663
       rf            7    .41579361    .41579361
       rf            8    .12657665    .12657665
       rf            9   -.21604215   -.21604215
gradboost           10    .11900286    .11900286
gradboost           11    .15785169    .15785169
     nnet           12   -1.0521755   -1.0521755
     nnet           13    .03863826    .03863826

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1     .224984     .224984 |
   2. |        2    .0746175    .0746175 |
   3. |        3    .4165227    .4165227 |
   4. |        4    .0066539    .0066539 |
   5. |        5   -.4145898   -.4145898 |
      |----------------------------------|
   6. |        6    .1367466    .1367466 |
   7. |        7    .4157936    .4157936 |
   8. |        8    .1265766    .1265766 |
      +----------------------------------+
(note: file out_84685/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_84685/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18252289    .18252289
    logit            2    .09274302    .09274302
  lassocv            3    .12659987    .12659987
  ridgecv            4    .00177327    .00177327
  lassocv            5   -.24825387   -.24825387
  ridgecv            6    .29106779    .29106779
       rf            7    .41183786    .41183786
       rf            8    .04907352    .04907352
       rf            9   -.31709882   -.31709882
gradboost           10    .32208437    .32208437
gradboost           11    .11564885    .11564885
     nnet           12    .01561003    .01561003
     nnet           13    .03311785    .03311785

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01252126    .01252126
      ols            2            0    -.0810522    -.0810522
  lassocv            3            0   -.16003707   -.16003707
  ridgecv            4            0     .7060225     .7060225
  lassocv            5            0   -.02352159   -.02352159
  ridgecv            6            0   -.13725063   -.13725063
       rf            7            0    .95743119    .95743119
       rf            8            0   -.73122297   -.73122297
       rf            9            0    .39648104    .39648104
gradboost           10            0     .0905354     .0905354
gradboost           11            0    .07991536    .07991536
     nnet           12            0    .02373355    .02373355
     nnet           13            0   -.01972062   -.01972062
      ols            1            1    -.0120396    -.0120396
      ols            2            1   -.05136087   -.05136087
  lassocv            3            1   -.32836306   -.32836306
  ridgecv            4            1    .38436434    .38436434
  lassocv            5            1    .49704171    .49704171
  ridgecv            6            1   -.07301901   -.07301901
       rf            7            1    .65720853    .65720853
       rf            8            1    .04538264    .04538264
       rf            9            1   -.06601647   -.06601647
gradboost           10            1    .03840929    .03840929
gradboost           11            1   -.04982224   -.04982224
     nnet           12            1    .01931914    .01931914
     nnet           13            1    .04133947    .04133947

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18252289    .18252289
    logit            2    .09274302    .09274302
  lassocv            3    .12659987    .12659987
  ridgecv            4    .00177327    .00177327
  lassocv            5   -.24825387   -.24825387
  ridgecv            6    .29106779    .29106779
       rf            7    .41183786    .41183786
       rf            8    .04907352    .04907352
       rf            9   -.31709882   -.31709882
gradboost           10    .32208437    .32208437
gradboost           11    .11564885    .11564885
     nnet           12    .01561003    .01561003
     nnet           13    .03311785    .03311785

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01252126    .01252126
      ols            2            0    -.0810522    -.0810522
  lassocv            3            0   -.16003707   -.16003707
  ridgecv            4            0     .7060225     .7060225
  lassocv            5            0   -.02352159   -.02352159
  ridgecv            6            0   -.13725063   -.13725063
       rf            7            0    .95743119    .95743119
       rf            8            0   -.73122297   -.73122297
       rf            9            0    .39648104    .39648104
gradboost           10            0     .0905354     .0905354
gradboost           11            0    .07991536    .07991536
     nnet           12            0    .02373355    .02373355
     nnet           13            0   -.01972062   -.01972062
      ols            1            1    -.0120396    -.0120396
      ols            2            1   -.05136087   -.05136087
  lassocv            3            1   -.32836306   -.32836306
  ridgecv            4            1    .38436434    .38436434
  lassocv            5            1    .49704171    .49704171
  ridgecv            6            1   -.07301901   -.07301901
       rf            7            1    .65720853    .65720853
       rf            8            1    .04538264    .04538264
       rf            9            1   -.06601647   -.06601647
gradboost           10            1    .03840929    .03840929
gradboost           11            1   -.04982224   -.04982224
     nnet           12            1    .01931914    .01931914
     nnet           13            1    .04133947    .04133947

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01252126    .01252126
      ols            2            0    -.0810522    -.0810522
  lassocv            3            0   -.16003707   -.16003707
  ridgecv            4            0     .7060225     .7060225
  lassocv            5            0   -.02352159   -.02352159
  ridgecv            6            0   -.13725063   -.13725063
       rf            7            0    .95743119    .95743119
       rf            8            0   -.73122297   -.73122297
       rf            9            0    .39648104    .39648104
gradboost           10            0     .0905354     .0905354
gradboost           11            0    .07991536    .07991536
     nnet           12            0    .02373355    .02373355
     nnet           13            0   -.01972062   -.01972062
      ols            1            1    -.0120396    -.0120396
      ols            2            1   -.05136087   -.05136087
  lassocv            3            1   -.32836306   -.32836306
  ridgecv            4            1    .38436434    .38436434
  lassocv            5            1    .49704171    .49704171
  ridgecv            6            1   -.07301901   -.07301901
       rf            7            1    .65720853    .65720853
       rf            8            1    .04538264    .04538264
       rf            9            1   -.06601647   -.06601647
gradboost           10            1    .03840929    .03840929
gradboost           11            1   -.04982224   -.04982224
     nnet           12            1    .01931914    .01931914
     nnet           13            1    .04133947    .04133947

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7402085   3.0671013          1          0    .0125213    .0125213 |
   2. | 3.2704152   3.6048992          2          0   -.0810522   -.0810522 |
   3. | 3.1181544   3.1653015          3          0   -.1600371   -.1600371 |
   4. | 2.7318444   2.9316703          4          0    .7060225    .7060225 |
   5. | 3.4013557   3.4674806          5          0   -.0235216   -.0235216 |
      |---------------------------------------------------------------------|
   6. | 2.8238464   3.0389782          6          0   -.1372506   -.1372506 |
   7. | 2.6472168   3.0130308          7          0    .9574312    .9574312 |
   8. | 2.9290894   2.9822487          8          0    -.731223    -.731223 |
      +---------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ss_ols_short_ia.dta not found)
file out_84685/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .18252289    .18252289
    logit            2    .09274302    .09274302
  lassocv            3    .12659987    .12659987
  ridgecv            4    .00177327    .00177327
  lassocv            5   -.24825387   -.24825387
  ridgecv            6    .29106779    .29106779
       rf            7    .41183786    .41183786
       rf            8    .04907352    .04907352
       rf            9   -.31709882   -.31709882
gradboost           10    .32208437    .32208437
gradboost           11    .11564885    .11564885
     nnet           12    .01561003    .01561003
     nnet           13    .03311785    .03311785

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01252126    .01252126
      ols            2            0    -.0810522    -.0810522
  lassocv            3            0   -.16003707   -.16003707
  ridgecv            4            0     .7060225     .7060225
  lassocv            5            0   -.02352159   -.02352159
  ridgecv            6            0   -.13725063   -.13725063
       rf            7            0    .95743119    .95743119
       rf            8            0   -.73122297   -.73122297
       rf            9            0    .39648104    .39648104
gradboost           10            0     .0905354     .0905354
gradboost           11            0    .07991536    .07991536
     nnet           12            0    .02373355    .02373355
     nnet           13            0   -.01972062   -.01972062
      ols            1            1    -.0120396    -.0120396
      ols            2            1   -.05136087   -.05136087
  lassocv            3            1   -.32836306   -.32836306
  ridgecv            4            1    .38436434    .38436434
  lassocv            5            1    .49704171    .49704171
  ridgecv            6            1   -.07301901   -.07301901
       rf            7            1    .65720853    .65720853
       rf            8            1    .04538264    .04538264
       rf            9            1   -.06601647   -.06601647
gradboost           10            1    .03840929    .03840929
gradboost           11            1   -.04982224   -.04982224
     nnet           12            1    .01931914    .01931914
     nnet           13            1    .04133947    .04133947

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .18252289    .18252289
    logit            2    .09274302    .09274302
  lassocv            3    .12659987    .12659987
  ridgecv            4    .00177327    .00177327
  lassocv            5   -.24825387   -.24825387
  ridgecv            6    .29106779    .29106779
       rf            7    .41183786    .41183786
       rf            8    .04907352    .04907352
       rf            9   -.31709882   -.31709882
gradboost           10    .32208437    .32208437
gradboost           11    .11564885    .11564885
     nnet           12    .01561003    .01561003
     nnet           13    .03311785    .03311785

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .81199655          1    .1825229    .1825229 |
   2. | .45866109          2     .092743     .092743 |
   3. |  .1023889          3    .1265999    .1265999 |
   4. | .22224943          4    .0017733    .0017733 |
   5. | .63870473          5   -.2482539   -.2482539 |
      |----------------------------------------------|
   6. | .91745284          6    .2910678    .2910678 |
   7. | .89436398          7    .4118379    .4118379 |
   8. | .86260172          8    .0490735    .0490735 |
      +----------------------------------------------+
(note: file out_84685/D_gender_r_ss_ols_short_ia.dta not found)
file out_84685/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21932563    .21932563
    logit            2    .08147593    .08147593
  lassocv            3    .23735166    .23735166
  ridgecv            4    .08601884    .08601884
  lassocv            5   -.24658299   -.24658299
  ridgecv            6     .0843001     .0843001
       rf            7     .4195529     .4195529
       rf            8    .10927222    .10927222
       rf            9    -.2159568    -.2159568
gradboost           10    .11849586    .11849586
gradboost           11    .15966877    .15966877
     nnet           12   -.01978976   -.01978976
     nnet           13    .03413286    .03413286

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00791989    .00791989
      ols            2            0   -.04989307   -.04989307
  lassocv            3            0   -.00040151   -.00040151
  ridgecv            4            0    .44033049    .44033049
  lassocv            5            0   -.00362503   -.00362503
  ridgecv            6            0   -.02135013   -.02135013
       rf            7            0    .69363957    .69363957
       rf            8            0    .12307345    .12307345
       rf            9            0   -.24671543   -.24671543
gradboost           10            0    .03924381    .03924381
gradboost           11            0    .06242037    .06242037
     nnet           12            0    .01500524    .01500524
     nnet           13            0   -.00357113   -.00357113
      ols            1            1   -.00851788   -.00851788
      ols            2            1   -.01800709   -.01800709
  lassocv            3            1    .11275047    .11275047
  ridgecv            4            1    .26976105    .26976105
  lassocv            5            1    .09895775    .09895775
  ridgecv            6            1   -.03208189   -.03208189
       rf            7            1    .54517205    .54517205
       rf            8            1    .24777873    .24777873
       rf            9            1   -.16175837   -.16175837
gradboost           10            1    .01510941    .01510941
gradboost           11            1    .00650752    .00650752
     nnet           12            1    .01788323    .01788323
     nnet           13            1    .01773362    .01773362

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21932563    .21932563
    logit            2    .08147593    .08147593
  lassocv            3    .23735166    .23735166
  ridgecv            4    .08601884    .08601884
  lassocv            5   -.24658299   -.24658299
  ridgecv            6     .0843001     .0843001
       rf            7     .4195529     .4195529
       rf            8    .10927222    .10927222
       rf            9    -.2159568    -.2159568
gradboost           10    .11849586    .11849586
gradboost           11    .15966877    .15966877
     nnet           12   -.01978976   -.01978976
     nnet           13    .03413286    .03413286

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00791989    .00791989
      ols            2            0   -.04989307   -.04989307
  lassocv            3            0   -.00040151   -.00040151
  ridgecv            4            0    .44033049    .44033049
  lassocv            5            0   -.00362503   -.00362503
  ridgecv            6            0   -.02135013   -.02135013
       rf            7            0    .69363957    .69363957
       rf            8            0    .12307345    .12307345
       rf            9            0   -.24671543   -.24671543
gradboost           10            0    .03924381    .03924381
gradboost           11            0    .06242037    .06242037
     nnet           12            0    .01500524    .01500524
     nnet           13            0   -.00357113   -.00357113
      ols            1            1   -.00851788   -.00851788
      ols            2            1   -.01800709   -.01800709
  lassocv            3            1    .11275047    .11275047
  ridgecv            4            1    .26976105    .26976105
  lassocv            5            1    .09895775    .09895775
  ridgecv            6            1   -.03208189   -.03208189
       rf            7            1    .54517205    .54517205
       rf            8            1    .24777873    .24777873
       rf            9            1   -.16175837   -.16175837
gradboost           10            1    .01510941    .01510941
gradboost           11            1    .00650752    .00650752
     nnet           12            1    .01788323    .01788323
     nnet           13            1    .01773362    .01773362

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00791989    .00791989
      ols            2            0   -.04989307   -.04989307
  lassocv            3            0   -.00040151   -.00040151
  ridgecv            4            0    .44033049    .44033049
  lassocv            5            0   -.00362503   -.00362503
  ridgecv            6            0   -.02135013   -.02135013
       rf            7            0    .69363957    .69363957
       rf            8            0    .12307345    .12307345
       rf            9            0   -.24671543   -.24671543
gradboost           10            0    .03924381    .03924381
gradboost           11            0    .06242037    .06242037
     nnet           12            0    .01500524    .01500524
     nnet           13            0   -.00357113   -.00357113
      ols            1            1   -.00851788   -.00851788
      ols            2            1   -.01800709   -.01800709
  lassocv            3            1    .11275047    .11275047
  ridgecv            4            1    .26976105    .26976105
  lassocv            5            1    .09895775    .09895775
  ridgecv            6            1   -.03208189   -.03208189
       rf            7            1    .54517205    .54517205
       rf            8            1    .24777873    .24777873
       rf            9            1   -.16175837   -.16175837
gradboost           10            1    .01510941    .01510941
gradboost           11            1    .00650752    .00650752
     nnet           12            1    .01788323    .01788323
     nnet           13            1    .01773362    .01773362

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7834837   2.9082116          1          0    .0079199    .0079199 |
   2. |  3.303588   3.4264805          2          0   -.0498931   -.0498931 |
   3. | 3.1357808   2.9836435          3          0   -.0004015   -.0004015 |
   4. | 2.7559567   2.7390885          4          0    .4403305    .4403305 |
   5. | 3.4403354   3.3308696          5          0    -.003625    -.003625 |
      |---------------------------------------------------------------------|
   6. | 2.8437907   2.8661064          6          0   -.0213501   -.0213501 |
   7. | 2.6454011   2.7752141          7          0    .6936396    .6936396 |
   8. | 2.9517372   2.8228902          8          0    .1230734    .1230734 |
      +---------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_84685/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21932563    .21932563
    logit            2    .08147593    .08147593
  lassocv            3    .23735166    .23735166
  ridgecv            4    .08601884    .08601884
  lassocv            5   -.24658299   -.24658299
  ridgecv            6     .0843001     .0843001
       rf            7     .4195529     .4195529
       rf            8    .10927222    .10927222
       rf            9    -.2159568    -.2159568
gradboost           10    .11849586    .11849586
gradboost           11    .15966877    .15966877
     nnet           12   -.01978976   -.01978976
     nnet           13    .03413286    .03413286

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00791989    .00791989
      ols            2            0   -.04989307   -.04989307
  lassocv            3            0   -.00040151   -.00040151
  ridgecv            4            0    .44033049    .44033049
  lassocv            5            0   -.00362503   -.00362503
  ridgecv            6            0   -.02135013   -.02135013
       rf            7            0    .69363957    .69363957
       rf            8            0    .12307345    .12307345
       rf            9            0   -.24671543   -.24671543
gradboost           10            0    .03924381    .03924381
gradboost           11            0    .06242037    .06242037
     nnet           12            0    .01500524    .01500524
     nnet           13            0   -.00357113   -.00357113
      ols            1            1   -.00851788   -.00851788
      ols            2            1   -.01800709   -.01800709
  lassocv            3            1    .11275047    .11275047
  ridgecv            4            1    .26976105    .26976105
  lassocv            5            1    .09895775    .09895775
  ridgecv            6            1   -.03208189   -.03208189
       rf            7            1    .54517205    .54517205
       rf            8            1    .24777873    .24777873
       rf            9            1   -.16175837   -.16175837
gradboost           10            1    .01510941    .01510941
gradboost           11            1    .00650752    .00650752
     nnet           12            1    .01788323    .01788323
     nnet           13            1    .01773362    .01773362

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .21932563    .21932563
    logit            2    .08147593    .08147593
  lassocv            3    .23735166    .23735166
  ridgecv            4    .08601884    .08601884
  lassocv            5   -.24658299   -.24658299
  ridgecv            6     .0843001     .0843001
       rf            7     .4195529     .4195529
       rf            8    .10927222    .10927222
       rf            9    -.2159568    -.2159568
gradboost           10    .11849586    .11849586
gradboost           11    .15966877    .15966877
     nnet           12   -.01978976   -.01978976
     nnet           13    .03413286    .03413286

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .80338956          1   .2193256   .2193256 |
   2. |   .451873          2   .0814759   .0814759 |
   3. | .10321137          3   .2373517   .2373517 |
   4. | .21574644          4   .0860188   .0860188 |
   5. | .62111212          5   -.246583   -.246583 |
      |--------------------------------------------|
   6. | .91175971          6   .0843001   .0843001 |
   7. | .88196693          7   .4195529   .4195529 |
   8. | .88048694          8   .1092722   .1092722 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_84685/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.099    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.099    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.099    (0.018)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985712   .0178481    -5.52   0.000    -.1335527   -.0635896
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.099    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.099    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.099    (0.018)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985712   .0178481    -5.52   0.000    -.1335527   -.0635896
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.099    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.099    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.099    (0.018)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985712   .0178481    -5.52   0.000    -.1335527   -.0635896
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.099    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.099    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.099    (0.018)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0985712   .0178481    -5.52   0.000    -.1335527   -.0635896
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_84685/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_84685/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_84685/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_84685/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_84685/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5758624   2.7787735          1          0   .0769231   .0769231 |
   2. | 3.0412224   3.2337729          2          0   .0769231   .0769231 |
   3. | 2.7643306   2.7726075          3          0   .0769231   .0769231 |
   4. | 2.4539075   2.5951848          4          0   .0769231   .0769231 |
   5. | 3.0704411    3.107289          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5948691   2.7334111          6          0   .0769231   .0769231 |
   7. | 2.3747213    2.652719          7          0   .0769231   .0769231 |
   8. | 2.7468109    2.627586          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ss_avg_short_ia.dta not found)
file out_84685/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .73092075          1   .0769231   .0769231 |
   2. | .42438536          2   .0769231   .0769231 |
   3. | .17644887          3   .0769231   .0769231 |
   4. | .32592412          4   .0769231   .0769231 |
   5. | .56106698          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .78809731          6   .0769231   .0769231 |
   7. | .78685583          7   .0769231   .0769231 |
   8. | .75729149          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ss_avg_short_ia.dta not found)
file out_84685/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5758624   2.7787735          1          0   .0769231   .0769231 |
   2. | 3.0412224   3.2337729          2          0   .0769231   .0769231 |
   3. | 2.7643306   2.7726075          3          0   .0769231   .0769231 |
   4. | 2.4539075   2.5951848          4          0   .0769231   .0769231 |
   5. | 3.0704411    3.107289          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5948691   2.7334111          6          0   .0769231   .0769231 |
   7. | 2.3747213    2.652719          7          0   .0769231   .0769231 |
   8. | 2.7468109    2.627586          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_84685/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_84685/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .73092075          1   .0769231   .0769231 |
   2. | .42438536          2   .0769231   .0769231 |
   3. | .17644887          3   .0769231   .0769231 |
   4. | .32592412          4   .0769231   .0769231 |
   5. | .56106698          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .78809731          6   .0769231   .0769231 |
   7. | .78685583          7   .0769231   .0769231 |
   8. | .75729149          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_84685/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_84685/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1136359   .0863978    -1.32   0.188    -.2829724    .0557007
------------------------------------------------------------------------------
Warning: 127 propensity scores trimmed to lower limit ..
Warning: 37 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1206246   .0163601    -7.37   0.000    -.1526899   -.0885594
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0779628   .0337493    -2.31   0.021    -.1441103   -.0118153
------------------------------------------------------------------------------
Warning: 80 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.062223   .0652841    -0.95   0.341    -.1901775    .0657316
------------------------------------------------------------------------------
Warning: 85 propensity scores trimmed to lower limit ..
Warning: 24 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.073568   .0855843    -0.86   0.390    -.2413101    .0941742
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 25 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.237565   .1748013    -1.36   0.174    -.5801692    .1050393
------------------------------------------------------------------------------
Warning: 88 propensity scores trimmed to lower limit ..
Warning: 22 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0659483   .0296494    -2.22   0.026      -.12406   -.0078365
------------------------------------------------------------------------------
Warning: 2 propensity scores trimmed to lower limit ..
Warning: 1 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.105199    .015711    -6.70   0.000     -.135992   -.0744061
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1098301   .0150218    -7.31   0.000    -.1392722    -.080388
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0786436   .0178054    -4.42   0.000    -.1135416   -.0437455
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0393472   .0412374    -0.95   0.340     -.120171    .0414767
------------------------------------------------------------------------------
Warning: 89 propensity scores trimmed to lower limit ..
Warning: 17 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1044244   .0191742    -5.45   0.000    -.1420052   -.0668437
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .1127666   .1654814     0.68   0.496    -.2115711    .4371043
------------------------------------------------------------------------------
Warning: 177 propensity scores trimmed to lower limit ..
Warning: 115 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_84685/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.066    (0.031)
  ps  1   [poolstack]          [ps]          [ps]    -0.074    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0664318   .0313114    -2.12   0.034    -.1278011   -.0050626
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_232/inter_mse.dta not found)
file out_232/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.156       0.148       0.154       0.153
>        0.145       0.158       0.146       0.174       0.153       0.162  
   D_gender_r_ps   1      0.154       0.155       0.148       0.154       0.153
>        0.145       0.158       0.145       0.173       0.153       0.161  
   D_gender_r_ss   1      0.154       0.154       0.148       0.154       0.153
>        0.145       0.158       0.145       0.173       0.153       0.160  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.225       0.198       0.200       0.552       0.
> 138       0.140       0.194       0.215       0.259       0.143       0.206  
    Y1_pystacked 1    1      0.175       0.220       0.236       0.186       0.
> 141       0.119       0.181       0.201       0.169       0.150       0.145  
     Y_lnearn_ps 0    1      8.299       8.212       8.229       8.191       8.
> 321       8.490       8.684       7.954       8.410       8.280       8.201  
     Y_lnearn_ps 1    1      7.486       7.413       7.425       7.627       7.
> 530       7.627       7.407       7.459       7.556       7.445       7.363  
     Y_lnearn_ss 0    1      0.223       0.196       0.198       0.539       0.
> 136       0.140       0.193       0.214       0.255       0.143       0.204  
     Y_lnearn_ss 1    1      0.174       0.210       0.237       0.185       0.
> 140       0.120       0.179       0.201       0.171       0.149       0.145  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1     .1549924     .1561224     .1480895    .15432422
D_gender_r~s            1    .15441958     .1548987    .14792015     .1543197
D_gender_r~s            1    .15426738    .15395313    .14763151    .15410569

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15336921    .14514872    .15788645    .14620103    .17353362
D_gender_r~s    .15251548    .14485493      .157684    .14527455    .17276341
D_gender_r~s    .15316216    .14453314    .15769783    .14503897    .17309059

                    fold9       fold10
D1_pystacked    .15308703    .16220703
D_gender_r~s    .15320413    .16080613
D_gender_r~s    .15335617    .16014958
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1549924 | .1561224 | .1480895 | .1543242 | .1533692 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1451487 | .1578865 |  .146201 | .1735336 |  .153087 |  .162207 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1544196 | .1548987 | .1479202 | .1543197 | .1525155 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1448549 |  .157684 | .1452745 | .1727634 | .1532041 | .1608061 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1542674 | .1539531 | .1476315 | .1541057 | .1531622 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1445331 | .1576978 |  .145039 | .1730906 | .1533562 | .1601496 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_232/gender_r_mse_inter_gender_mse.dta not found)
file out_232/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.156       0.148       0.154       0.153
>        0.145       0.158       0.146       0.174       0.153       0.162  
   D_gender_r_ps   1      0.154       0.155       0.148       0.154       0.153
>        0.145       0.158       0.145       0.173       0.153       0.161  
   D_gender_r_ss   1      0.154       0.154       0.148       0.154       0.153
>        0.145       0.158       0.145       0.173       0.153       0.160  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.225       0.198       0.200       0.552       0.
> 138       0.140       0.194       0.215       0.259       0.143       0.206  
    Y1_pystacked 1    1      0.175       0.220       0.236       0.186       0.
> 141       0.119       0.181       0.201       0.169       0.150       0.145  
     Y_lnearn_ps 0    1      8.299       8.212       8.229       8.191       8.
> 321       8.490       8.684       7.954       8.410       8.280       8.201  
     Y_lnearn_ps 1    1      7.486       7.413       7.425       7.627       7.
> 530       7.627       7.407       7.459       7.556       7.445       7.363  
     Y_lnearn_ss 0    1      0.223       0.196       0.198       0.539       0.
> 136       0.140       0.193       0.214       0.255       0.143       0.204  
     Y_lnearn_ss 1    1      0.174       0.210       0.237       0.185       0.
> 140       0.120       0.179       0.201       0.171       0.149       0.145  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .22544354    .19821299    .19966651
Y1_pystacked            1            1    .17491166    .21994121    .23589071
 Y_lnearn_ps            0            1    8.2988173    8.2122699    8.2290789
 Y_lnearn_ps            1            1    7.4855398    7.4133186    7.4248548
 Y_lnearn_ss            0            1    .22287655    .19641924    .19831594
 Y_lnearn_ss            1            1    .17393117    .21029449    .23660101

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .55166778    .13789876    .13972511    .19386129    .21529912
Y1_pystacked    .18565508    .14119525    .11926786    .18124807    .20103728
 Y_lnearn_ps    8.1913932    8.3206078    8.4899961     8.683516    7.9538381
 Y_lnearn_ps    7.6270687    7.5299529    7.6272598    7.4071493    7.4592593
 Y_lnearn_ss    .53904423    .13630944    .13969804    .19332639    .21377842
 Y_lnearn_ss    .18502295    .14013413    .11961868    .17939875    .20101884

                    fold8        fold9       fold10
Y1_pystacked    .25856933    .14290208    .20610292
Y1_pystacked     .1686777    .14995702    .14465694
 Y_lnearn_ps    8.4098837    8.2800366     8.200603
 Y_lnearn_ps    7.5555934    7.4454328    7.3626337
 Y_lnearn_ss    .25497135     .1432412    .20352271
 Y_lnearn_ss    .17142607     .1488376    .14524117
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2254435 |  .198213 | .1996665 | .5516677 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1378988 | .1397251 | .1938613 | .2152991 | .2585693 | .1429021 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2061029     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1749117 | .2199412 | .2358907 | .1856551 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1411953 | .1192679 | .1812481 | .2010373 | .1686777 |  .149957 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1446569     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.298818 |  8.21227 | 8.229079 | 8.191393 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.320608 | 8.489996 | 8.683517 | 7.953838 | 8.409883 | 8.280037 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.200603     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 |  7.48554 | 7.413319 | 7.424855 | 7.627069 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.529953 |  7.62726 | 7.407149 |  7.45926 | 7.555593 | 7.445433 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.362634     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2228765 | .1964192 | .1983159 | .5390442 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1363094 |  .139698 | .1933264 | .2137784 | .2549714 | .1432412 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .2035227     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1739312 | .2102945 |  .236601 |  .185023 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1401341 | .1196187 | .1793987 | .2010188 | .1714261 | .1488376 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1452412     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_232/lnearn_mse_inter_lnearn_mse.dta not found)
file out_232/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.066    (0.031)
  ps  1   [poolstack]          [ps]          [ps]    -0.074    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0664318   .0313114    -2.12   0.034    -.1278011   -.0050626
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.071    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.066    (0.031)
  ps  1   [poolstack]          [ps]          [ps]    -0.074    (0.027)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0705326   .0298804    -2.36   0.018    -.1290971   -.0119681
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 6 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.066    (0.031)
  ss  1  [shortstack]          [ss]          [ss]    -0.066    (0.031)
  ps  1   [poolstack]          [ps]          [ps]    -0.074    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0664318   .0313114    -2.12   0.034    -.1278011   -.0050626
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.074    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.066    (0.031)
  ps  1   [poolstack]          [ps]          [ps]    -0.074    (0.027)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0737664   .0273365    -2.70   0.007     -.127345   -.0201879
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 6 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .23017664    .23017664
    logit            2    1.218e-16    1.218e-16
  lassocv            3    .13861171    .13861171
  ridgecv            4    .05950646    .05950646
  lassocv            5    .03282575    .03282575
  ridgecv            6    .00042859    .00042859
       rf            7    .26321295    .26321295
       rf            8    2.765e-17    2.765e-17
       rf            9    4.433e-17    4.433e-17
gradboost           10    .04734108    .04734108
gradboost           11    .21203858    .21203858
     nnet           12    5.263e-17    5.263e-17
     nnet           13    .01585824    .01585824

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02074992    .02074992
      ols            2            0    .00384675    .00384675
  lassocv            3            0    .09058348    .09058348
  ridgecv            4            0    .19069337    .19069337
  lassocv            5            0    .03927587    .03927587
  ridgecv            6            0    .00005983    .00005983
       rf            7            0    .43873399    .43873399
       rf            8            0    7.914e-17    7.914e-17
       rf            9            0    8.042e-17    8.042e-17
gradboost           10            0    .03568207    .03568207
gradboost           11            0     .1607869     .1607869
     nnet           12            0    .00901073    .00901073
     nnet           13            0    .01057709    .01057709
      ols            1            1    .01444399    .01444399
      ols            2            1    3.028e-17    3.028e-17
  lassocv            3            1    .11670196    .11670196
  ridgecv            4            1    .05006137    .05006137
  lassocv            5            1    .12598011    .12598011
  ridgecv            6            1    .05589062    .05589062
       rf            7            1    .51578663    .51578663
       rf            8            1    6.696e-17    6.696e-17
       rf            9            1    8.435e-17    8.435e-17
gradboost           10            1    .01362793    .01362793
gradboost           11            1    .06024887    .06024887
     nnet           12            1     .0225768     .0225768
     nnet           13            1    .02468172    .02468172

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .23017664    .23017664
    logit            2    1.218e-16    1.218e-16
  lassocv            3    .13861171    .13861171
  ridgecv            4    .05950646    .05950646
  lassocv            5    .03282575    .03282575
  ridgecv            6    .00042859    .00042859
       rf            7    .26321295    .26321295
       rf            8    2.765e-17    2.765e-17
       rf            9    4.433e-17    4.433e-17
gradboost           10    .04734108    .04734108
gradboost           11    .21203858    .21203858
     nnet           12    5.263e-17    5.263e-17
     nnet           13    .01585824    .01585824

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02074992    .02074992
      ols            2            0    .00384675    .00384675
  lassocv            3            0    .09058348    .09058348
  ridgecv            4            0    .19069337    .19069337
  lassocv            5            0    .03927587    .03927587
  ridgecv            6            0    .00005983    .00005983
       rf            7            0    .43873399    .43873399
       rf            8            0    7.914e-17    7.914e-17
       rf            9            0    8.042e-17    8.042e-17
gradboost           10            0    .03568207    .03568207
gradboost           11            0     .1607869     .1607869
     nnet           12            0    .00901073    .00901073
     nnet           13            0    .01057709    .01057709
      ols            1            1    .01444399    .01444399
      ols            2            1    3.028e-17    3.028e-17
  lassocv            3            1    .11670196    .11670196
  ridgecv            4            1    .05006137    .05006137
  lassocv            5            1    .12598011    .12598011
  ridgecv            6            1    .05589062    .05589062
       rf            7            1    .51578663    .51578663
       rf            8            1    6.696e-17    6.696e-17
       rf            9            1    8.435e-17    8.435e-17
gradboost           10            1    .01362793    .01362793
gradboost           11            1    .06024887    .06024887
     nnet           12            1     .0225768     .0225768
     nnet           13            1    .02468172    .02468172

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02074992    .02074992
      ols            2            0    .00384675    .00384675
  lassocv            3            0    .09058348    .09058348
  ridgecv            4            0    .19069337    .19069337
  lassocv            5            0    .03927587    .03927587
  ridgecv            6            0    .00005983    .00005983
       rf            7            0    .43873399    .43873399
       rf            8            0    7.914e-17    7.914e-17
       rf            9            0    8.042e-17    8.042e-17
gradboost           10            0    .03568207    .03568207
gradboost           11            0     .1607869     .1607869
     nnet           12            0    .00901073    .00901073
     nnet           13            0    .01057709    .01057709
      ols            1            1    .01444399    .01444399
      ols            2            1    3.028e-17    3.028e-17
  lassocv            3            1    .11670196    .11670196
  ridgecv            4            1    .05006137    .05006137
  lassocv            5            1    .12598011    .12598011
  ridgecv            6            1    .05589062    .05589062
       rf            7            1    .51578663    .51578663
       rf            8            1    6.696e-17    6.696e-17
       rf            9            1    8.435e-17    8.435e-17
gradboost           10            1    .01362793    .01362793
gradboost           11            1    .06024887    .06024887
     nnet           12            1     .0225768     .0225768
     nnet           13            1    .02468172    .02468172

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0207499   .0207499 |
   2. |        2          0   .0038467   .0038467 |
   3. |        3          0   .0905835   .0905835 |
   4. |        4          0   .1906934   .1906934 |
   5. |        5          0   .0392759   .0392759 |
      |-------------------------------------------|
   6. |        6          0   .0000598   .0000598 |
   7. |        7          0    .438734    .438734 |
   8. |        8          0   7.91e-17   7.91e-17 |
      +-------------------------------------------+
(note: file out_232/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_232/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .23017664    .23017664
    logit            2    1.218e-16    1.218e-16
  lassocv            3    .13861171    .13861171
  ridgecv            4    .05950646    .05950646
  lassocv            5    .03282575    .03282575
  ridgecv            6    .00042859    .00042859
       rf            7    .26321295    .26321295
       rf            8    2.765e-17    2.765e-17
       rf            9    4.433e-17    4.433e-17
gradboost           10    .04734108    .04734108
gradboost           11    .21203858    .21203858
     nnet           12    5.263e-17    5.263e-17
     nnet           13    .01585824    .01585824

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02074992    .02074992
      ols            2            0    .00384675    .00384675
  lassocv            3            0    .09058348    .09058348
  ridgecv            4            0    .19069337    .19069337
  lassocv            5            0    .03927587    .03927587
  ridgecv            6            0    .00005983    .00005983
       rf            7            0    .43873399    .43873399
       rf            8            0    7.914e-17    7.914e-17
       rf            9            0    8.042e-17    8.042e-17
gradboost           10            0    .03568207    .03568207
gradboost           11            0     .1607869     .1607869
     nnet           12            0    .00901073    .00901073
     nnet           13            0    .01057709    .01057709
      ols            1            1    .01444399    .01444399
      ols            2            1    3.028e-17    3.028e-17
  lassocv            3            1    .11670196    .11670196
  ridgecv            4            1    .05006137    .05006137
  lassocv            5            1    .12598011    .12598011
  ridgecv            6            1    .05589062    .05589062
       rf            7            1    .51578663    .51578663
       rf            8            1    6.696e-17    6.696e-17
       rf            9            1    8.435e-17    8.435e-17
gradboost           10            1    .01362793    .01362793
gradboost           11            1    .06024887    .06024887
     nnet           12            1     .0225768     .0225768
     nnet           13            1    .02468172    .02468172

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .23017664    .23017664
    logit            2    1.218e-16    1.218e-16
  lassocv            3    .13861171    .13861171
  ridgecv            4    .05950646    .05950646
  lassocv            5    .03282575    .03282575
  ridgecv            6    .00042859    .00042859
       rf            7    .26321295    .26321295
       rf            8    2.765e-17    2.765e-17
       rf            9    4.433e-17    4.433e-17
gradboost           10    .04734108    .04734108
gradboost           11    .21203858    .21203858
     nnet           12    5.263e-17    5.263e-17
     nnet           13    .01585824    .01585824

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2301766   .2301766 |
   2. |        2   1.22e-16   1.22e-16 |
   3. |        3   .1386117   .1386117 |
   4. |        4   .0595065   .0595065 |
   5. |        5   .0328258   .0328258 |
      |--------------------------------|
   6. |        6   .0004286   .0004286 |
   7. |        7   .2632129   .2632129 |
   8. |        8   2.77e-17   2.77e-17 |
      +--------------------------------+
(note: file out_232/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_232/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .19940157    .19940157
    logit            2    2.560e-17    2.560e-17
  lassocv            3    .08331843    .08331843
  ridgecv            4    .09365901    .09365901
  lassocv            5    8.485e-17    8.485e-17
  ridgecv            6    3.662e-17    3.662e-17
       rf            7    .26280113    .26280113
       rf            8    7.845e-18    7.845e-18
       rf            9    4.698e-17    4.698e-17
gradboost           10    6.081e-17    6.081e-17
gradboost           11    .30639791    .30639791
     nnet           12    1.035e-16    1.035e-16
     nnet           13    .05442195    .05442195

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0079237     .0079237
      ols            2            0    2.740e-16    2.740e-16
  lassocv            3            0    .11095249    .11095249
  ridgecv            4            0    .17734155    .17734155
  lassocv            5            0    6.367e-18    6.367e-18
  ridgecv            6            0            0            0
       rf            7            0    .48269065    .48269065
       rf            8            0            0            0
       rf            9            0    2.086e-16    2.086e-16
gradboost           10            0    3.330e-17    3.330e-17
gradboost           11            0    .19013204    .19013204
     nnet           12            0    2.327e-16    2.327e-16
     nnet           13            0    .03095957    .03095957
      ols            1            1    .02083174    .02083174
      ols            2            1    7.436e-17    7.436e-17
  lassocv            3            1    .02579814    .02579814
  ridgecv            4            1            0            0
  lassocv            5            1    .22798357    .22798357
  ridgecv            6            1     .0860897     .0860897
       rf            7            1    .56359249    .56359249
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .02432458    .02432458
     nnet           12            1            0            0
     nnet           13            1    .05137978    .05137978

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .19940157    .19940157
    logit            2    2.560e-17    2.560e-17
  lassocv            3    .08331843    .08331843
  ridgecv            4    .09365901    .09365901
  lassocv            5    8.485e-17    8.485e-17
  ridgecv            6    3.662e-17    3.662e-17
       rf            7    .26280113    .26280113
       rf            8    7.845e-18    7.845e-18
       rf            9    4.698e-17    4.698e-17
gradboost           10    6.081e-17    6.081e-17
gradboost           11    .30639791    .30639791
     nnet           12    1.035e-16    1.035e-16
     nnet           13    .05442195    .05442195

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0079237     .0079237
      ols            2            0    2.740e-16    2.740e-16
  lassocv            3            0    .11095249    .11095249
  ridgecv            4            0    .17734155    .17734155
  lassocv            5            0    6.367e-18    6.367e-18
  ridgecv            6            0            0            0
       rf            7            0    .48269065    .48269065
       rf            8            0            0            0
       rf            9            0    2.086e-16    2.086e-16
gradboost           10            0    3.330e-17    3.330e-17
gradboost           11            0    .19013204    .19013204
     nnet           12            0    2.327e-16    2.327e-16
     nnet           13            0    .03095957    .03095957
      ols            1            1    .02083174    .02083174
      ols            2            1    7.436e-17    7.436e-17
  lassocv            3            1    .02579814    .02579814
  ridgecv            4            1            0            0
  lassocv            5            1    .22798357    .22798357
  ridgecv            6            1     .0860897     .0860897
       rf            7            1    .56359249    .56359249
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .02432458    .02432458
     nnet           12            1            0            0
     nnet           13            1    .05137978    .05137978

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0079237     .0079237
      ols            2            0    2.740e-16    2.740e-16
  lassocv            3            0    .11095249    .11095249
  ridgecv            4            0    .17734155    .17734155
  lassocv            5            0    6.367e-18    6.367e-18
  ridgecv            6            0            0            0
       rf            7            0    .48269065    .48269065
       rf            8            0            0            0
       rf            9            0    2.086e-16    2.086e-16
gradboost           10            0    3.330e-17    3.330e-17
gradboost           11            0    .19013204    .19013204
     nnet           12            0    2.327e-16    2.327e-16
     nnet           13            0    .03095957    .03095957
      ols            1            1    .02083174    .02083174
      ols            2            1    7.436e-17    7.436e-17
  lassocv            3            1    .02579814    .02579814
  ridgecv            4            1            0            0
  lassocv            5            1    .22798357    .22798357
  ridgecv            6            1     .0860897     .0860897
       rf            7            1    .56359249    .56359249
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .02432458    .02432458
     nnet           12            1            0            0
     nnet           13            1    .05137978    .05137978

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5104393   2.7263376          1          0   .0079237   .0079237 |
   2. |  3.012253   3.2502484          2          0   2.74e-16   2.74e-16 |
   3. | 2.8340781   2.8540215          3          0   .1109525   .1109525 |
   4. | 2.5082076   2.5358795          4          0   .1773416   .1773416 |
   5. | 3.1387071   3.1131955          5          0   6.37e-18   6.37e-18 |
      |-------------------------------------------------------------------|
   6. | 2.5708495    2.714363          6          0          0          0 |
   7. | 2.4554447   2.7025838          7          0   .4826906   .4826906 |
   8. |  2.617336   2.7603398          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_232/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .19940157    .19940157
    logit            2    2.560e-17    2.560e-17
  lassocv            3    .08331843    .08331843
  ridgecv            4    .09365901    .09365901
  lassocv            5    8.485e-17    8.485e-17
  ridgecv            6    3.662e-17    3.662e-17
       rf            7    .26280113    .26280113
       rf            8    7.845e-18    7.845e-18
       rf            9    4.698e-17    4.698e-17
gradboost           10    6.081e-17    6.081e-17
gradboost           11    .30639791    .30639791
     nnet           12    1.035e-16    1.035e-16
     nnet           13    .05442195    .05442195

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0     .0079237     .0079237
      ols            2            0    2.740e-16    2.740e-16
  lassocv            3            0    .11095249    .11095249
  ridgecv            4            0    .17734155    .17734155
  lassocv            5            0    6.367e-18    6.367e-18
  ridgecv            6            0            0            0
       rf            7            0    .48269065    .48269065
       rf            8            0            0            0
       rf            9            0    2.086e-16    2.086e-16
gradboost           10            0    3.330e-17    3.330e-17
gradboost           11            0    .19013204    .19013204
     nnet           12            0    2.327e-16    2.327e-16
     nnet           13            0    .03095957    .03095957
      ols            1            1    .02083174    .02083174
      ols            2            1    7.436e-17    7.436e-17
  lassocv            3            1    .02579814    .02579814
  ridgecv            4            1            0            0
  lassocv            5            1    .22798357    .22798357
  ridgecv            6            1     .0860897     .0860897
       rf            7            1    .56359249    .56359249
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1    .02432458    .02432458
     nnet           12            1            0            0
     nnet           13            1    .05137978    .05137978

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .19940157    .19940157
    logit            2    2.560e-17    2.560e-17
  lassocv            3    .08331843    .08331843
  ridgecv            4    .09365901    .09365901
  lassocv            5    8.485e-17    8.485e-17
  ridgecv            6    3.662e-17    3.662e-17
       rf            7    .26280113    .26280113
       rf            8    7.845e-18    7.845e-18
       rf            9    4.698e-17    4.698e-17
gradboost           10    6.081e-17    6.081e-17
gradboost           11    .30639791    .30639791
     nnet           12    1.035e-16    1.035e-16
     nnet           13    .05442195    .05442195

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .80204087          1   .1994016   .1994016 |
   2. | .39762614          2   2.56e-17   2.56e-17 |
   3. | .09485327          3   .0833184   .0833184 |
   4. | .20426802          4    .093659    .093659 |
   5. | .47719515          5   8.49e-17   8.49e-17 |
      |--------------------------------------------|
   6. | .84397355          6   3.66e-17   3.66e-17 |
   7. | .80803526          7   .2628011   .2628011 |
   8. | .88619549          8   7.84e-18   7.84e-18 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_232/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25043817    .25043817
    logit            2    7.514e-16    7.514e-16
  lassocv            3    .17501211    .17501211
  ridgecv            4    .04580804    .04580804
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28456166    .28456166
       rf            8    4.264e-16    4.264e-16
       rf            9            0            0
gradboost           10    .00702041    .00702041
gradboost           11    .23094861    .23094861
     nnet           12    7.958e-16    7.958e-16
     nnet           13      .006211      .006211

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01327507    .01327507
      ols            2            0    5.721e-16    5.721e-16
  lassocv            3            0    .11550615    .11550615
  ridgecv            4            0    .21568201    .21568201
  lassocv            5            0            0            0
  ridgecv            6            0    3.600e-16    3.600e-16
       rf            7            0    .47231138    .47231138
       rf            8            0            0            0
       rf            9            0    3.543e-17    3.543e-17
gradboost           10            0    1.652e-16    1.652e-16
gradboost           11            0    .17883172    .17883172
     nnet           12            0            0            0
     nnet           13            0    .00439367    .00439367
      ols            1            1    .00948481    .00948481
      ols            2            1    1.318e-16    1.318e-16
  lassocv            3            1    .24309138    .24309138
  ridgecv            4            1    .05158534    .05158534
  lassocv            5            1     .0279994     .0279994
  ridgecv            6            1      .030056      .030056
       rf            7            1     .5401405     .5401405
       rf            8            1            0            0
       rf            9            1    7.340e-17    7.340e-17
gradboost           10            1    6.647e-18    6.647e-18
gradboost           11            1    .07125498    .07125498
     nnet           12            1            0            0
     nnet           13            1     .0263876     .0263876

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25043817    .25043817
    logit            2    7.514e-16    7.514e-16
  lassocv            3    .17501211    .17501211
  ridgecv            4    .04580804    .04580804
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28456166    .28456166
       rf            8    4.264e-16    4.264e-16
       rf            9            0            0
gradboost           10    .00702041    .00702041
gradboost           11    .23094861    .23094861
     nnet           12    7.958e-16    7.958e-16
     nnet           13      .006211      .006211

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01327507    .01327507
      ols            2            0    5.721e-16    5.721e-16
  lassocv            3            0    .11550615    .11550615
  ridgecv            4            0    .21568201    .21568201
  lassocv            5            0            0            0
  ridgecv            6            0    3.600e-16    3.600e-16
       rf            7            0    .47231138    .47231138
       rf            8            0            0            0
       rf            9            0    3.543e-17    3.543e-17
gradboost           10            0    1.652e-16    1.652e-16
gradboost           11            0    .17883172    .17883172
     nnet           12            0            0            0
     nnet           13            0    .00439367    .00439367
      ols            1            1    .00948481    .00948481
      ols            2            1    1.318e-16    1.318e-16
  lassocv            3            1    .24309138    .24309138
  ridgecv            4            1    .05158534    .05158534
  lassocv            5            1     .0279994     .0279994
  ridgecv            6            1      .030056      .030056
       rf            7            1     .5401405     .5401405
       rf            8            1            0            0
       rf            9            1    7.340e-17    7.340e-17
gradboost           10            1    6.647e-18    6.647e-18
gradboost           11            1    .07125498    .07125498
     nnet           12            1            0            0
     nnet           13            1     .0263876     .0263876

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01327507    .01327507
      ols            2            0    5.721e-16    5.721e-16
  lassocv            3            0    .11550615    .11550615
  ridgecv            4            0    .21568201    .21568201
  lassocv            5            0            0            0
  ridgecv            6            0    3.600e-16    3.600e-16
       rf            7            0    .47231138    .47231138
       rf            8            0            0            0
       rf            9            0    3.543e-17    3.543e-17
gradboost           10            0    1.652e-16    1.652e-16
gradboost           11            0    .17883172    .17883172
     nnet           12            0            0            0
     nnet           13            0    .00439367    .00439367
      ols            1            1    .00948481    .00948481
      ols            2            1    1.318e-16    1.318e-16
  lassocv            3            1    .24309138    .24309138
  ridgecv            4            1    .05158534    .05158534
  lassocv            5            1     .0279994     .0279994
  ridgecv            6            1      .030056      .030056
       rf            7            1     .5401405     .5401405
       rf            8            1            0            0
       rf            9            1    7.340e-17    7.340e-17
gradboost           10            1    6.647e-18    6.647e-18
gradboost           11            1    .07125498    .07125498
     nnet           12            1            0            0
     nnet           13            1     .0263876     .0263876

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5194837   2.7258667          1          0   .0132751   .0132751 |
   2. | 3.0094251   3.2471907          2          0   5.72e-16   5.72e-16 |
   3. | 2.8275724   2.8585633          3          0   .1155061   .1155061 |
   4. |  2.485817   2.5300391          4          0    .215682    .215682 |
   5. | 3.1527821   3.1115878          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5640307   2.7132379          6          0   3.60e-16   3.60e-16 |
   7. | 2.4453562   2.6671097          7          0   .4723114   .4723114 |
   8. |  2.625576   2.7437865          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_232/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25043817    .25043817
    logit            2    7.514e-16    7.514e-16
  lassocv            3    .17501211    .17501211
  ridgecv            4    .04580804    .04580804
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28456166    .28456166
       rf            8    4.264e-16    4.264e-16
       rf            9            0            0
gradboost           10    .00702041    .00702041
gradboost           11    .23094861    .23094861
     nnet           12    7.958e-16    7.958e-16
     nnet           13      .006211      .006211

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01327507    .01327507
      ols            2            0    5.721e-16    5.721e-16
  lassocv            3            0    .11550615    .11550615
  ridgecv            4            0    .21568201    .21568201
  lassocv            5            0            0            0
  ridgecv            6            0    3.600e-16    3.600e-16
       rf            7            0    .47231138    .47231138
       rf            8            0            0            0
       rf            9            0    3.543e-17    3.543e-17
gradboost           10            0    1.652e-16    1.652e-16
gradboost           11            0    .17883172    .17883172
     nnet           12            0            0            0
     nnet           13            0    .00439367    .00439367
      ols            1            1    .00948481    .00948481
      ols            2            1    1.318e-16    1.318e-16
  lassocv            3            1    .24309138    .24309138
  ridgecv            4            1    .05158534    .05158534
  lassocv            5            1     .0279994     .0279994
  ridgecv            6            1      .030056      .030056
       rf            7            1     .5401405     .5401405
       rf            8            1            0            0
       rf            9            1    7.340e-17    7.340e-17
gradboost           10            1    6.647e-18    6.647e-18
gradboost           11            1    .07125498    .07125498
     nnet           12            1            0            0
     nnet           13            1     .0263876     .0263876

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .25043817    .25043817
    logit            2    7.514e-16    7.514e-16
  lassocv            3    .17501211    .17501211
  ridgecv            4    .04580804    .04580804
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7    .28456166    .28456166
       rf            8    4.264e-16    4.264e-16
       rf            9            0            0
gradboost           10    .00702041    .00702041
gradboost           11    .23094861    .23094861
     nnet           12    7.958e-16    7.958e-16
     nnet           13      .006211      .006211

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .78560307          1   .2504382   .2504382 |
   2. | .39249821          2   7.51e-16   7.51e-16 |
   3. | .09846955          3   .1750121   .1750121 |
   4. | .19184951          4    .045808    .045808 |
   5. | .47612522          5          0          0 |
      |--------------------------------------------|
   6. | .85260022          6          0          0 |
   7. | .81154017          7   .2845617   .2845617 |
   8. | .86750206          8   4.26e-16   4.26e-16 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_232/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.086    (0.026)
  ss  1  [shortstack]          [ss]          [ss]    -0.094    (0.028)
  ps  1   [poolstack]          [ps]          [ps]    -0.094    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0935647   .0275501    -3.40   0.001    -.1475619   -.0395675
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 78 propensity scores trimmed to lower limit .01.
Warning: 9 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.086    (0.026)
  ss  1  [shortstack]          [ss]          [ss]    -0.094    (0.028)
  ps  1   [poolstack]          [ps]          [ps]    -0.094    (0.028)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0864655   .0260836    -3.31   0.001    -.1375884   -.0353427
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 59 propensity scores trimmed to lower limit .01.
Warning: 8 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.094    (0.028)
  ss  1  [shortstack]          [ss]          [ss]    -0.094    (0.028)
  ps  1   [poolstack]          [ps]          [ps]    -0.094    (0.028)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0935647   .0275501    -3.40   0.001    -.1475619   -.0395675
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 78 propensity scores trimmed to lower limit .01.
Warning: 9 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.094    (0.028)
  ss  1  [shortstack]          [ss]          [ss]    -0.094    (0.028)
  ps  1   [poolstack]          [ps]          [ps]    -0.094    (0.028)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0935647   .0275501    -3.40   0.001    -.1475619   -.0395675
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 78 propensity scores trimmed to lower limit .01.
Warning: 9 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0         .1         .1 |
   4. |        4          0          0          0 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .9         .9 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_232/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_232/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .8           .8
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7           .1           .1
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .8         .8 |
   4. |        4          0          0 |
   5. |        5          0          0 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7         .1         .1 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_232/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_232/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4606366    2.774261          1          0          0          0 |
   2. | 2.9369659   3.2050664          2          0          0          0 |
   3. | 2.9452271   2.8940651          3          0          0          0 |
   4. | 2.5057282   2.5605819          4          0          0          0 |
   5. | 3.1451075   3.1146574          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5192864   2.7101343          6          0          0          0 |
   7. | 2.5129912    2.782444          7          0          1          1 |
   8. | 2.6615963     2.82815          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_232/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7272442          1          0          0 |
   2. | .30991644          2          0          0 |
   3. |  .0808067          3          1          1 |
   4. | .23426078          4          0          0 |
   5. | .51405257          5          0          0 |
      |--------------------------------------------|
   6. | .84836167          6          0          0 |
   7. | .86755884          7          0          0 |
   8. | .79829979          8          0          0 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_232/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4606366    2.774261          1          0          0          0 |
   2. | 2.9369659   3.2050664          2          0          0          0 |
   3. | 2.9452271   2.8940651          3          0          0          0 |
   4. | 2.5057282   2.5605819          4          0          0          0 |
   5. | 3.1451075   3.1146574          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5192864   2.7101343          6          0          0          0 |
   7. | 2.5129912    2.782444          7          0          1          1 |
   8. | 2.6615963     2.82815          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_232/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7272442          1          0          0 |
   2. | .30991644          2          0          0 |
   3. |  .0808067          3          1          1 |
   4. | .23426078          4          0          0 |
   5. | .51405257          5          0          0 |
      |--------------------------------------------|
   6. | .84836167          6          0          0 |
   7. | .86755884          7          0          0 |
   8. | .79829979          8          0          0 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_232/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.187    (0.159)
  ss  1  [shortstack]          [ss]          [ss]     0.042    (0.093)
  ps  1   [poolstack]          [ps]          [ps]     0.142    (0.099)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0422831   .0927549     0.46   0.648    -.1395131    .2240793
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 454 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.187    (0.159)
  ss  1  [shortstack]          [ss]          [ss]     0.042    (0.093)
  ps  1   [poolstack]          [ps]          [ps]     0.142    (0.099)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .1869103   .1592467     1.17   0.241    -.1252076    .4990281
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2518 propensity scores trimmed to lower limit .01.
Warning: 346 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.042    (0.093)
  ss  1  [shortstack]          [ss]          [ss]     0.042    (0.093)
  ps  1   [poolstack]          [ps]          [ps]     0.142    (0.099)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0422831   .0927549     0.46   0.648    -.1395131    .2240793
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 454 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.142    (0.099)
  ss  1  [shortstack]          [ss]          [ss]     0.042    (0.093)
  ps  1   [poolstack]          [ps]          [ps]     0.142    (0.099)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .1416654   .0987506     1.43   0.151    -.0518823     .335213
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 13 propensity scores trimmed to lower limit .01.
Warning: 224 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1     .1915834     .1915834
    logit            2    .08831734    .08831734
  lassocv            3    .30589082    .30589082
  ridgecv            4    .02555218    .02555218
  lassocv            5   -.06803841   -.06803841
  ridgecv            6    .01713255    .01713255
       rf            7    .39790313    .39790313
       rf            8    .12471561    .12471561
       rf            9   -.27351302   -.27351302
gradboost           10     .1026537     .1026537
gradboost           11    .14546793    .14546793
     nnet           12   -1.9529832   -1.9529832
     nnet           13    .01017439    .01017439

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03000137    .03000137
      ols            2            0   -.05601545   -.05601545
  lassocv            3            0   -.05078283   -.05078283
  ridgecv            4            0    .61798497    .61798497
  lassocv            5            0   -.01484194   -.01484194
  ridgecv            6            0   -.14554102   -.14554102
       rf            7            0    .67974008    .67974008
       rf            8            0   -.07541603   -.07541603
       rf            9            0   -.02318452   -.02318452
gradboost           10            0    .04161758    .04161758
gradboost           11            0    .09076404    .09076404
     nnet           12            0   -.02664728   -.02664728
     nnet           13            0    .00044905    .00044905
      ols            1            1    .00078698    .00078698
      ols            2            1   -.01751382   -.01751382
  lassocv            3            1   -.00327192   -.00327192
  ridgecv            4            1    .23066694    .23066694
  lassocv            5            1    .18769583    .18769583
  ridgecv            6            1   -.00617197   -.00617197
       rf            7            1    .52515268    .52515268
       rf            8            1    .52745611    .52745611
       rf            9            1   -.41186616   -.41186616
gradboost           10            1   -.05814488   -.05814488
gradboost           11            1    .05560918    .05560918
     nnet           12            1   -.14923347   -.14923347
     nnet           13            1    .01610263    .01610263

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1     .1915834     .1915834
    logit            2    .08831734    .08831734
  lassocv            3    .30589082    .30589082
  ridgecv            4    .02555218    .02555218
  lassocv            5   -.06803841   -.06803841
  ridgecv            6    .01713255    .01713255
       rf            7    .39790313    .39790313
       rf            8    .12471561    .12471561
       rf            9   -.27351302   -.27351302
gradboost           10     .1026537     .1026537
gradboost           11    .14546793    .14546793
     nnet           12   -1.9529832   -1.9529832
     nnet           13    .01017439    .01017439

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03000137    .03000137
      ols            2            0   -.05601545   -.05601545
  lassocv            3            0   -.05078283   -.05078283
  ridgecv            4            0    .61798497    .61798497
  lassocv            5            0   -.01484194   -.01484194
  ridgecv            6            0   -.14554102   -.14554102
       rf            7            0    .67974008    .67974008
       rf            8            0   -.07541603   -.07541603
       rf            9            0   -.02318452   -.02318452
gradboost           10            0    .04161758    .04161758
gradboost           11            0    .09076404    .09076404
     nnet           12            0   -.02664728   -.02664728
     nnet           13            0    .00044905    .00044905
      ols            1            1    .00078698    .00078698
      ols            2            1   -.01751382   -.01751382
  lassocv            3            1   -.00327192   -.00327192
  ridgecv            4            1    .23066694    .23066694
  lassocv            5            1    .18769583    .18769583
  ridgecv            6            1   -.00617197   -.00617197
       rf            7            1    .52515268    .52515268
       rf            8            1    .52745611    .52745611
       rf            9            1   -.41186616   -.41186616
gradboost           10            1   -.05814488   -.05814488
gradboost           11            1    .05560918    .05560918
     nnet           12            1   -.14923347   -.14923347
     nnet           13            1    .01610263    .01610263

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03000137    .03000137
      ols            2            0   -.05601545   -.05601545
  lassocv            3            0   -.05078283   -.05078283
  ridgecv            4            0    .61798497    .61798497
  lassocv            5            0   -.01484194   -.01484194
  ridgecv            6            0   -.14554102   -.14554102
       rf            7            0    .67974008    .67974008
       rf            8            0   -.07541603   -.07541603
       rf            9            0   -.02318452   -.02318452
gradboost           10            0    .04161758    .04161758
gradboost           11            0    .09076404    .09076404
     nnet           12            0   -.02664728   -.02664728
     nnet           13            0    .00044905    .00044905
      ols            1            1    .00078698    .00078698
      ols            2            1   -.01751382   -.01751382
  lassocv            3            1   -.00327192   -.00327192
  ridgecv            4            1    .23066694    .23066694
  lassocv            5            1    .18769583    .18769583
  ridgecv            6            1   -.00617197   -.00617197
       rf            7            1    .52515268    .52515268
       rf            8            1    .52745611    .52745611
       rf            9            1   -.41186616   -.41186616
gradboost           10            1   -.05814488   -.05814488
gradboost           11            1    .05560918    .05560918
     nnet           12            1   -.14923347   -.14923347
     nnet           13            1    .01610263    .01610263

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0300014    .0300014 |
   2. |        2          0   -.0560155   -.0560155 |
   3. |        3          0   -.0507828   -.0507828 |
   4. |        4          0     .617985     .617985 |
   5. |        5          0   -.0148419   -.0148419 |
      |---------------------------------------------|
   6. |        6          0    -.145541    -.145541 |
   7. |        7          0    .6797401    .6797401 |
   8. |        8          0    -.075416    -.075416 |
      +---------------------------------------------+
(note: file out_232/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_232/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1     .1915834     .1915834
    logit            2    .08831734    .08831734
  lassocv            3    .30589082    .30589082
  ridgecv            4    .02555218    .02555218
  lassocv            5   -.06803841   -.06803841
  ridgecv            6    .01713255    .01713255
       rf            7    .39790313    .39790313
       rf            8    .12471561    .12471561
       rf            9   -.27351302   -.27351302
gradboost           10     .1026537     .1026537
gradboost           11    .14546793    .14546793
     nnet           12   -1.9529832   -1.9529832
     nnet           13    .01017439    .01017439

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03000137    .03000137
      ols            2            0   -.05601545   -.05601545
  lassocv            3            0   -.05078283   -.05078283
  ridgecv            4            0    .61798497    .61798497
  lassocv            5            0   -.01484194   -.01484194
  ridgecv            6            0   -.14554102   -.14554102
       rf            7            0    .67974008    .67974008
       rf            8            0   -.07541603   -.07541603
       rf            9            0   -.02318452   -.02318452
gradboost           10            0    .04161758    .04161758
gradboost           11            0    .09076404    .09076404
     nnet           12            0   -.02664728   -.02664728
     nnet           13            0    .00044905    .00044905
      ols            1            1    .00078698    .00078698
      ols            2            1   -.01751382   -.01751382
  lassocv            3            1   -.00327192   -.00327192
  ridgecv            4            1    .23066694    .23066694
  lassocv            5            1    .18769583    .18769583
  ridgecv            6            1   -.00617197   -.00617197
       rf            7            1    .52515268    .52515268
       rf            8            1    .52745611    .52745611
       rf            9            1   -.41186616   -.41186616
gradboost           10            1   -.05814488   -.05814488
gradboost           11            1    .05560918    .05560918
     nnet           12            1   -.14923347   -.14923347
     nnet           13            1    .01610263    .01610263

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1     .1915834     .1915834
    logit            2    .08831734    .08831734
  lassocv            3    .30589082    .30589082
  ridgecv            4    .02555218    .02555218
  lassocv            5   -.06803841   -.06803841
  ridgecv            6    .01713255    .01713255
       rf            7    .39790313    .39790313
       rf            8    .12471561    .12471561
       rf            9   -.27351302   -.27351302
gradboost           10     .1026537     .1026537
gradboost           11    .14546793    .14546793
     nnet           12   -1.9529832   -1.9529832
     nnet           13    .01017439    .01017439

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .1915834    .1915834 |
   2. |        2    .0883173    .0883173 |
   3. |        3    .3058908    .3058908 |
   4. |        4    .0255522    .0255522 |
   5. |        5   -.0680384   -.0680384 |
      |----------------------------------|
   6. |        6    .0171326    .0171326 |
   7. |        7    .3979031    .3979031 |
   8. |        8    .1247156    .1247156 |
      +----------------------------------+
(note: file out_232/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_232/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .17384963    .17384963
    logit            2    .05636582    .05636582
  lassocv            3    .10351229    .10351229
  ridgecv            4    .41053851    .41053851
  lassocv            5    .09411435    .09411435
  ridgecv            6   -.45104066   -.45104066
       rf            7    .38233636    .38233636
       rf            8    .11281776    .11281776
       rf            9   -.22025456   -.22025456
gradboost           10    .08710843    .08710843
gradboost           11    .23102307    .23102307
     nnet           12    .07342353    .07342353
     nnet           13    .05925167    .05925167

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00669843    .00669843
      ols            2            0     -.095943     -.095943
  lassocv            3            0    .01958048    .01958048
  ridgecv            4            0    .50554384    .50554384
  lassocv            5            0   -.03692554   -.03692554
  ridgecv            6            0   -.09353436   -.09353436
       rf            7            0    .87269409    .87269409
       rf            8            0    -.0286954    -.0286954
       rf            9            0    -.2172001    -.2172001
gradboost           10            0     -.069883     -.069883
gradboost           11            0    .13376263    .13376263
     nnet           12            0    -.0146647    -.0146647
     nnet           13            0    .02104902    .02104902
      ols            1            1    .01269069    .01269069
      ols            2            1   -.04876634   -.04876634
  lassocv            3            1    -.2011131    -.2011131
  ridgecv            4            1    .29585757    .29585757
  lassocv            5            1    .34444907    .34444907
  ridgecv            6            1   -.05223818   -.05223818
       rf            7            1    .51741788    .51741788
       rf            8            1     .6643783     .6643783
       rf            9            1   -.46247341   -.46247341
gradboost           10            1   -.09411393   -.09411393
gradboost           11            1    .02979441    .02979441
     nnet           12            1    .03484225    .03484225
     nnet           13            1    .04458442    .04458442

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .17384963    .17384963
    logit            2    .05636582    .05636582
  lassocv            3    .10351229    .10351229
  ridgecv            4    .41053851    .41053851
  lassocv            5    .09411435    .09411435
  ridgecv            6   -.45104066   -.45104066
       rf            7    .38233636    .38233636
       rf            8    .11281776    .11281776
       rf            9   -.22025456   -.22025456
gradboost           10    .08710843    .08710843
gradboost           11    .23102307    .23102307
     nnet           12    .07342353    .07342353
     nnet           13    .05925167    .05925167

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00669843    .00669843
      ols            2            0     -.095943     -.095943
  lassocv            3            0    .01958048    .01958048
  ridgecv            4            0    .50554384    .50554384
  lassocv            5            0   -.03692554   -.03692554
  ridgecv            6            0   -.09353436   -.09353436
       rf            7            0    .87269409    .87269409
       rf            8            0    -.0286954    -.0286954
       rf            9            0    -.2172001    -.2172001
gradboost           10            0     -.069883     -.069883
gradboost           11            0    .13376263    .13376263
     nnet           12            0    -.0146647    -.0146647
     nnet           13            0    .02104902    .02104902
      ols            1            1    .01269069    .01269069
      ols            2            1   -.04876634   -.04876634
  lassocv            3            1    -.2011131    -.2011131
  ridgecv            4            1    .29585757    .29585757
  lassocv            5            1    .34444907    .34444907
  ridgecv            6            1   -.05223818   -.05223818
       rf            7            1    .51741788    .51741788
       rf            8            1     .6643783     .6643783
       rf            9            1   -.46247341   -.46247341
gradboost           10            1   -.09411393   -.09411393
gradboost           11            1    .02979441    .02979441
     nnet           12            1    .03484225    .03484225
     nnet           13            1    .04458442    .04458442

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00669843    .00669843
      ols            2            0     -.095943     -.095943
  lassocv            3            0    .01958048    .01958048
  ridgecv            4            0    .50554384    .50554384
  lassocv            5            0   -.03692554   -.03692554
  ridgecv            6            0   -.09353436   -.09353436
       rf            7            0    .87269409    .87269409
       rf            8            0    -.0286954    -.0286954
       rf            9            0    -.2172001    -.2172001
gradboost           10            0     -.069883     -.069883
gradboost           11            0    .13376263    .13376263
     nnet           12            0    -.0146647    -.0146647
     nnet           13            0    .02104902    .02104902
      ols            1            1    .01269069    .01269069
      ols            2            1   -.04876634   -.04876634
  lassocv            3            1    -.2011131    -.2011131
  ridgecv            4            1    .29585757    .29585757
  lassocv            5            1    .34444907    .34444907
  ridgecv            6            1   -.05223818   -.05223818
       rf            7            1    .51741788    .51741788
       rf            8            1     .6643783     .6643783
       rf            9            1   -.46247341   -.46247341
gradboost           10            1   -.09411393   -.09411393
gradboost           11            1    .02979441    .02979441
     nnet           12            1    .03484225    .03484225
     nnet           13            1    .04458442    .04458442

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7185606   2.7031354          1          0    .0066984    .0066984 |
   2. | 3.2320821   3.2522808          2          0    -.095943    -.095943 |
   3. | 3.0478257   2.8909748          3          0    .0195805    .0195805 |
   4. | 2.7135913   2.5243667          4          0    .5055438    .5055438 |
   5. | 3.4321861   3.0996314          5          0   -.0369255   -.0369255 |
      |---------------------------------------------------------------------|
   6. | 2.7934888   2.7016787          6          0   -.0935344   -.0935344 |
   7. | 2.6281836   2.7112114          7          0    .8726941    .8726941 |
   8. | 2.8402559   2.7582604          8          0   -.0286954   -.0286954 |
      +---------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ss_ols_short_ia.dta not found)
file out_232/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .17384963    .17384963
    logit            2    .05636582    .05636582
  lassocv            3    .10351229    .10351229
  ridgecv            4    .41053851    .41053851
  lassocv            5    .09411435    .09411435
  ridgecv            6   -.45104066   -.45104066
       rf            7    .38233636    .38233636
       rf            8    .11281776    .11281776
       rf            9   -.22025456   -.22025456
gradboost           10    .08710843    .08710843
gradboost           11    .23102307    .23102307
     nnet           12    .07342353    .07342353
     nnet           13    .05925167    .05925167

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .00669843    .00669843
      ols            2            0     -.095943     -.095943
  lassocv            3            0    .01958048    .01958048
  ridgecv            4            0    .50554384    .50554384
  lassocv            5            0   -.03692554   -.03692554
  ridgecv            6            0   -.09353436   -.09353436
       rf            7            0    .87269409    .87269409
       rf            8            0    -.0286954    -.0286954
       rf            9            0    -.2172001    -.2172001
gradboost           10            0     -.069883     -.069883
gradboost           11            0    .13376263    .13376263
     nnet           12            0    -.0146647    -.0146647
     nnet           13            0    .02104902    .02104902
      ols            1            1    .01269069    .01269069
      ols            2            1   -.04876634   -.04876634
  lassocv            3            1    -.2011131    -.2011131
  ridgecv            4            1    .29585757    .29585757
  lassocv            5            1    .34444907    .34444907
  ridgecv            6            1   -.05223818   -.05223818
       rf            7            1    .51741788    .51741788
       rf            8            1     .6643783     .6643783
       rf            9            1   -.46247341   -.46247341
gradboost           10            1   -.09411393   -.09411393
gradboost           11            1    .02979441    .02979441
     nnet           12            1    .03484225    .03484225
     nnet           13            1    .04458442    .04458442

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .17384963    .17384963
    logit            2    .05636582    .05636582
  lassocv            3    .10351229    .10351229
  ridgecv            4    .41053851    .41053851
  lassocv            5    .09411435    .09411435
  ridgecv            6   -.45104066   -.45104066
       rf            7    .38233636    .38233636
       rf            8    .11281776    .11281776
       rf            9   -.22025456   -.22025456
gradboost           10    .08710843    .08710843
gradboost           11    .23102307    .23102307
     nnet           12    .07342353    .07342353
     nnet           13    .05925167    .05925167

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .83775296          1    .1738496    .1738496 |
   2. | .43399812          2    .0563658    .0563658 |
   3. | .13136113          3    .1035123    .1035123 |
   4. |  .2239115          4    .4105385    .4105385 |
   5. |  .5186263          5    .0941143    .0941143 |
      |----------------------------------------------|
   6. | .93159555          6   -.4510407   -.4510407 |
   7. | .89745297          7    .3823363    .3823363 |
   8. | .93860591          8    .1128178    .1128178 |
      +----------------------------------------------+
(note: file out_232/D_gender_r_ss_ols_short_ia.dta not found)
file out_232/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19935424    .19935424
    logit            2    .08908542    .08908542
  lassocv            3    .18072059    .18072059
  ridgecv            4    .10285548    .10285548
  lassocv            5     .0161907     .0161907
  ridgecv            6   -.03330583   -.03330583
       rf            7    .40258471    .40258471
       rf            8    .12225284    .12225284
       rf            9   -.26844698   -.26844698
gradboost           10     .1040633     .1040633
gradboost           11    .14706554    .14706554
     nnet           12   -.00310541   -.00310541
     nnet           13    .00834444    .00834444

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01257426    .01257426
      ols            2            0   -.06041506   -.06041506
  lassocv            3            0    .05880598    .05880598
  ridgecv            4            0    .46510118    .46510118
  lassocv            5            0   -.08055725   -.08055725
  ridgecv            6            0   -.05093994   -.05093994
       rf            7            0     .7057117     .7057117
       rf            8            0   -.05543082   -.05543082
       rf            9            0   -.05368163   -.05368163
gradboost           10            0    .03439572    .03439572
gradboost           11            0    .09908414    .09908414
     nnet           12            0   -.00124302   -.00124302
     nnet           13            0     .0006848     .0006848
      ols            1            1    .00702476    .00702476
      ols            2            1   -.02227999   -.02227999
  lassocv            3            1    .08125231    .08125231
  ridgecv            4            1    .27820869    .27820869
  lassocv            5            1    .07566864    .07566864
  ridgecv            6            1   -.03306887   -.03306887
       rf            7            1    .53850022    .53850022
       rf            8            1    .53108522    .53108522
       rf            9            1   -.40811394   -.40811394
gradboost           10            1   -.05314465   -.05314465
gradboost           11            1    .05220584    .05220584
     nnet           12            1    .00126664    .00126664
     nnet           13            1    .02225883    .02225883

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19935424    .19935424
    logit            2    .08908542    .08908542
  lassocv            3    .18072059    .18072059
  ridgecv            4    .10285548    .10285548
  lassocv            5     .0161907     .0161907
  ridgecv            6   -.03330583   -.03330583
       rf            7    .40258471    .40258471
       rf            8    .12225284    .12225284
       rf            9   -.26844698   -.26844698
gradboost           10     .1040633     .1040633
gradboost           11    .14706554    .14706554
     nnet           12   -.00310541   -.00310541
     nnet           13    .00834444    .00834444

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01257426    .01257426
      ols            2            0   -.06041506   -.06041506
  lassocv            3            0    .05880598    .05880598
  ridgecv            4            0    .46510118    .46510118
  lassocv            5            0   -.08055725   -.08055725
  ridgecv            6            0   -.05093994   -.05093994
       rf            7            0     .7057117     .7057117
       rf            8            0   -.05543082   -.05543082
       rf            9            0   -.05368163   -.05368163
gradboost           10            0    .03439572    .03439572
gradboost           11            0    .09908414    .09908414
     nnet           12            0   -.00124302   -.00124302
     nnet           13            0     .0006848     .0006848
      ols            1            1    .00702476    .00702476
      ols            2            1   -.02227999   -.02227999
  lassocv            3            1    .08125231    .08125231
  ridgecv            4            1    .27820869    .27820869
  lassocv            5            1    .07566864    .07566864
  ridgecv            6            1   -.03306887   -.03306887
       rf            7            1    .53850022    .53850022
       rf            8            1    .53108522    .53108522
       rf            9            1   -.40811394   -.40811394
gradboost           10            1   -.05314465   -.05314465
gradboost           11            1    .05220584    .05220584
     nnet           12            1    .00126664    .00126664
     nnet           13            1    .02225883    .02225883

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01257426    .01257426
      ols            2            0   -.06041506   -.06041506
  lassocv            3            0    .05880598    .05880598
  ridgecv            4            0    .46510118    .46510118
  lassocv            5            0   -.08055725   -.08055725
  ridgecv            6            0   -.05093994   -.05093994
       rf            7            0     .7057117     .7057117
       rf            8            0   -.05543082   -.05543082
       rf            9            0   -.05368163   -.05368163
gradboost           10            0    .03439572    .03439572
gradboost           11            0    .09908414    .09908414
     nnet           12            0   -.00124302   -.00124302
     nnet           13            0     .0006848     .0006848
      ols            1            1    .00702476    .00702476
      ols            2            1   -.02227999   -.02227999
  lassocv            3            1    .08125231    .08125231
  ridgecv            4            1    .27820869    .27820869
  lassocv            5            1    .07566864    .07566864
  ridgecv            6            1   -.03306887   -.03306887
       rf            7            1    .53850022    .53850022
       rf            8            1    .53108522    .53108522
       rf            9            1   -.40811394   -.40811394
gradboost           10            1   -.05314465   -.05314465
gradboost           11            1    .05220584    .05220584
     nnet           12            1    .00126664    .00126664
     nnet           13            1    .02225883    .02225883

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.6877565    2.923756          1          0    .0125743    .0125743 |
   2. | 3.2042424   3.4634016          2          0   -.0604151   -.0604151 |
   3. | 3.0187945    3.078362          3          0     .058806     .058806 |
   4. |  2.653598    2.716931          4          0    .4651012    .4651012 |
   5. |  3.396933   3.3393912          5          0   -.0805572   -.0805572 |
      |---------------------------------------------------------------------|
   6. |  2.746833   2.9072781          6          0   -.0509399   -.0509399 |
   7. | 2.5947855   2.8906531          7          0    .7057117    .7057117 |
   8. | 2.8146535   2.9496281          8          0   -.0554308   -.0554308 |
      +---------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_232/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .19935424    .19935424
    logit            2    .08908542    .08908542
  lassocv            3    .18072059    .18072059
  ridgecv            4    .10285548    .10285548
  lassocv            5     .0161907     .0161907
  ridgecv            6   -.03330583   -.03330583
       rf            7    .40258471    .40258471
       rf            8    .12225284    .12225284
       rf            9   -.26844698   -.26844698
gradboost           10     .1040633     .1040633
gradboost           11    .14706554    .14706554
     nnet           12   -.00310541   -.00310541
     nnet           13    .00834444    .00834444

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01257426    .01257426
      ols            2            0   -.06041506   -.06041506
  lassocv            3            0    .05880598    .05880598
  ridgecv            4            0    .46510118    .46510118
  lassocv            5            0   -.08055725   -.08055725
  ridgecv            6            0   -.05093994   -.05093994
       rf            7            0     .7057117     .7057117
       rf            8            0   -.05543082   -.05543082
       rf            9            0   -.05368163   -.05368163
gradboost           10            0    .03439572    .03439572
gradboost           11            0    .09908414    .09908414
     nnet           12            0   -.00124302   -.00124302
     nnet           13            0     .0006848     .0006848
      ols            1            1    .00702476    .00702476
      ols            2            1   -.02227999   -.02227999
  lassocv            3            1    .08125231    .08125231
  ridgecv            4            1    .27820869    .27820869
  lassocv            5            1    .07566864    .07566864
  ridgecv            6            1   -.03306887   -.03306887
       rf            7            1    .53850022    .53850022
       rf            8            1    .53108522    .53108522
       rf            9            1   -.40811394   -.40811394
gradboost           10            1   -.05314465   -.05314465
gradboost           11            1    .05220584    .05220584
     nnet           12            1    .00126664    .00126664
     nnet           13            1    .02225883    .02225883

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .19935424    .19935424
    logit            2    .08908542    .08908542
  lassocv            3    .18072059    .18072059
  ridgecv            4    .10285548    .10285548
  lassocv            5     .0161907     .0161907
  ridgecv            6   -.03330583   -.03330583
       rf            7    .40258471    .40258471
       rf            8    .12225284    .12225284
       rf            9   -.26844698   -.26844698
gradboost           10     .1040633     .1040633
gradboost           11    .14706554    .14706554
     nnet           12   -.00310541   -.00310541
     nnet           13    .00834444    .00834444

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .80958053          1    .1993542    .1993542 |
   2. | .42476851          2    .0890854    .0890854 |
   3. |  .1002232          3    .1807206    .1807206 |
   4. | .19288068          4    .1028555    .1028555 |
   5. | .50576267          5    .0161907    .0161907 |
      |----------------------------------------------|
   6. | .92343336          6   -.0333058   -.0333058 |
   7. | .88001603          7    .4025847    .4025847 |
   8. | .90024634          8    .1222528    .1222528 |
      +----------------------------------------------+
(note: file out_232/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_232/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.097    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.097    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.097    (0.017)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0971276   .0165329    -5.87   0.000    -.1295316   -.0647237
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.097    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.097    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.097    (0.017)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0971276   .0165329    -5.87   0.000    -.1295316   -.0647237
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.097    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.097    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.097    (0.017)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0971276   .0165329    -5.87   0.000    -.1295316   -.0647237
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.097    (0.017)
  ss  1  [shortstack]          [ss]          [ss]    -0.097    (0.017)
  ps  1   [poolstack]          [ps]          [ps]    -0.097    (0.017)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0971276   .0165329    -5.87   0.000    -.1295316   -.0647237
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_232/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_232/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_232/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_232/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_232/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5926732   2.7602942          1          0   .0769231   .0769231 |
   2. | 3.0410489   3.2046252          2          0   .0769231   .0769231 |
   3. | 2.7122774   2.8170781          3          0   .0769231   .0769231 |
   4. | 2.4994349    2.565498          4          0   .0769231   .0769231 |
   5. | 3.1085125   3.1194705          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6028828   2.7260173          6          0   .0769231   .0769231 |
   7. | 2.4176068   2.6597746          7          0   .0769231   .0769231 |
   8. | 2.6587493   2.7948979          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ss_avg_short_ia.dta not found)
file out_232/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .73654154          1   .0769231   .0769231 |
   2. | .41832373          2   .0769231   .0769231 |
   3. | .17747884          3   .0769231   .0769231 |
   4. | .32175668          4   .0769231   .0769231 |
   5. | .51979371          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .78713788          6   .0769231   .0769231 |
   7. | .78779067          7   .0769231   .0769231 |
   8. | .80060378          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ss_avg_short_ia.dta not found)
file out_232/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5926732   2.7602942          1          0   .0769231   .0769231 |
   2. | 3.0410489   3.2046252          2          0   .0769231   .0769231 |
   3. | 2.7122774   2.8170781          3          0   .0769231   .0769231 |
   4. | 2.4994349    2.565498          4          0   .0769231   .0769231 |
   5. | 3.1085125   3.1194705          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6028828   2.7260173          6          0   .0769231   .0769231 |
   7. | 2.4176068   2.6597746          7          0   .0769231   .0769231 |
   8. | 2.6587493   2.7948979          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_232/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_232/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .73654154          1   .0769231   .0769231 |
   2. | .41832373          2   .0769231   .0769231 |
   3. | .17747884          3   .0769231   .0769231 |
   4. | .32175668          4   .0769231   .0769231 |
   5. | .51979371          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .78713788          6   .0769231   .0769231 |
   7. | .78779067          7   .0769231   .0769231 |
   8. | .80060378          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_232/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_232/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1322707   .0825814    -1.60   0.109    -.2941273     .029586
------------------------------------------------------------------------------
Warning: 151 propensity scores trimmed to lower limit ..
Warning: 49 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1188567   .0165693    -7.17   0.000    -.1513318   -.0863815
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0848081   .0283594    -2.99   0.003    -.1403914   -.0292247
------------------------------------------------------------------------------
Warning: 78 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0835447   .0695443    -1.20   0.230    -.2198491    .0527597
------------------------------------------------------------------------------
Warning: 92 propensity scores trimmed to lower limit ..
Warning: 27 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0220097   .0734477    -0.30   0.764    -.1659645    .1219451
------------------------------------------------------------------------------
Warning: 121 propensity scores trimmed to lower limit ..
Warning: 30 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1749955   .1741429    -1.00   0.315    -.5163092    .1663183
------------------------------------------------------------------------------
Warning: 67 propensity scores trimmed to lower limit ..
Warning: 16 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0761292   .0245977    -3.09   0.002    -.1243397   -.0279187
------------------------------------------------------------------------------
Warning: 3 propensity scores trimmed to lower limit ..
Warning: 2 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1053935   .0155561    -6.78   0.000    -.1358828   -.0749042
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1097043   .0148632    -7.38   0.000    -.1388356   -.0805731
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0738322   .0185336    -3.98   0.000    -.1101574    -.037507
------------------------------------------------------------------------------
Warning: 2 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0310226    .049019    -0.63   0.527    -.1270982    .0650529
------------------------------------------------------------------------------
Warning: 92 propensity scores trimmed to lower limit ..
Warning: 22 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1053254   .0155978    -6.75   0.000    -.1358966   -.0747543
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0105379   .3110696    -0.03   0.973     -.620223    .5991472
------------------------------------------------------------------------------
Warning: 180 propensity scores trimmed to lower limit ..
Warning: 110 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_232/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.083    (0.020)
  ss  1  [shortstack]          [ss]          [ss]    -0.082    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.082    (0.020)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0816578   .0211302    -3.86   0.000    -.1230722   -.0402434
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 6 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_36931/inter_mse.dta not found)
file out_36931/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.150       0.164       0.159       0.159
>        0.150       0.153       0.146       0.159       0.172       0.147  
   D_gender_r_ps   1      0.155       0.149       0.164       0.158       0.159
>        0.150       0.153       0.145       0.159       0.171       0.146  
   D_gender_r_ss   1      0.155       0.148       0.163       0.157       0.160
>        0.150       0.153       0.145       0.158       0.170       0.147  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.228       0.259       0.127       0.149       0.
> 209       0.207       0.213       0.213       0.229       0.529       0.181  
    Y1_pystacked 1    1      0.173       0.251       0.143       0.133       0.
> 129       0.117       0.224       0.159       0.265       0.166       0.140  
     Y_lnearn_ps 0    1      8.295       8.389       8.192       8.221       8.
> 438       8.379       8.140       8.177       8.218       8.415       8.380  
     Y_lnearn_ps 1    1      7.488       7.616       7.350       7.459       7.
> 434       7.609       7.501       7.473       7.433       7.740       7.251  
     Y_lnearn_ss 0    1      0.226       0.258       0.127       0.149       0.
> 203       0.203       0.212       0.211       0.228       0.518       0.181  
     Y_lnearn_ss 1    1      0.173       0.250       0.144       0.133       0.
> 131       0.118       0.225       0.157       0.263       0.166       0.140  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1    .15586966    .15009365    .16382631    .15895295
D_gender_r~s            1     .1552985    .14907344    .16365312    .15815815
D_gender_r~s            1    .15511294    .14828962    .16258859    .15732023

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15935647     .1502615    .15285671    .14569902    .15860847
D_gender_r~s    .15877791    .14995798    .15283397    .14462919    .15858194
D_gender_r~s    .16021958    .15006335    .15275954    .14480355    .15834907

                    fold9       fold10
D1_pystacked     .1720569    .14697847
D_gender_r~s    .17093875    .14637532
D_gender_r~s    .17008645     .1466417
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1558697 | .1500937 | .1638263 |  .158953 | .1593565 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1502615 | .1528567 |  .145699 | .1586085 | .1720569 | .1469785 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1552985 | .1490734 | .1636531 | .1581582 | .1587779 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |  .149958 |  .152834 | .1446292 | .1585819 | .1709388 | .1463753 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1551129 | .1482896 | .1625886 | .1573202 | .1602196 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1500634 | .1527595 | .1448035 | .1583491 | .1700865 | .1466417 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_36931/gender_r_mse_inter_gender_mse.dta not found)
file out_36931/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.156       0.150       0.164       0.159       0.159
>        0.150       0.153       0.146       0.159       0.172       0.147  
   D_gender_r_ps   1      0.155       0.149       0.164       0.158       0.159
>        0.150       0.153       0.145       0.159       0.171       0.146  
   D_gender_r_ss   1      0.155       0.148       0.163       0.157       0.160
>        0.150       0.153       0.145       0.158       0.170       0.147  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.228       0.259       0.127       0.149       0.
> 209       0.207       0.213       0.213       0.229       0.529       0.181  
    Y1_pystacked 1    1      0.173       0.251       0.143       0.133       0.
> 129       0.117       0.224       0.159       0.265       0.166       0.140  
     Y_lnearn_ps 0    1      8.295       8.389       8.192       8.221       8.
> 438       8.379       8.140       8.177       8.218       8.415       8.380  
     Y_lnearn_ps 1    1      7.488       7.616       7.350       7.459       7.
> 434       7.609       7.501       7.473       7.433       7.740       7.251  
     Y_lnearn_ss 0    1      0.226       0.258       0.127       0.149       0.
> 203       0.203       0.212       0.211       0.228       0.518       0.181  
     Y_lnearn_ss 1    1      0.173       0.250       0.144       0.133       0.
> 131       0.118       0.225       0.157       0.263       0.166       0.140  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .22833546    .25941097    .12672383
Y1_pystacked            1            1    .17281184    .25117267    .14319661
 Y_lnearn_ps            0            1    8.2950715     8.389068    8.1918421
 Y_lnearn_ps            1            1    7.4884987    7.6161909    7.3500012
 Y_lnearn_ss            0            1    .22581501    .25842895    .12722095
 Y_lnearn_ss            1            1    .17287586    .24960841    .14364642

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .14896208    .20928344    .20692221    .21254047    .21320282
Y1_pystacked     .1331836    .12854516     .1170498    .22368578    .15872918
 Y_lnearn_ps    8.2211988    8.4384564    8.3792719    8.1404903    8.1766001
 Y_lnearn_ps    7.4593253    7.4341424    7.6091272    7.5009601    7.4728487
 Y_lnearn_ss    .14852349    .20346232    .20314005    .21193848    .21142789
 Y_lnearn_ss    .13331451    .13127831    .11810604     .2246163    .15686328

                    fold8        fold9       fold10
Y1_pystacked    .22948509    .52936009    .18141882
Y1_pystacked    .26459358     .1658958    .14005173
 Y_lnearn_ps    8.2184267    8.4148677    8.3803018
 Y_lnearn_ps    7.4328579    7.7400952    7.2511536
 Y_lnearn_ss    .22780162    .51799557    .18144104
 Y_lnearn_ss    .26317152    .16627682    .13988781
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2283355 |  .259411 | .1267238 | .1489621 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .2092834 | .2069222 | .2125405 | .2132028 | .2294851 | .5293601 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1814188     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1728119 | .2511727 | .1431966 | .1331836 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1285452 | .1170498 | .2236858 | .1587292 | .2645936 | .1658958 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1400517     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.295072 | 8.389068 | 8.191842 | 8.221199 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.438457 | 8.379272 | 8.140491 |   8.1766 | 8.218427 | 8.414867 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.380301     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | 7.488499 | 7.616191 | 7.350001 | 7.459325 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.434143 | 7.609127 |  7.50096 | 7.472849 | 7.432858 | 7.740095 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     7.251153     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 |  .225815 |  .258429 | .1272209 | .1485235 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .2034623 | .2031401 | .2119385 | .2114279 | .2278016 | .5179956 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      .181441     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1728759 | .2496084 | .1436464 | .1333145 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1312783 |  .118106 | .2246163 | .1568633 | .2631715 | .1662768 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1398878     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_36931/lnearn_mse_inter_lnearn_mse.dta not found)
file out_36931/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.083    (0.020)
  ss  1  [shortstack]          [ss]          [ss]    -0.082    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.082    (0.020)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0816578   .0211302    -3.86   0.000    -.1230722   -.0402434
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 6 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.083    (0.020)
  ss  1  [shortstack]          [ss]          [ss]    -0.082    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.082    (0.020)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0831335   .0198362    -4.19   0.000    -.1220117   -.0442552
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 5 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.082    (0.021)
  ss  1  [shortstack]          [ss]          [ss]    -0.082    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.082    (0.020)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0816578   .0211302    -3.86   0.000    -.1230722   -.0402434
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 6 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.082    (0.020)
  ss  1  [shortstack]          [ss]          [ss]    -0.082    (0.021)
  ps  1   [poolstack]          [ps]          [ps]    -0.082    (0.020)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0818102   .0204262    -4.01   0.000    -.1218447   -.0417756
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 5 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25102884    .25102884
    logit            2    2.974e-17    2.974e-17
  lassocv            3    .10792724    .10792724
  ridgecv            4    .09044566    .09044566
  lassocv            5    .01275596    .01275596
  ridgecv            6    1.511e-17    1.511e-17
       rf            7    .27079005    .27079005
       rf            8    4.644e-17    4.644e-17
       rf            9    6.490e-17    6.490e-17
gradboost           10    .04769686    .04769686
gradboost           11    .19049989    .19049989
     nnet           12    3.562e-17    3.562e-17
     nnet           13     .0288555     .0288555

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01283412    .01283412
      ols            2            0    .00250399    .00250399
  lassocv            3            0    .08753844    .08753844
  ridgecv            4            0    .20707756    .20707756
  lassocv            5            0    .03368459    .03368459
  ridgecv            6            0    .02034888    .02034888
       rf            7            0    .42374647    .42374647
       rf            8            0    6.817e-17    6.817e-17
       rf            9            0    8.655e-17    8.655e-17
gradboost           10            0    .02064205    .02064205
gradboost           11            0    .17191636    .17191636
     nnet           12            0    .01174934    .01174934
     nnet           13            0    .00795821    .00795821
      ols            1            1    .01731232    .01731232
      ols            2            1    .00026868    .00026868
  lassocv            3            1    .21599121    .21599121
  ridgecv            4            1      .017393      .017393
  lassocv            5            1    .07812159    .07812159
  ridgecv            6            1    .04842016    .04842016
       rf            7            1    .52176981    .52176981
       rf            8            1    3.934e-17    3.934e-17
       rf            9            1    6.947e-17    6.947e-17
gradboost           10            1    .00407053    .00407053
gradboost           11            1    .06690253    .06690253
     nnet           12            1    .01748081    .01748081
     nnet           13            1    .01226936    .01226936

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25102884    .25102884
    logit            2    2.974e-17    2.974e-17
  lassocv            3    .10792724    .10792724
  ridgecv            4    .09044566    .09044566
  lassocv            5    .01275596    .01275596
  ridgecv            6    1.511e-17    1.511e-17
       rf            7    .27079005    .27079005
       rf            8    4.644e-17    4.644e-17
       rf            9    6.490e-17    6.490e-17
gradboost           10    .04769686    .04769686
gradboost           11    .19049989    .19049989
     nnet           12    3.562e-17    3.562e-17
     nnet           13     .0288555     .0288555

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01283412    .01283412
      ols            2            0    .00250399    .00250399
  lassocv            3            0    .08753844    .08753844
  ridgecv            4            0    .20707756    .20707756
  lassocv            5            0    .03368459    .03368459
  ridgecv            6            0    .02034888    .02034888
       rf            7            0    .42374647    .42374647
       rf            8            0    6.817e-17    6.817e-17
       rf            9            0    8.655e-17    8.655e-17
gradboost           10            0    .02064205    .02064205
gradboost           11            0    .17191636    .17191636
     nnet           12            0    .01174934    .01174934
     nnet           13            0    .00795821    .00795821
      ols            1            1    .01731232    .01731232
      ols            2            1    .00026868    .00026868
  lassocv            3            1    .21599121    .21599121
  ridgecv            4            1      .017393      .017393
  lassocv            5            1    .07812159    .07812159
  ridgecv            6            1    .04842016    .04842016
       rf            7            1    .52176981    .52176981
       rf            8            1    3.934e-17    3.934e-17
       rf            9            1    6.947e-17    6.947e-17
gradboost           10            1    .00407053    .00407053
gradboost           11            1    .06690253    .06690253
     nnet           12            1    .01748081    .01748081
     nnet           13            1    .01226936    .01226936

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01283412    .01283412
      ols            2            0    .00250399    .00250399
  lassocv            3            0    .08753844    .08753844
  ridgecv            4            0    .20707756    .20707756
  lassocv            5            0    .03368459    .03368459
  ridgecv            6            0    .02034888    .02034888
       rf            7            0    .42374647    .42374647
       rf            8            0    6.817e-17    6.817e-17
       rf            9            0    8.655e-17    8.655e-17
gradboost           10            0    .02064205    .02064205
gradboost           11            0    .17191636    .17191636
     nnet           12            0    .01174934    .01174934
     nnet           13            0    .00795821    .00795821
      ols            1            1    .01731232    .01731232
      ols            2            1    .00026868    .00026868
  lassocv            3            1    .21599121    .21599121
  ridgecv            4            1      .017393      .017393
  lassocv            5            1    .07812159    .07812159
  ridgecv            6            1    .04842016    .04842016
       rf            7            1    .52176981    .52176981
       rf            8            1    3.934e-17    3.934e-17
       rf            9            1    6.947e-17    6.947e-17
gradboost           10            1    .00407053    .00407053
gradboost           11            1    .06690253    .06690253
     nnet           12            1    .01748081    .01748081
     nnet           13            1    .01226936    .01226936

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0128341   .0128341 |
   2. |        2          0    .002504    .002504 |
   3. |        3          0   .0875384   .0875384 |
   4. |        4          0   .2070776   .2070776 |
   5. |        5          0   .0336846   .0336846 |
      |-------------------------------------------|
   6. |        6          0   .0203489   .0203489 |
   7. |        7          0   .4237465   .4237465 |
   8. |        8          0   6.82e-17   6.82e-17 |
      +-------------------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_36931/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25102884    .25102884
    logit            2    2.974e-17    2.974e-17
  lassocv            3    .10792724    .10792724
  ridgecv            4    .09044566    .09044566
  lassocv            5    .01275596    .01275596
  ridgecv            6    1.511e-17    1.511e-17
       rf            7    .27079005    .27079005
       rf            8    4.644e-17    4.644e-17
       rf            9    6.490e-17    6.490e-17
gradboost           10    .04769686    .04769686
gradboost           11    .19049989    .19049989
     nnet           12    3.562e-17    3.562e-17
     nnet           13     .0288555     .0288555

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01283412    .01283412
      ols            2            0    .00250399    .00250399
  lassocv            3            0    .08753844    .08753844
  ridgecv            4            0    .20707756    .20707756
  lassocv            5            0    .03368459    .03368459
  ridgecv            6            0    .02034888    .02034888
       rf            7            0    .42374647    .42374647
       rf            8            0    6.817e-17    6.817e-17
       rf            9            0    8.655e-17    8.655e-17
gradboost           10            0    .02064205    .02064205
gradboost           11            0    .17191636    .17191636
     nnet           12            0    .01174934    .01174934
     nnet           13            0    .00795821    .00795821
      ols            1            1    .01731232    .01731232
      ols            2            1    .00026868    .00026868
  lassocv            3            1    .21599121    .21599121
  ridgecv            4            1      .017393      .017393
  lassocv            5            1    .07812159    .07812159
  ridgecv            6            1    .04842016    .04842016
       rf            7            1    .52176981    .52176981
       rf            8            1    3.934e-17    3.934e-17
       rf            9            1    6.947e-17    6.947e-17
gradboost           10            1    .00407053    .00407053
gradboost           11            1    .06690253    .06690253
     nnet           12            1    .01748081    .01748081
     nnet           13            1    .01226936    .01226936

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .25102884    .25102884
    logit            2    2.974e-17    2.974e-17
  lassocv            3    .10792724    .10792724
  ridgecv            4    .09044566    .09044566
  lassocv            5    .01275596    .01275596
  ridgecv            6    1.511e-17    1.511e-17
       rf            7    .27079005    .27079005
       rf            8    4.644e-17    4.644e-17
       rf            9    6.490e-17    6.490e-17
gradboost           10    .04769686    .04769686
gradboost           11    .19049989    .19049989
     nnet           12    3.562e-17    3.562e-17
     nnet           13     .0288555     .0288555

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2510288   .2510288 |
   2. |        2   2.97e-17   2.97e-17 |
   3. |        3   .1079272   .1079272 |
   4. |        4   .0904457   .0904457 |
   5. |        5    .012756    .012756 |
      |--------------------------------|
   6. |        6   1.51e-17   1.51e-17 |
   7. |        7     .27079     .27079 |
   8. |        8   4.64e-17   4.64e-17 |
      +--------------------------------+
(note: file out_36931/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_36931/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24905084    .24905084
    logit            2    2.282e-16    2.282e-16
  lassocv            3            0            0
  ridgecv            4    .12590257    .12590257
  lassocv            5    5.308e-17    5.308e-17
  ridgecv            6    .01622866    .01622866
       rf            7    .32841215    .32841215
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .28040578    .28040578
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03617654    .03617654
      ols            2            0            0            0
  lassocv            3            0    1.407e-16    1.407e-16
  ridgecv            4            0    .21911964    .21911964
  lassocv            5            0    .03828602    .03828602
  ridgecv            6            0    5.183e-17    5.183e-17
       rf            7            0     .5097337     .5097337
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0    .05368106    .05368106
gradboost           11            0    .12863024    .12863024
     nnet           12            0    2.195e-16    2.195e-16
     nnet           13            0    .01437281    .01437281
      ols            1            1    .00902068    .00902068
      ols            2            1            0            0
  lassocv            3            1    .06296104    .06296104
  ridgecv            4            1    .01698307    .01698307
  lassocv            5            1    .29929136    .29929136
  ridgecv            6            1    .01732436    .01732436
       rf            7            1    .53553513    .53553513
       rf            8            1    5.950e-17    5.950e-17
       rf            9            1            0            0
gradboost           10            1    6.958e-18    6.958e-18
gradboost           11            1    .05452347    .05452347
     nnet           12            1            0            0
     nnet           13            1     .0043609     .0043609

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24905084    .24905084
    logit            2    2.282e-16    2.282e-16
  lassocv            3            0            0
  ridgecv            4    .12590257    .12590257
  lassocv            5    5.308e-17    5.308e-17
  ridgecv            6    .01622866    .01622866
       rf            7    .32841215    .32841215
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .28040578    .28040578
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03617654    .03617654
      ols            2            0            0            0
  lassocv            3            0    1.407e-16    1.407e-16
  ridgecv            4            0    .21911964    .21911964
  lassocv            5            0    .03828602    .03828602
  ridgecv            6            0    5.183e-17    5.183e-17
       rf            7            0     .5097337     .5097337
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0    .05368106    .05368106
gradboost           11            0    .12863024    .12863024
     nnet           12            0    2.195e-16    2.195e-16
     nnet           13            0    .01437281    .01437281
      ols            1            1    .00902068    .00902068
      ols            2            1            0            0
  lassocv            3            1    .06296104    .06296104
  ridgecv            4            1    .01698307    .01698307
  lassocv            5            1    .29929136    .29929136
  ridgecv            6            1    .01732436    .01732436
       rf            7            1    .53553513    .53553513
       rf            8            1    5.950e-17    5.950e-17
       rf            9            1            0            0
gradboost           10            1    6.958e-18    6.958e-18
gradboost           11            1    .05452347    .05452347
     nnet           12            1            0            0
     nnet           13            1     .0043609     .0043609

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03617654    .03617654
      ols            2            0            0            0
  lassocv            3            0    1.407e-16    1.407e-16
  ridgecv            4            0    .21911964    .21911964
  lassocv            5            0    .03828602    .03828602
  ridgecv            6            0    5.183e-17    5.183e-17
       rf            7            0     .5097337     .5097337
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0    .05368106    .05368106
gradboost           11            0    .12863024    .12863024
     nnet           12            0    2.195e-16    2.195e-16
     nnet           13            0    .01437281    .01437281
      ols            1            1    .00902068    .00902068
      ols            2            1            0            0
  lassocv            3            1    .06296104    .06296104
  ridgecv            4            1    .01698307    .01698307
  lassocv            5            1    .29929136    .29929136
  ridgecv            6            1    .01732436    .01732436
       rf            7            1    .53553513    .53553513
       rf            8            1    5.950e-17    5.950e-17
       rf            9            1            0            0
gradboost           10            1    6.958e-18    6.958e-18
gradboost           11            1    .05452347    .05452347
     nnet           12            1            0            0
     nnet           13            1     .0043609     .0043609

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5115221   2.7728488          1          0   .0361765   .0361765 |
   2. | 2.9885982   3.2688595          2          0          0          0 |
   3. | 2.8136785   2.8616145          3          0   1.41e-16   1.41e-16 |
   4. |  2.477762   2.6631863          4          0   .2191196   .2191196 |
   5. |   3.13844   3.1428046          5          0    .038286    .038286 |
      |-------------------------------------------------------------------|
   6. | 2.5557955   2.7063419          6          0   5.18e-17   5.18e-17 |
   7. | 2.4376969   2.5900005          7          0   .5097337   .5097337 |
   8. | 2.6324605   2.7240949          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_36931/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24905084    .24905084
    logit            2    2.282e-16    2.282e-16
  lassocv            3            0            0
  ridgecv            4    .12590257    .12590257
  lassocv            5    5.308e-17    5.308e-17
  ridgecv            6    .01622866    .01622866
       rf            7    .32841215    .32841215
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .28040578    .28040578
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03617654    .03617654
      ols            2            0            0            0
  lassocv            3            0    1.407e-16    1.407e-16
  ridgecv            4            0    .21911964    .21911964
  lassocv            5            0    .03828602    .03828602
  ridgecv            6            0    5.183e-17    5.183e-17
       rf            7            0     .5097337     .5097337
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0    .05368106    .05368106
gradboost           11            0    .12863024    .12863024
     nnet           12            0    2.195e-16    2.195e-16
     nnet           13            0    .01437281    .01437281
      ols            1            1    .00902068    .00902068
      ols            2            1            0            0
  lassocv            3            1    .06296104    .06296104
  ridgecv            4            1    .01698307    .01698307
  lassocv            5            1    .29929136    .29929136
  ridgecv            6            1    .01732436    .01732436
       rf            7            1    .53553513    .53553513
       rf            8            1    5.950e-17    5.950e-17
       rf            9            1            0            0
gradboost           10            1    6.958e-18    6.958e-18
gradboost           11            1    .05452347    .05452347
     nnet           12            1            0            0
     nnet           13            1     .0043609     .0043609

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .24905084    .24905084
    logit            2    2.282e-16    2.282e-16
  lassocv            3            0            0
  ridgecv            4    .12590257    .12590257
  lassocv            5    5.308e-17    5.308e-17
  ridgecv            6    .01622866    .01622866
       rf            7    .32841215    .32841215
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .28040578    .28040578
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7760938          1   .2490508   .2490508 |
   2. | .38439607          2   2.28e-16   2.28e-16 |
   3. |  .0958694          3          0          0 |
   4. | .17508034          4   .1259026   .1259026 |
   5. | .58408948          5   5.31e-17   5.31e-17 |
      |--------------------------------------------|
   6. | .83857234          6   .0162287   .0162287 |
   7. | .81934059          7   .3284121   .3284121 |
   8. | .90038786          8          0          0 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_36931/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26127425    .26127425
    logit            2            0            0
  lassocv            3    .12791454    .12791454
  ridgecv            4    .09218275    .09218275
  lassocv            5    4.354e-19    4.354e-19
  ridgecv            6            0            0
       rf            7    .29360108    .29360108
       rf            8    3.100e-16    3.100e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .20810225    .20810225
     nnet           12    1.712e-16    1.712e-16
     nnet           13    .01692514    .01692514

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01007179    .01007179
      ols            2            0            0            0
  lassocv            3            0    .11560574    .11560574
  ridgecv            4            0    .23544359    .23544359
  lassocv            5            0    3.409e-16    3.409e-16
  ridgecv            6            0            0            0
       rf            7            0    .45024014    .45024014
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .18520752    .18520752
     nnet           12            0    1.150e-15    1.150e-15
     nnet           13            0    .00343122    .00343122
      ols            1            1    3.568e-16    3.568e-16
      ols            2            1    9.836e-16    9.836e-16
  lassocv            3            1    .32771656    .32771656
  ridgecv            4            1     .0208779     .0208779
  lassocv            5            1            0            0
  ridgecv            6            1    .03748737    .03748737
       rf            7            1    .52917511    .52917511
       rf            8            1    9.427e-16    9.427e-16
       rf            9            1    1.973e-15    1.973e-15
gradboost           10            1    3.411e-16    3.411e-16
gradboost           11            1    .08049548    .08049548
     nnet           12            1    2.220e-15    2.220e-15
     nnet           13            1    .00424757    .00424757

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26127425    .26127425
    logit            2            0            0
  lassocv            3    .12791454    .12791454
  ridgecv            4    .09218275    .09218275
  lassocv            5    4.354e-19    4.354e-19
  ridgecv            6            0            0
       rf            7    .29360108    .29360108
       rf            8    3.100e-16    3.100e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .20810225    .20810225
     nnet           12    1.712e-16    1.712e-16
     nnet           13    .01692514    .01692514

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01007179    .01007179
      ols            2            0            0            0
  lassocv            3            0    .11560574    .11560574
  ridgecv            4            0    .23544359    .23544359
  lassocv            5            0    3.409e-16    3.409e-16
  ridgecv            6            0            0            0
       rf            7            0    .45024014    .45024014
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .18520752    .18520752
     nnet           12            0    1.150e-15    1.150e-15
     nnet           13            0    .00343122    .00343122
      ols            1            1    3.568e-16    3.568e-16
      ols            2            1    9.836e-16    9.836e-16
  lassocv            3            1    .32771656    .32771656
  ridgecv            4            1     .0208779     .0208779
  lassocv            5            1            0            0
  ridgecv            6            1    .03748737    .03748737
       rf            7            1    .52917511    .52917511
       rf            8            1    9.427e-16    9.427e-16
       rf            9            1    1.973e-15    1.973e-15
gradboost           10            1    3.411e-16    3.411e-16
gradboost           11            1    .08049548    .08049548
     nnet           12            1    2.220e-15    2.220e-15
     nnet           13            1    .00424757    .00424757

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01007179    .01007179
      ols            2            0            0            0
  lassocv            3            0    .11560574    .11560574
  ridgecv            4            0    .23544359    .23544359
  lassocv            5            0    3.409e-16    3.409e-16
  ridgecv            6            0            0            0
       rf            7            0    .45024014    .45024014
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .18520752    .18520752
     nnet           12            0    1.150e-15    1.150e-15
     nnet           13            0    .00343122    .00343122
      ols            1            1    3.568e-16    3.568e-16
      ols            2            1    9.836e-16    9.836e-16
  lassocv            3            1    .32771656    .32771656
  ridgecv            4            1     .0208779     .0208779
  lassocv            5            1            0            0
  ridgecv            6            1    .03748737    .03748737
       rf            7            1    .52917511    .52917511
       rf            8            1    9.427e-16    9.427e-16
       rf            9            1    1.973e-15    1.973e-15
gradboost           10            1    3.411e-16    3.411e-16
gradboost           11            1    .08049548    .08049548
     nnet           12            1    2.220e-15    2.220e-15
     nnet           13            1    .00424757    .00424757

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5194991   2.7696486          1          0   .0100718   .0100718 |
   2. | 2.9873166   3.2674423          2          0          0          0 |
   3. | 2.8078863   2.8520346          3          0   .1156057   .1156057 |
   4. | 2.4739142   2.7056743          4          0   .2354436   .2354436 |
   5. | 3.1448496   3.1335255          5          0   3.41e-16   3.41e-16 |
      |-------------------------------------------------------------------|
   6. | 2.5537364   2.7224308          6          0          0          0 |
   7. | 2.3797453   2.5831855          7          0   .4502401   .4502401 |
   8. | 2.6251008   2.7105883          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_36931/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .26127425    .26127425
    logit            2            0            0
  lassocv            3    .12791454    .12791454
  ridgecv            4    .09218275    .09218275
  lassocv            5    4.354e-19    4.354e-19
  ridgecv            6            0            0
       rf            7    .29360108    .29360108
       rf            8    3.100e-16    3.100e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .20810225    .20810225
     nnet           12    1.712e-16    1.712e-16
     nnet           13    .01692514    .01692514

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01007179    .01007179
      ols            2            0            0            0
  lassocv            3            0    .11560574    .11560574
  ridgecv            4            0    .23544359    .23544359
  lassocv            5            0    3.409e-16    3.409e-16
  ridgecv            6            0            0            0
       rf            7            0    .45024014    .45024014
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .18520752    .18520752
     nnet           12            0    1.150e-15    1.150e-15
     nnet           13            0    .00343122    .00343122
      ols            1            1    3.568e-16    3.568e-16
      ols            2            1    9.836e-16    9.836e-16
  lassocv            3            1    .32771656    .32771656
  ridgecv            4            1     .0208779     .0208779
  lassocv            5            1            0            0
  ridgecv            6            1    .03748737    .03748737
       rf            7            1    .52917511    .52917511
       rf            8            1    9.427e-16    9.427e-16
       rf            9            1    1.973e-15    1.973e-15
gradboost           10            1    3.411e-16    3.411e-16
gradboost           11            1    .08049548    .08049548
     nnet           12            1    2.220e-15    2.220e-15
     nnet           13            1    .00424757    .00424757

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .26127425    .26127425
    logit            2            0            0
  lassocv            3    .12791454    .12791454
  ridgecv            4    .09218275    .09218275
  lassocv            5    4.354e-19    4.354e-19
  ridgecv            6            0            0
       rf            7    .29360108    .29360108
       rf            8    3.100e-16    3.100e-16
       rf            9            0            0
gradboost           10            0            0
gradboost           11    .20810225    .20810225
     nnet           12    1.712e-16    1.712e-16
     nnet           13    .01692514    .01692514

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76771686          1   .2612742   .2612742 |
   2. | .37791104          2          0          0 |
   3. | .09731626          3   .1279145   .1279145 |
   4. |  .1863443          4   .0921827   .0921827 |
   5. | .58316961          5   4.35e-19   4.35e-19 |
      |--------------------------------------------|
   6. | .83310623          6          0          0 |
   7. | .82316982          7   .2936011   .2936011 |
   8. | .89487505          8   3.10e-16   3.10e-16 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_36931/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.091    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.030)
  ps  1   [poolstack]          [ps]          [ps]    -0.090    (0.030)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049418   .0301744    -3.48   0.001    -.1640825    -.045801
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 70 propensity scores trimmed to lower limit .01.
Warning: 14 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.091    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.030)
  ps  1   [poolstack]          [ps]          [ps]    -0.090    (0.030)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0913359   .0293691    -3.11   0.002    -.1488982   -.0337737
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 73 propensity scores trimmed to lower limit .01.
Warning: 11 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.105    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.030)
  ps  1   [poolstack]          [ps]          [ps]    -0.090    (0.030)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049418   .0301744    -3.48   0.001    -.1640825    -.045801
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 70 propensity scores trimmed to lower limit .01.
Warning: 14 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.090    (0.030)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.030)
  ps  1   [poolstack]          [ps]          [ps]    -0.090    (0.030)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0901579   .0298966    -3.02   0.003    -.1487542   -.0315617
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 77 propensity scores trimmed to lower limit .01.
Warning: 14 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0         .1         .1 |
   4. |        4          0          0          0 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .9         .9 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_36931/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .9           .9
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1           .1           .1
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4           .1           .1
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .9         .9 |
   4. |        4         .1         .1 |
   5. |        5          0          0 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_36931/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_36931/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            1            1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            1            1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4891562   2.8241022          1          0          0          0 |
   2. | 2.8996017   3.2176948          2          0          0          0 |
   3. | 2.8763957   2.8855844          3          0          0          0 |
   4. | 2.4835749   2.5970449          4          0          0          0 |
   5. | 3.1373951   3.1692369          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5099487   2.7103558          6          0          0          0 |
   7. | 2.5142646   2.7970853          7          0          1          1 |
   8. | 2.6410685   2.7706416          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_36931/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            1            1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            0            0
  ridgecv            4            0            0
  lassocv            5            1            1
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .75975126          1          0          0 |
   2. | .34733301          2          0          0 |
   3. | .10218111          3          0          0 |
   4. | .29550895          4          0          0 |
   5. | .59031755          5          1          1 |
      |--------------------------------------------|
   6. | .80123508          6          0          0 |
   7. | .82562023          7          0          0 |
   8. | .86540079          8          0          0 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_36931/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.4891562   2.8241022          1          0          0          0 |
   2. | 2.8996017   3.2176948          2          0          0          0 |
   3. | 2.8763957   2.8855844          3          0          0          0 |
   4. | 2.4835749   2.5970449          4          0          0          0 |
   5. | 3.1373951   3.1692369          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5099487   2.7103558          6          0          0          0 |
   7. | 2.5142646   2.7970853          7          0          1          1 |
   8. | 2.6410685   2.7706416          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_36931/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. |  .7265203          1          0          0 |
   2. | .35001469          2          0          0 |
   3. | .09284976          3          1          1 |
   4. | .25637588          4          0          0 |
   5. | .56119812          5          0          0 |
      |--------------------------------------------|
   6. |  .8061896          6          0          0 |
   7. | .81662387          7          0          0 |
   8. | .84823531          8          0          0 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_36931/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     1.036    (0.133)
  ss  1  [shortstack]          [ss]          [ss]    -0.312    (0.010)
  ps  1   [poolstack]          [ps]          [ps]     0.189    (0.104)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.3115543   .0098943   -31.49   0.000    -.3309468   -.2921618
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 929 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked     1.036    (0.133)
  ss  1  [shortstack]          [ss]          [ss]    -0.312    (0.010)
  ps  1   [poolstack]          [ps]          [ps]     0.189    (0.104)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   1.035937   .1330066     7.79   0.000     .7752486    1.296625
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 3222 propensity scores trimmed to lower limit .01.
Warning: 121 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.312    (0.010)
  ss  1  [shortstack]          [ss]          [ss]    -0.312    (0.010)
  ps  1   [poolstack]          [ps]          [ps]     0.189    (0.104)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.3115543   .0098943   -31.49   0.000    -.3309468   -.2921618
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 929 propensity scores trimmed to lower limit .01.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.189    (0.104)
  ss  1  [shortstack]          [ss]          [ss]    -0.312    (0.010)
  ps  1   [poolstack]          [ps]          [ps]     0.189    (0.104)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .1890076   .1039002     1.82   0.069    -.0146331    .3926483
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 13 propensity scores trimmed to lower limit .01.
Warning: 257 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22281478    .22281478
    logit            2     .0743521     .0743521
  lassocv            3    .39200378    .39200378
  ridgecv            4    .15529831    .15529831
  lassocv            5   -.24976368   -.24976368
  ridgecv            6   -.05995034   -.05995034
       rf            7    .41000824    .41000824
       rf            8    .10905923    .10905923
       rf            9   -.22093186   -.22093186
gradboost           10     .0856803     .0856803
gradboost           11    .13284293    .13284293
     nnet           12   -2.4418376   -2.4418376
     nnet           13    .01976808    .01976808

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00169491   -.00169491
      ols            2            0   -.01602267   -.01602267
  lassocv            3            0    .01640125    .01640125
  ridgecv            4            0    .50511109    .50511109
  lassocv            5            0    -.0603972    -.0603972
  ridgecv            6            0   -.03643648   -.03643648
       rf            7            0    .67030145    .67030145
       rf            8            0   -.25152204   -.25152204
       rf            9            0    .13053938    .13053938
gradboost           10            0    .03750788    .03750788
gradboost           11            0    .11045305    .11045305
     nnet           12            0   -.25996837   -.25996837
     nnet           13            0   -.00333644   -.00333644
      ols            1            1    .00314084    .00314084
      ols            2            1   -.00907476   -.00907476
  lassocv            3            1    .11454441    .11454441
  ridgecv            4            1    .23941752    .23941752
  lassocv            5            1    .13683377    .13683377
  ridgecv            6            1   -.04825992   -.04825992
       rf            7            1    .55926103    .55926103
       rf            8            1    .32766856    .32766856
       rf            9            1   -.27727452   -.27727452
gradboost           10            1   -.03651663   -.03651663
gradboost           11            1    .04876608    .04876608
     nnet           12            1   -.07384005   -.07384005
     nnet           13            1    .00071551    .00071551

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22281478    .22281478
    logit            2     .0743521     .0743521
  lassocv            3    .39200378    .39200378
  ridgecv            4    .15529831    .15529831
  lassocv            5   -.24976368   -.24976368
  ridgecv            6   -.05995034   -.05995034
       rf            7    .41000824    .41000824
       rf            8    .10905923    .10905923
       rf            9   -.22093186   -.22093186
gradboost           10     .0856803     .0856803
gradboost           11    .13284293    .13284293
     nnet           12   -2.4418376   -2.4418376
     nnet           13    .01976808    .01976808

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00169491   -.00169491
      ols            2            0   -.01602267   -.01602267
  lassocv            3            0    .01640125    .01640125
  ridgecv            4            0    .50511109    .50511109
  lassocv            5            0    -.0603972    -.0603972
  ridgecv            6            0   -.03643648   -.03643648
       rf            7            0    .67030145    .67030145
       rf            8            0   -.25152204   -.25152204
       rf            9            0    .13053938    .13053938
gradboost           10            0    .03750788    .03750788
gradboost           11            0    .11045305    .11045305
     nnet           12            0   -.25996837   -.25996837
     nnet           13            0   -.00333644   -.00333644
      ols            1            1    .00314084    .00314084
      ols            2            1   -.00907476   -.00907476
  lassocv            3            1    .11454441    .11454441
  ridgecv            4            1    .23941752    .23941752
  lassocv            5            1    .13683377    .13683377
  ridgecv            6            1   -.04825992   -.04825992
       rf            7            1    .55926103    .55926103
       rf            8            1    .32766856    .32766856
       rf            9            1   -.27727452   -.27727452
gradboost           10            1   -.03651663   -.03651663
gradboost           11            1    .04876608    .04876608
     nnet           12            1   -.07384005   -.07384005
     nnet           13            1    .00071551    .00071551

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00169491   -.00169491
      ols            2            0   -.01602267   -.01602267
  lassocv            3            0    .01640125    .01640125
  ridgecv            4            0    .50511109    .50511109
  lassocv            5            0    -.0603972    -.0603972
  ridgecv            6            0   -.03643648   -.03643648
       rf            7            0    .67030145    .67030145
       rf            8            0   -.25152204   -.25152204
       rf            9            0    .13053938    .13053938
gradboost           10            0    .03750788    .03750788
gradboost           11            0    .11045305    .11045305
     nnet           12            0   -.25996837   -.25996837
     nnet           13            0   -.00333644   -.00333644
      ols            1            1    .00314084    .00314084
      ols            2            1   -.00907476   -.00907476
  lassocv            3            1    .11454441    .11454441
  ridgecv            4            1    .23941752    .23941752
  lassocv            5            1    .13683377    .13683377
  ridgecv            6            1   -.04825992   -.04825992
       rf            7            1    .55926103    .55926103
       rf            8            1    .32766856    .32766856
       rf            9            1   -.27727452   -.27727452
gradboost           10            1   -.03651663   -.03651663
gradboost           11            1    .04876608    .04876608
     nnet           12            1   -.07384005   -.07384005
     nnet           13            1    .00071551    .00071551

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0   -.0016949   -.0016949 |
   2. |        2          0   -.0160227   -.0160227 |
   3. |        3          0    .0164012    .0164012 |
   4. |        4          0    .5051111    .5051111 |
   5. |        5          0   -.0603972   -.0603972 |
      |---------------------------------------------|
   6. |        6          0   -.0364365   -.0364365 |
   7. |        7          0    .6703014    .6703014 |
   8. |        8          0    -.251522    -.251522 |
      +---------------------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_36931/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .22281478    .22281478
    logit            2     .0743521     .0743521
  lassocv            3    .39200378    .39200378
  ridgecv            4    .15529831    .15529831
  lassocv            5   -.24976368   -.24976368
  ridgecv            6   -.05995034   -.05995034
       rf            7    .41000824    .41000824
       rf            8    .10905923    .10905923
       rf            9   -.22093186   -.22093186
gradboost           10     .0856803     .0856803
gradboost           11    .13284293    .13284293
     nnet           12   -2.4418376   -2.4418376
     nnet           13    .01976808    .01976808

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00169491   -.00169491
      ols            2            0   -.01602267   -.01602267
  lassocv            3            0    .01640125    .01640125
  ridgecv            4            0    .50511109    .50511109
  lassocv            5            0    -.0603972    -.0603972
  ridgecv            6            0   -.03643648   -.03643648
       rf            7            0    .67030145    .67030145
       rf            8            0   -.25152204   -.25152204
       rf            9            0    .13053938    .13053938
gradboost           10            0    .03750788    .03750788
gradboost           11            0    .11045305    .11045305
     nnet           12            0   -.25996837   -.25996837
     nnet           13            0   -.00333644   -.00333644
      ols            1            1    .00314084    .00314084
      ols            2            1   -.00907476   -.00907476
  lassocv            3            1    .11454441    .11454441
  ridgecv            4            1    .23941752    .23941752
  lassocv            5            1    .13683377    .13683377
  ridgecv            6            1   -.04825992   -.04825992
       rf            7            1    .55926103    .55926103
       rf            8            1    .32766856    .32766856
       rf            9            1   -.27727452   -.27727452
gradboost           10            1   -.03651663   -.03651663
gradboost           11            1    .04876608    .04876608
     nnet           12            1   -.07384005   -.07384005
     nnet           13            1    .00071551    .00071551

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .22281478    .22281478
    logit            2     .0743521     .0743521
  lassocv            3    .39200378    .39200378
  ridgecv            4    .15529831    .15529831
  lassocv            5   -.24976368   -.24976368
  ridgecv            6   -.05995034   -.05995034
       rf            7    .41000824    .41000824
       rf            8    .10905923    .10905923
       rf            9   -.22093186   -.22093186
gradboost           10     .0856803     .0856803
gradboost           11    .13284293    .13284293
     nnet           12   -2.4418376   -2.4418376
     nnet           13    .01976808    .01976808

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .2228148    .2228148 |
   2. |        2    .0743521    .0743521 |
   3. |        3    .3920038    .3920038 |
   4. |        4    .1552983    .1552983 |
   5. |        5   -.2497637   -.2497637 |
      |----------------------------------|
   6. |        6   -.0599503   -.0599503 |
   7. |        7    .4100083    .4100083 |
   8. |        8    .1090592    .1090592 |
      +----------------------------------+
(note: file out_36931/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_36931/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23765236    .23765236
    logit            2    .08495041    .08495041
  lassocv            3   -.08921249   -.08921249
  ridgecv            4    .13607069    .13607069
  lassocv            5   -.00183092   -.00183092
  ridgecv            6    .14364675    .14364675
       rf            7    .50909503    .50909503
       rf            8    .06290599    .06290599
       rf            9   -.19565776   -.19565776
gradboost           10    .02323716    .02323716
gradboost           11    .20949408    .20949408
     nnet           12   -.53206717   -.53206717
     nnet           13   -.02478684   -.02478684

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03708453    .03708453
      ols            2            0   -.07029802   -.07029802
  lassocv            3            0   -.30844209   -.30844209
  ridgecv            4            0    .71601011    .71601011
  lassocv            5            0    .07212682    .07212682
  ridgecv            6            0   -.13590673   -.13590673
       rf            7            0     .9482513     .9482513
       rf            8            0   -.80975243   -.80975243
       rf            9            0    .49237887    .49237887
gradboost           10            0    .16209199    .16209199
gradboost           11            0    .01675363    .01675363
     nnet           12            0    -.0259464    -.0259464
     nnet           13            0    .00464089    .00464089
      ols            1            1    .00797422    .00797422
      ols            2            1   -.01074083   -.01074083
  lassocv            3            1   -.15384206   -.15384206
  ridgecv            4            1    .34200472    .34200472
  lassocv            5            1    .37976229    .37976229
  ridgecv            6            1   -.08057378   -.08057378
       rf            7            1    .62909495    .62909495
       rf            8            1   -.12169748   -.12169748
       rf            9            1     .0729043     .0729043
gradboost           10            1    .06358261    .06358261
gradboost           11            1   -.00603389   -.00603389
     nnet           12            1     -.041454     -.041454
     nnet           13            1    .00023742    .00023742

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23765236    .23765236
    logit            2    .08495041    .08495041
  lassocv            3   -.08921249   -.08921249
  ridgecv            4    .13607069    .13607069
  lassocv            5   -.00183092   -.00183092
  ridgecv            6    .14364675    .14364675
       rf            7    .50909503    .50909503
       rf            8    .06290599    .06290599
       rf            9   -.19565776   -.19565776
gradboost           10    .02323716    .02323716
gradboost           11    .20949408    .20949408
     nnet           12   -.53206717   -.53206717
     nnet           13   -.02478684   -.02478684

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03708453    .03708453
      ols            2            0   -.07029802   -.07029802
  lassocv            3            0   -.30844209   -.30844209
  ridgecv            4            0    .71601011    .71601011
  lassocv            5            0    .07212682    .07212682
  ridgecv            6            0   -.13590673   -.13590673
       rf            7            0     .9482513     .9482513
       rf            8            0   -.80975243   -.80975243
       rf            9            0    .49237887    .49237887
gradboost           10            0    .16209199    .16209199
gradboost           11            0    .01675363    .01675363
     nnet           12            0    -.0259464    -.0259464
     nnet           13            0    .00464089    .00464089
      ols            1            1    .00797422    .00797422
      ols            2            1   -.01074083   -.01074083
  lassocv            3            1   -.15384206   -.15384206
  ridgecv            4            1    .34200472    .34200472
  lassocv            5            1    .37976229    .37976229
  ridgecv            6            1   -.08057378   -.08057378
       rf            7            1    .62909495    .62909495
       rf            8            1   -.12169748   -.12169748
       rf            9            1     .0729043     .0729043
gradboost           10            1    .06358261    .06358261
gradboost           11            1   -.00603389   -.00603389
     nnet           12            1     -.041454     -.041454
     nnet           13            1    .00023742    .00023742

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03708453    .03708453
      ols            2            0   -.07029802   -.07029802
  lassocv            3            0   -.30844209   -.30844209
  ridgecv            4            0    .71601011    .71601011
  lassocv            5            0    .07212682    .07212682
  ridgecv            6            0   -.13590673   -.13590673
       rf            7            0     .9482513     .9482513
       rf            8            0   -.80975243   -.80975243
       rf            9            0    .49237887    .49237887
gradboost           10            0    .16209199    .16209199
gradboost           11            0    .01675363    .01675363
     nnet           12            0    -.0259464    -.0259464
     nnet           13            0    .00464089    .00464089
      ols            1            1    .00797422    .00797422
      ols            2            1   -.01074083   -.01074083
  lassocv            3            1   -.15384206   -.15384206
  ridgecv            4            1    .34200472    .34200472
  lassocv            5            1    .37976229    .37976229
  ridgecv            6            1   -.08057378   -.08057378
       rf            7            1    .62909495    .62909495
       rf            8            1   -.12169748   -.12169748
       rf            9            1     .0729043     .0729043
gradboost           10            1    .06358261    .06358261
gradboost           11            1   -.00603389   -.00603389
     nnet           12            1     -.041454     -.041454
     nnet           13            1    .00023742    .00023742

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7107712   3.0637782          1          0    .0370845    .0370845 |
   2. | 3.2100911   3.5897509          2          0    -.070298    -.070298 |
   3. | 3.0340205   3.1423455          3          0   -.3084421   -.3084421 |
   4. | 2.6577754   2.8347223          4          0    .7160101    .7160101 |
   5. | 3.3996588   3.4392281          5          0    .0721268    .0721268 |
      |---------------------------------------------------------------------|
   6. |  2.760687   2.9682507          6          0   -.1359067   -.1359067 |
   7. | 2.6082712   2.9541756          7          0    .9482513    .9482513 |
   8. | 2.8542522   2.9591117          8          0   -.8097524   -.8097524 |
      +---------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ss_ols_short_ia.dta not found)
file out_36931/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .23765236    .23765236
    logit            2    .08495041    .08495041
  lassocv            3   -.08921249   -.08921249
  ridgecv            4    .13607069    .13607069
  lassocv            5   -.00183092   -.00183092
  ridgecv            6    .14364675    .14364675
       rf            7    .50909503    .50909503
       rf            8    .06290599    .06290599
       rf            9   -.19565776   -.19565776
gradboost           10    .02323716    .02323716
gradboost           11    .20949408    .20949408
     nnet           12   -.53206717   -.53206717
     nnet           13   -.02478684   -.02478684

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03708453    .03708453
      ols            2            0   -.07029802   -.07029802
  lassocv            3            0   -.30844209   -.30844209
  ridgecv            4            0    .71601011    .71601011
  lassocv            5            0    .07212682    .07212682
  ridgecv            6            0   -.13590673   -.13590673
       rf            7            0     .9482513     .9482513
       rf            8            0   -.80975243   -.80975243
       rf            9            0    .49237887    .49237887
gradboost           10            0    .16209199    .16209199
gradboost           11            0    .01675363    .01675363
     nnet           12            0    -.0259464    -.0259464
     nnet           13            0    .00464089    .00464089
      ols            1            1    .00797422    .00797422
      ols            2            1   -.01074083   -.01074083
  lassocv            3            1   -.15384206   -.15384206
  ridgecv            4            1    .34200472    .34200472
  lassocv            5            1    .37976229    .37976229
  ridgecv            6            1   -.08057378   -.08057378
       rf            7            1    .62909495    .62909495
       rf            8            1   -.12169748   -.12169748
       rf            9            1     .0729043     .0729043
gradboost           10            1    .06358261    .06358261
gradboost           11            1   -.00603389   -.00603389
     nnet           12            1     -.041454     -.041454
     nnet           13            1    .00023742    .00023742

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .23765236    .23765236
    logit            2    .08495041    .08495041
  lassocv            3   -.08921249   -.08921249
  ridgecv            4    .13607069    .13607069
  lassocv            5   -.00183092   -.00183092
  ridgecv            6    .14364675    .14364675
       rf            7    .50909503    .50909503
       rf            8    .06290599    .06290599
       rf            9   -.19565776   -.19565776
gradboost           10    .02323716    .02323716
gradboost           11    .20949408    .20949408
     nnet           12   -.53206717   -.53206717
     nnet           13   -.02478684   -.02478684

      +-----------------------------------------------+
      | D_gende~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |-----------------------------------------------|
   1. |  .53238053          1    .2376524    .2376524 |
   2. |  .11738255          2    .0849504    .0849504 |
   3. | -.16035245          3   -.0892125   -.0892125 |
   4. | -.12049734          4    .1360707    .1360707 |
   5. |  .31747941          5   -.0018309   -.0018309 |
      |-----------------------------------------------|
   6. |  .63296169          6    .1436467    .1436467 |
   7. |  .61517439          7     .509095     .509095 |
   8. |  .66272274          8     .062906     .062906 |
      +-----------------------------------------------+
(note: file out_36931/D_gender_r_ss_ols_short_ia.dta not found)
file out_36931/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21946715    .21946715
    logit            2     .0765847     .0765847
  lassocv            3    .24030171    .24030171
  ridgecv            4    .16761678    .16761678
  lassocv            5   -.12097327   -.12097327
  ridgecv            6   -.04509634   -.04509634
       rf            7      .414659      .414659
       rf            8    .10792395    .10792395
       rf            9   -.22695162   -.22695162
gradboost           10    .08603052    .08603052
gradboost           11    .13544545    .13544545
     nnet           12   -.00193758   -.00193758
     nnet           13    .01984618    .01984618

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00087514   -.00087514
      ols            2            0   -.02275814   -.02275814
  lassocv            3            0    .03377845    .03377845
  ridgecv            4            0    .45770363    .45770363
  lassocv            5            0   -.05395867   -.05395867
  ridgecv            6            0   -.02608338   -.02608338
       rf            7            0    .67820286    .67820286
       rf            8            0   -.17110165   -.17110165
       rf            9            0     .0509083     .0509083
gradboost           10            0     .0312948     .0312948
gradboost           11            0    .11256676    .11256676
     nnet           12            0    .00875376    .00875376
     nnet           13            0   -.00208708   -.00208708
      ols            1            1   -.01139586   -.01139586
      ols            2            1   -.00481434   -.00481434
  lassocv            3            1    .20372183    .20372183
  ridgecv            4            1    .24274056    .24274056
  lassocv            5            1    .03370694    .03370694
  ridgecv            6            1   -.02671403   -.02671403
       rf            7            1    .56230569    .56230569
       rf            8            1    .35254649    .35254649
       rf            9            1   -.30311991   -.30311991
gradboost           10            1   -.03125381   -.03125381
gradboost           11            1    .05146063    .05146063
     nnet           12            1    .01134396    .01134396
     nnet           13            1   -.00016466   -.00016466

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21946715    .21946715
    logit            2     .0765847     .0765847
  lassocv            3    .24030171    .24030171
  ridgecv            4    .16761678    .16761678
  lassocv            5   -.12097327   -.12097327
  ridgecv            6   -.04509634   -.04509634
       rf            7      .414659      .414659
       rf            8    .10792395    .10792395
       rf            9   -.22695162   -.22695162
gradboost           10    .08603052    .08603052
gradboost           11    .13544545    .13544545
     nnet           12   -.00193758   -.00193758
     nnet           13    .01984618    .01984618

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00087514   -.00087514
      ols            2            0   -.02275814   -.02275814
  lassocv            3            0    .03377845    .03377845
  ridgecv            4            0    .45770363    .45770363
  lassocv            5            0   -.05395867   -.05395867
  ridgecv            6            0   -.02608338   -.02608338
       rf            7            0    .67820286    .67820286
       rf            8            0   -.17110165   -.17110165
       rf            9            0     .0509083     .0509083
gradboost           10            0     .0312948     .0312948
gradboost           11            0    .11256676    .11256676
     nnet           12            0    .00875376    .00875376
     nnet           13            0   -.00208708   -.00208708
      ols            1            1   -.01139586   -.01139586
      ols            2            1   -.00481434   -.00481434
  lassocv            3            1    .20372183    .20372183
  ridgecv            4            1    .24274056    .24274056
  lassocv            5            1    .03370694    .03370694
  ridgecv            6            1   -.02671403   -.02671403
       rf            7            1    .56230569    .56230569
       rf            8            1    .35254649    .35254649
       rf            9            1   -.30311991   -.30311991
gradboost           10            1   -.03125381   -.03125381
gradboost           11            1    .05146063    .05146063
     nnet           12            1    .01134396    .01134396
     nnet           13            1   -.00016466   -.00016466

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00087514   -.00087514
      ols            2            0   -.02275814   -.02275814
  lassocv            3            0    .03377845    .03377845
  ridgecv            4            0    .45770363    .45770363
  lassocv            5            0   -.05395867   -.05395867
  ridgecv            6            0   -.02608338   -.02608338
       rf            7            0    .67820286    .67820286
       rf            8            0   -.17110165   -.17110165
       rf            9            0     .0509083     .0509083
gradboost           10            0     .0312948     .0312948
gradboost           11            0    .11256676    .11256676
     nnet           12            0    .00875376    .00875376
     nnet           13            0   -.00208708   -.00208708
      ols            1            1   -.01139586   -.01139586
      ols            2            1   -.00481434   -.00481434
  lassocv            3            1    .20372183    .20372183
  ridgecv            4            1    .24274056    .24274056
  lassocv            5            1    .03370694    .03370694
  ridgecv            6            1   -.02671403   -.02671403
       rf            7            1    .56230569    .56230569
       rf            8            1    .35254649    .35254649
       rf            9            1   -.30311991   -.30311991
gradboost           10            1   -.03125381   -.03125381
gradboost           11            1    .05146063    .05146063
     nnet           12            1    .01134396    .01134396
     nnet           13            1   -.00016466   -.00016466

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.7185594   3.0496613          1          0   -.0008751   -.0008751 |
   2. | 3.1978926   3.5615143          2          0   -.0227581   -.0227581 |
   3. | 3.0211528   3.1298225          3          0    .0337785    .0337785 |
   4. | 2.6713313    2.899106          4          0    .4577036    .4577036 |
   5. | 3.4047459   3.4385521          5          0   -.0539587   -.0539587 |
      |---------------------------------------------------------------------|
   6. | 2.7640569   2.9741097          6          0   -.0260834   -.0260834 |
   7. | 2.5476822   2.8953973          7          0    .6782029    .6782029 |
   8. | 2.8413393   2.9689921          8          0   -.1711017   -.1711017 |
      +---------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_36931/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21946715    .21946715
    logit            2     .0765847     .0765847
  lassocv            3    .24030171    .24030171
  ridgecv            4    .16761678    .16761678
  lassocv            5   -.12097327   -.12097327
  ridgecv            6   -.04509634   -.04509634
       rf            7      .414659      .414659
       rf            8    .10792395    .10792395
       rf            9   -.22695162   -.22695162
gradboost           10    .08603052    .08603052
gradboost           11    .13544545    .13544545
     nnet           12   -.00193758   -.00193758
     nnet           13    .01984618    .01984618

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0   -.00087514   -.00087514
      ols            2            0   -.02275814   -.02275814
  lassocv            3            0    .03377845    .03377845
  ridgecv            4            0    .45770363    .45770363
  lassocv            5            0   -.05395867   -.05395867
  ridgecv            6            0   -.02608338   -.02608338
       rf            7            0    .67820286    .67820286
       rf            8            0   -.17110165   -.17110165
       rf            9            0     .0509083     .0509083
gradboost           10            0     .0312948     .0312948
gradboost           11            0    .11256676    .11256676
     nnet           12            0    .00875376    .00875376
     nnet           13            0   -.00208708   -.00208708
      ols            1            1   -.01139586   -.01139586
      ols            2            1   -.00481434   -.00481434
  lassocv            3            1    .20372183    .20372183
  ridgecv            4            1    .24274056    .24274056
  lassocv            5            1    .03370694    .03370694
  ridgecv            6            1   -.02671403   -.02671403
       rf            7            1    .56230569    .56230569
       rf            8            1    .35254649    .35254649
       rf            9            1   -.30311991   -.30311991
gradboost           10            1   -.03125381   -.03125381
gradboost           11            1    .05146063    .05146063
     nnet           12            1    .01134396    .01134396
     nnet           13            1   -.00016466   -.00016466

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .21946715    .21946715
    logit            2     .0765847     .0765847
  lassocv            3    .24030171    .24030171
  ridgecv            4    .16761678    .16761678
  lassocv            5   -.12097327   -.12097327
  ridgecv            6   -.04509634   -.04509634
       rf            7      .414659      .414659
       rf            8    .10792395    .10792395
       rf            9   -.22695162   -.22695162
gradboost           10    .08603052    .08603052
gradboost           11    .13544545    .13544545
     nnet           12   -.00193758   -.00193758
     nnet           13    .01984618    .01984618

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. |  .8057192          1    .2194671    .2194671 |
   2. | .42425889          2    .0765847    .0765847 |
   3. | .10735347          3    .2403017    .2403017 |
   4. | .18713539          4    .1676168    .1676168 |
   5. | .61705646          5   -.1209733   -.1209733 |
      |----------------------------------------------|
   6. | .89914603          6   -.0450963   -.0450963 |
   7. | .88492259          7     .414659     .414659 |
   8. | .93907834          8     .107924     .107924 |
      +----------------------------------------------+
(note: file out_36931/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_36931/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1013125   .0155024    -6.54   0.000    -.1316968   -.0709283
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1013125   .0155024    -6.54   0.000    -.1316968   -.0709283
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1013125   .0155024    -6.54   0.000    -.1316968   -.0709283
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.101    (0.016)
  ss  1  [shortstack]          [ss]          [ss]    -0.101    (0.016)
  ps  1   [poolstack]          [ps]          [ps]    -0.101    (0.016)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1013125   .0155024    -6.54   0.000    -.1316968   -.0709283
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_36931/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_36931/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_36931/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_36931/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_36931/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6044655   2.7371709          1          0   .0769231   .0769231 |
   2. | 3.0148881   3.2227879          2          0   .0769231   .0769231 |
   3. | 2.7158783   2.8536283          3          0   .0769231   .0769231 |
   4. | 2.4794838   2.6236015          4          0   .0769231   .0769231 |
   5. | 3.0787312   3.1579002          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6266718   2.6523775          6          0   .0769231   .0769231 |
   7. | 2.4496785   2.4308292          7          0   .0769231   .0769231 |
   8. | 2.6469145   2.7845245          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ss_avg_short_ia.dta not found)
file out_36931/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71812375          1   .0769231   .0769231 |
   2. | .42230164          2   .0769231   .0769231 |
   3. | .18102445          3   .0769231   .0769231 |
   4. |  .3277331          4   .0769231   .0769231 |
   5. | .58264174          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .77064336          6   .0769231   .0769231 |
   7. | .76215397          7   .0769231   .0769231 |
   8. | .80706954          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ss_avg_short_ia.dta not found)
file out_36931/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6044655   2.7371709          1          0   .0769231   .0769231 |
   2. | 3.0148881   3.2227879          2          0   .0769231   .0769231 |
   3. | 2.7158783   2.8536283          3          0   .0769231   .0769231 |
   4. | 2.4794838   2.6236015          4          0   .0769231   .0769231 |
   5. | 3.0787312   3.1579002          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.6266718   2.6523775          6          0   .0769231   .0769231 |
   7. | 2.4496785   2.4308292          7          0   .0769231   .0769231 |
   8. | 2.6469145   2.7845245          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_36931/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_36931/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .71812375          1   .0769231   .0769231 |
   2. | .42230164          2   .0769231   .0769231 |
   3. | .18102445          3   .0769231   .0769231 |
   4. |  .3277331          4   .0769231   .0769231 |
   5. | .58264174          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. | .77064336          6   .0769231   .0769231 |
   7. | .76215397          7   .0769231   .0769231 |
   8. | .80706954          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_36931/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_36931/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1557579   .0776713    -2.01   0.045    -.3079908    -.003525
------------------------------------------------------------------------------
Warning: 133 propensity scores trimmed to lower limit ..
Warning: 37 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1215992   .0161258    -7.54   0.000    -.1532052   -.0899931
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0785731   .0333067    -2.36   0.018     -.143853   -.0132932
------------------------------------------------------------------------------
Warning: 77 propensity scores trimmed to lower limit ..
Warning: 14 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0811591   .0624197    -1.30   0.194    -.2034995    .0411812
------------------------------------------------------------------------------
Warning: 83 propensity scores trimmed to lower limit ..
Warning: 23 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0798712   .0327394    -2.44   0.015    -.1440393   -.0157031
------------------------------------------------------------------------------
Warning: 70 propensity scores trimmed to lower limit ..
Warning: 14 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.286747   .1887971    -1.52   0.129    -.6567825    .0832885
------------------------------------------------------------------------------
Warning: 73 propensity scores trimmed to lower limit ..
Warning: 15 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0824093   .0177707    -4.64   0.000    -.1172391   -.0475795
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
Warning: 3 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1049477    .015172    -6.92   0.000    -.1346842   -.0752112
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1096692    .014773    -7.42   0.000    -.1386237   -.0807147
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0762569    .017922    -4.25   0.000    -.1113834   -.0411305
------------------------------------------------------------------------------
Warning: 1 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0434785   .0357973    -1.21   0.225    -.1136398    .0266828
------------------------------------------------------------------------------
Warning: 96 propensity scores trimmed to lower limit ..
Warning: 23 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1288699   .0161342    -7.99   0.000    -.1604924   -.0972474
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .2603958   .2524634     1.03   0.302    -.2344233    .7552149
------------------------------------------------------------------------------
Warning: 196 propensity scores trimmed to lower limit ..
Warning: 158 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_36931/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
Cross-fitting fold 1 2 3 4 5 6 7 8 9 10 ...completed cross-fitting...completed 
> short-stacking...completed pooled-stacking
.         ddml estimate, robust atet


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.083    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0781938   .0269505    -2.90   0.004    -.1310157   -.0253718
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 8 propensity scores trimmed to lower limit .01.

. 
.         cap drop mse_*
.         foreach var of varlist Y1_pystacked0* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==0
  4.                  sum sqerr_`var' if gender_r==0, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
(2,813 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist Y1_pystacked1* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(lnearn-`var')^2 if gender_r==1
  4.                  sum sqerr_`var' if gender_r==1, meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
(2,023 missing values generated)
(4,835 missing values generated)
.         foreach var of varlist D1_* {
  2.                  cap drop sqerr_`var'
  3.                  gen double sqerr_`var'=(gender_r-`var')^2
  4.                  sum sqerr_`var', meanonly
  5.                  gen double mse_`var'=r(mean) if _n ==1 
  6.         }
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
(4,835 missing values generated)
.         preserve
.                 keep mse_*
.                 keep if _n==1
(4,835 observations deleted)
.                 save `folder'/inter_mse, replace
(note: file out_58248/inter_mse.dta not found)
file out_58248/inter_mse.dta saved
.         restore
.         cap drop mse_*
.         
.         local mat gender_r_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.143       0.165       0.143       0.153
>        0.167       0.175       0.141       0.157       0.162       0.148  
   D_gender_r_ps   1      0.155       0.143       0.165       0.142       0.151
>        0.166       0.175       0.140       0.156       0.162       0.148  
   D_gender_r_ss   1      0.155       0.143       0.165       0.142       0.150
>        0.166       0.175       0.140       0.156       0.162       0.148  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.230       0.556       0.172       0.265       0.
> 111       0.191       0.232       0.168       0.253       0.178       0.165  
    Y1_pystacked 1    1      0.175       0.275       0.244       0.110       0.
> 121       0.145       0.189       0.230       0.202       0.097       0.145  
     Y_lnearn_ps 0    1      8.292       8.340       8.216       8.273       8.
> 259       8.381       8.404       8.239       8.304       8.244       8.220  
     Y_lnearn_ps 1    1      7.502       7.506       7.476       7.374       7.
> 353       7.428       7.624       7.468       7.603       7.527       7.660  
     Y_lnearn_ss 0    1      0.226       0.556       0.169       0.263       0.
> 111       0.193       0.205       0.166       0.248       0.178       0.166  
     Y_lnearn_ss 1    1      0.173       0.269       0.243       0.109       0.
> 122       0.143       0.191       0.228       0.202       0.098       0.132  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

gender_r_mse[3,12]
                      rep  full_sample        fold1        fold2        fold3
D1_pystacked            1     .1554056    .14326803    .16511501    .14284614
D_gender_r~s            1    .15481626    .14272633     .1648852    .14239118
D_gender_r~s            1    .15468605    .14265305    .16458012    .14201202

                    fold4        fold5        fold6        fold7        fold8
D1_pystacked    .15260973    .16712551    .17542972     .1406318    .15656991
D_gender_r~s     .1508745     .1663953    .17515261    .13998846    .15591008
D_gender_r~s     .1500956    .16646392     .1750389    .13955063    .15644537

                    fold9       fold10
D1_pystacked    .16243323    .14801965
D_gender_r~s    .16227841    .14755417
D_gender_r~s    .16229857      .147717
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=$L
(4,823 observations deleted)
.                                 gen stack_type = "conventional" if _n==1
(12 missing values generated)
.                                 replace stack_type = "pooled" if _n==2
(1 real change made)
.                                 replace stack_type = "short" if _n==3
(1 real change made)
.                                 gen model = "interactive"
.                                 list if _n<=$L

     +-----------------------------------------------------------------+
  1. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1554056 |  .143268 |  .165115 | .1428461 | .1526097 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1671255 | .1754297 | .1406318 | .1565699 | .1624332 | .1480197 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |          conventional          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 | .1548163 | .1427263 | .1648852 | .1423912 | .1508745 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1663953 | .1751526 | .1399885 | .1559101 | .1622784 | .1475542 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                pooled          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        1 |  .154686 |  .142653 | .1645801 |  .142012 | .1500956 |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     | .1664639 | .1750389 | .1395506 | .1564454 | .1622986 |  .147717 |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                 short          |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | gende~e1 | gende~e2 | gender~3 | gender~4 | gender~5 | gender~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | gender~7 | gender~8 | gender~9 | gende~10 | gende~11 | gende~12 |
     |        . |        . |        . |        . |        . |        . |
     |--------------------------------+--------------------------------|
     |            stack_type          |                model           |
     |                                |          interactive           |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_gender_mse, replace
(note: file out_58248/gender_r_mse_inter_gender_mse.dta not found)
file out_58248/gender_r_mse_inter_gender_mse.dta saved
.                                 restore 
.                                 
.         local mat lnearn_mse
.                         ddml extract, show(mse)

MSEs for gender_r:
                 rep   full smp      fold 1      fold 2      fold 3      fold 4
>       fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    D1_pystacked   1      0.155       0.143       0.165       0.143       0.153
>        0.167       0.175       0.141       0.157       0.162       0.148  
   D_gender_r_ps   1      0.155       0.143       0.165       0.142       0.151
>        0.166       0.175       0.140       0.156       0.162       0.148  
   D_gender_r_ss   1      0.155       0.143       0.165       0.142       0.150
>        0.166       0.175       0.140       0.156       0.162       0.148  

MSEs for lnearn:
                D=  rep   full smp      fold 1      fold 2      fold 3      fol
> d 4      fold 5      fold 6      fold 7      fold 8      fold 9     fold 10 
    Y1_pystacked 0    1      0.230       0.556       0.172       0.265       0.
> 111       0.191       0.232       0.168       0.253       0.178       0.165  
    Y1_pystacked 1    1      0.175       0.275       0.244       0.110       0.
> 121       0.145       0.189       0.230       0.202       0.097       0.145  
     Y_lnearn_ps 0    1      8.292       8.340       8.216       8.273       8.
> 259       8.381       8.404       8.239       8.304       8.244       8.220  
     Y_lnearn_ps 1    1      7.502       7.506       7.476       7.374       7.
> 353       7.428       7.624       7.468       7.603       7.527       7.660  
     Y_lnearn_ss 0    1      0.226       0.556       0.169       0.263       0.
> 111       0.193       0.205       0.166       0.248       0.178       0.166  
     Y_lnearn_ss 1    1      0.173       0.269       0.243       0.109       0.
> 122       0.143       0.191       0.228       0.202       0.098       0.132  
.                         mat `mat' = r(`mat')
.                         mat list `mat'

lnearn_mse[6,13]
                    D=0/1          rep  full_sample        fold1        fold2
Y1_pystacked            0            1    .23035174    .55626546    .17167105
Y1_pystacked            1            1    .17485233     .2747194    .24415268
 Y_lnearn_ps            0            1    8.2915969    8.3401245    8.2156804
 Y_lnearn_ps            1            1    7.5015604    7.5057282    7.4757753
 Y_lnearn_ss            0            1    .22649424    .55645241    .16922276
 Y_lnearn_ss            1            1    .17267699    .26873556    .24320577

                    fold3        fold4        fold5        fold6        fold7
Y1_pystacked    .26464681    .11052714    .19144344    .23210348    .16760397
Y1_pystacked    .11009644    .12058208    .14466345       .18949    .22958443
 Y_lnearn_ps    8.2730007    8.2592149    8.3814797    8.4036093    8.2385658
 Y_lnearn_ps    7.3743837    7.3533947    7.4282163    7.6239566    7.4676384
 Y_lnearn_ss    .26316981    .11072115    .19266061    .20481605    .16641811
 Y_lnearn_ss    .10915479    .12181569    .14254937    .19093626    .22834174

                    fold8        fold9       fold10
Y1_pystacked    .25293386    .17829284    .16543426
Y1_pystacked    .20189677    .09737368    .14481619
 Y_lnearn_ps    8.3037267    8.2442807    8.2204073
 Y_lnearn_ps    7.6027675    7.5270102    7.6601402
 Y_lnearn_ss    .24849803     .1784617    .16555674
 Y_lnearn_ss    .20152625    .09813845     .1322571
.                                 preserve
.                                 svmat `mat'
.                                 keep `mat'*
.                                 keep if _n<=(2*$L)
(4,810 observations deleted)
.                                 gen stack_type = "conventional" if _n<=2
(24 missing values generated)
.                                 replace stack_type = "pooled" if _n>=3 & _n<=
> 4
(2 real changes made)
.                                 replace stack_type = "short" if _n>4
(22 real changes made)
.                                 gen model = "interactive"
.                                 list if _n<=(2*$L)

     +-----------------------------------------------------------------+
  1. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2303517 | .5562655 |  .171671 | .2646468 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1105271 | .1914434 | .2321035 |  .167604 | .2529339 | .1782928 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1654343     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  2. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 | .1748523 | .2747194 | .2441527 | .1100964 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1205821 | .1446635 |   .18949 | .2295844 | .2018968 | .0973737 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1448162     |     conventional      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  3. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | 8.291597 | 8.340124 |  8.21568 | 8.273001 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 8.259214 | 8.381479 | 8.403609 | 8.238565 | 8.303727 | 8.244281 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     8.220407     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  4. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 |  7.50156 | 7.505728 | 7.475775 | 7.374384 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | 7.353395 | 7.428216 | 7.623957 | 7.467638 | 7.602767 |  7.52701 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |      7.66014     |           pooled      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  5. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        0 |        1 | .2264942 | .5564524 | .1692228 | .2631698 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1107212 | .1926606 | .2048161 | .1664181 |  .248498 | .1784617 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1655567     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  6. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        1 |        1 |  .172677 | .2687356 | .2432058 | .1091548 |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     | .1218157 | .1425494 | .1909363 | .2283417 | .2015262 | .0981384 |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |     .1322571     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  7. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  8. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
  9. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 10. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 11. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 12. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 13. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 14. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 15. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 16. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 17. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 18. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 19. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 20. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 21. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 22. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 23. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 24. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 25. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+

     +-----------------------------------------------------------------+
 26. | lnear~e1 | lnear~e2 | lnear~e3 | lnearn~4 | lnearn~5 | lnearn~6 |
     |        . |        . |        . |        . |        . |        . |
     |----------+----------+----------+----------+----------+----------|
     | lnearn~7 | lnearn~8 | lnearn~9 | lnear~10 | lnear~11 | lnear~12 |
     |        . |        . |        . |        . |        . |        . |
     |-----------------------------------------------------------------|
     |     lnear~13     |       stack_type      |           model      |
     |            .     |            short      |     interactive      |
     +-----------------------------------------------------------------+
.                                 save `folder'/`mat'_inter_lnearn_mse, replace
(note: file out_58248/lnearn_mse_inter_lnearn_mse.dta not found)
file out_58248/lnearn_mse_inter_lnearn_mse.dta saved
.                                 restore 
.         
.         foreach final in nnls1 singlebest ols avg {
  2. 
.                 ddml estimate, robust finalest(`final') atet
  3.         
.                         // regular stacking results
.                         ddml estimate, mname(m0) spec(st) replay atet
  4.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-1) append
  5.                         
.                         // shortstacking results
.                         ddml estimate, mname(m0) spec(ss) replay atet
  6.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-2) append
  7.                         
.                         // poolstacking results
.                         ddml estimate, mname(m0) spec(ps) replay atet
  8.                         regsave gender_r using `folder'/results.dta, ci ad
> dlabel(model,interactive,seed,`seed',final,`final',learner,-3) append
  9.                 
.                         // pystacked weights
.                         ddml extract, show(stweights)
 10.                         foreach mat in Y1_pystacked_w_mn D1_pystacked_w_mn
>  {
 11.                                         ddml extract, show(stweights)
 12.                                         mat `mat' = r(`mat')
 13.                                         mat list `mat'
 14.                                                 preserve
 15.                                                 svmat `mat'
 16.                                                 keep `mat'*
 17.                                                 list if _n<=8
 18.                                                 save `folder'/`mat'_`final
> '_regular_ia, replace
 19.                                                 restore
 20.                         }       
 21.                         // shortstacked weights
.                         ddml extract, show(ssweights)
 22.                         foreach mat in Y_lnearn_ss D_gender_r_ss {
 23.                                         ddml extract, show(ssweights)
 24.                                         mat `mat' = r(`mat')
 25.                                         mat list `mat'
 26.                                                 preserve
 27.                                                 svmat `mat'
 28.                                                 keep `mat'*
 29.                                                 list if _n<=8
 30.                                                 save `folder'/`mat'_`final
> '_short_ia, replace
 31.                                                 restore
 32.                         }       
 33.                         // poolstacked weights
.                         ddml extract, show(psweights)
 34.                         foreach mat in Y_lnearn_ps D_gender_r_ps {
 35.                                         ddml extract, show(psweights)
 36.                                         mat `mat' = r(`mat')
 37.                                         mat list `mat'
 38.                                                 preserve
 39.                                                 svmat `mat'
 40.                                                 keep `mat'*
 41.                                                 list if _n<=8
 42.                                                 save `folder'/`mat'_`final
> '_pooled_ia, replace
 43.                                                 restore
 44.                         }       
 45.         
.         }


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.083    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0781938   .0269505    -2.90   0.004    -.1310157   -.0253718
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 8 propensity scores trimmed to lower limit .01.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.083    (0.029)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.027)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0830245   .0289717    -2.87   0.004     -.139808    -.026241
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 7 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.078    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.027)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0781938   .0269505    -2.90   0.004    -.1310157   -.0253718
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 8 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.080    (0.027)
  ss  1  [shortstack]          [ss]          [ss]    -0.078    (0.027)
  ps  1   [poolstack]          [ps]          [ps]    -0.080    (0.027)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0798118    .026675    -2.99   0.003    -.1320938   -.0275298
------------------------------------------------------------------------------
Stacking final estimator: nnls1
Warning: 8 propensity scores trimmed to lower limit .01.

(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24032951    .24032951
    logit            2    1.930e-17    1.930e-17
  lassocv            3    .12280241    .12280241
  ridgecv            4    .04923946    .04923946
  lassocv            5    .03123819    .03123819
  ridgecv            6    .00933887    .00933887
       rf            7    .27761159    .27761159
       rf            8    4.982e-17    4.982e-17
       rf            9    5.889e-17    5.889e-17
gradboost           10    .02645408    .02645408
gradboost           11    .22068594    .22068594
     nnet           12    4.235e-17    4.235e-17
     nnet           13    .02229995    .02229995

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02974785    .02974785
      ols            2            0    .00098348    .00098348
  lassocv            3            0     .1029355     .1029355
  ridgecv            4            0     .2158857     .2158857
  lassocv            5            0    .02160404    .02160404
  ridgecv            6            0    .01039274    .01039274
       rf            7            0    .41550343    .41550343
       rf            8            0    9.996e-17    9.996e-17
       rf            9            0    1.301e-16    1.301e-16
gradboost           10            0    .03990042    .03990042
gradboost           11            0    .13674214    .13674214
     nnet           12            0    .01658176    .01658176
     nnet           13            0    .00972295    .00972295
      ols            1            1    .00902852    .00902852
      ols            2            1    2.865e-17    2.865e-17
  lassocv            3            1    .06214047    .06214047
  ridgecv            4            1    .03371948    .03371948
  lassocv            5            1    .23596907    .23596907
  ridgecv            6            1    .08294635    .08294635
       rf            7            1    .47759744    .47759744
       rf            8            1    6.207e-17    6.207e-17
       rf            9            1    1.599e-16    1.599e-16
gradboost           10            1    .00269208    .00269208
gradboost           11            1     .0572381     .0572381
     nnet           12            1    .00836318    .00836318
     nnet           13            1    .03030533    .03030533

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24032951    .24032951
    logit            2    1.930e-17    1.930e-17
  lassocv            3    .12280241    .12280241
  ridgecv            4    .04923946    .04923946
  lassocv            5    .03123819    .03123819
  ridgecv            6    .00933887    .00933887
       rf            7    .27761159    .27761159
       rf            8    4.982e-17    4.982e-17
       rf            9    5.889e-17    5.889e-17
gradboost           10    .02645408    .02645408
gradboost           11    .22068594    .22068594
     nnet           12    4.235e-17    4.235e-17
     nnet           13    .02229995    .02229995

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02974785    .02974785
      ols            2            0    .00098348    .00098348
  lassocv            3            0     .1029355     .1029355
  ridgecv            4            0     .2158857     .2158857
  lassocv            5            0    .02160404    .02160404
  ridgecv            6            0    .01039274    .01039274
       rf            7            0    .41550343    .41550343
       rf            8            0    9.996e-17    9.996e-17
       rf            9            0    1.301e-16    1.301e-16
gradboost           10            0    .03990042    .03990042
gradboost           11            0    .13674214    .13674214
     nnet           12            0    .01658176    .01658176
     nnet           13            0    .00972295    .00972295
      ols            1            1    .00902852    .00902852
      ols            2            1    2.865e-17    2.865e-17
  lassocv            3            1    .06214047    .06214047
  ridgecv            4            1    .03371948    .03371948
  lassocv            5            1    .23596907    .23596907
  ridgecv            6            1    .08294635    .08294635
       rf            7            1    .47759744    .47759744
       rf            8            1    6.207e-17    6.207e-17
       rf            9            1    1.599e-16    1.599e-16
gradboost           10            1    .00269208    .00269208
gradboost           11            1     .0572381     .0572381
     nnet           12            1    .00836318    .00836318
     nnet           13            1    .03030533    .03030533

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02974785    .02974785
      ols            2            0    .00098348    .00098348
  lassocv            3            0     .1029355     .1029355
  ridgecv            4            0     .2158857     .2158857
  lassocv            5            0    .02160404    .02160404
  ridgecv            6            0    .01039274    .01039274
       rf            7            0    .41550343    .41550343
       rf            8            0    9.996e-17    9.996e-17
       rf            9            0    1.301e-16    1.301e-16
gradboost           10            0    .03990042    .03990042
gradboost           11            0    .13674214    .13674214
     nnet           12            0    .01658176    .01658176
     nnet           13            0    .00972295    .00972295
      ols            1            1    .00902852    .00902852
      ols            2            1    2.865e-17    2.865e-17
  lassocv            3            1    .06214047    .06214047
  ridgecv            4            1    .03371948    .03371948
  lassocv            5            1    .23596907    .23596907
  ridgecv            6            1    .08294635    .08294635
       rf            7            1    .47759744    .47759744
       rf            8            1    6.207e-17    6.207e-17
       rf            9            1    1.599e-16    1.599e-16
gradboost           10            1    .00269208    .00269208
gradboost           11            1     .0572381     .0572381
     nnet           12            1    .00836318    .00836318
     nnet           13            1    .03030533    .03030533

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0297479   .0297479 |
   2. |        2          0   .0009835   .0009835 |
   3. |        3          0   .1029355   .1029355 |
   4. |        4          0   .2158857   .2158857 |
   5. |        5          0    .021604    .021604 |
      |-------------------------------------------|
   6. |        6          0   .0103927   .0103927 |
   7. |        7          0   .4155034   .4155034 |
   8. |        8          0   1.00e-16   1.00e-16 |
      +-------------------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_58248/Y1_pystacked_w_mn_nnls1_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .24032951    .24032951
    logit            2    1.930e-17    1.930e-17
  lassocv            3    .12280241    .12280241
  ridgecv            4    .04923946    .04923946
  lassocv            5    .03123819    .03123819
  ridgecv            6    .00933887    .00933887
       rf            7    .27761159    .27761159
       rf            8    4.982e-17    4.982e-17
       rf            9    5.889e-17    5.889e-17
gradboost           10    .02645408    .02645408
gradboost           11    .22068594    .22068594
     nnet           12    4.235e-17    4.235e-17
     nnet           13    .02229995    .02229995

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .02974785    .02974785
      ols            2            0    .00098348    .00098348
  lassocv            3            0     .1029355     .1029355
  ridgecv            4            0     .2158857     .2158857
  lassocv            5            0    .02160404    .02160404
  ridgecv            6            0    .01039274    .01039274
       rf            7            0    .41550343    .41550343
       rf            8            0    9.996e-17    9.996e-17
       rf            9            0    1.301e-16    1.301e-16
gradboost           10            0    .03990042    .03990042
gradboost           11            0    .13674214    .13674214
     nnet           12            0    .01658176    .01658176
     nnet           13            0    .00972295    .00972295
      ols            1            1    .00902852    .00902852
      ols            2            1    2.865e-17    2.865e-17
  lassocv            3            1    .06214047    .06214047
  ridgecv            4            1    .03371948    .03371948
  lassocv            5            1    .23596907    .23596907
  ridgecv            6            1    .08294635    .08294635
       rf            7            1    .47759744    .47759744
       rf            8            1    6.207e-17    6.207e-17
       rf            9            1    1.599e-16    1.599e-16
gradboost           10            1    .00269208    .00269208
gradboost           11            1     .0572381     .0572381
     nnet           12            1    .00836318    .00836318
     nnet           13            1    .03030533    .03030533

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .24032951    .24032951
    logit            2    1.930e-17    1.930e-17
  lassocv            3    .12280241    .12280241
  ridgecv            4    .04923946    .04923946
  lassocv            5    .03123819    .03123819
  ridgecv            6    .00933887    .00933887
       rf            7    .27761159    .27761159
       rf            8    4.982e-17    4.982e-17
       rf            9    5.889e-17    5.889e-17
gradboost           10    .02645408    .02645408
gradboost           11    .22068594    .22068594
     nnet           12    4.235e-17    4.235e-17
     nnet           13    .02229995    .02229995

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .2403295   .2403295 |
   2. |        2   1.93e-17   1.93e-17 |
   3. |        3   .1228024   .1228024 |
   4. |        4   .0492395   .0492395 |
   5. |        5   .0312382   .0312382 |
      |--------------------------------|
   6. |        6   .0093389   .0093389 |
   7. |        7   .2776116   .2776116 |
   8. |        8   4.98e-17   4.98e-17 |
      +--------------------------------+
(note: file out_58248/D1_pystacked_w_mn_nnls1_regular_ia.dta not found)
file out_58248/D1_pystacked_w_mn_nnls1_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25373406    .25373406
    logit            2    1.563e-17    1.563e-17
  lassocv            3    .02276377    .02276377
  ridgecv            4     .1365943     .1365943
  lassocv            5            0            0
  ridgecv            6    2.845e-17    2.845e-17
       rf            7    .28155443    .28155443
       rf            8    9.177e-17    9.177e-17
       rf            9    2.300e-17    2.300e-17
gradboost           10    6.519e-18    6.519e-18
gradboost           11    .30535344    .30535344
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01791481    .01791481
      ols            2            0    1.143e-16    1.143e-16
  lassocv            3            0    1.479e-18    1.479e-18
  ridgecv            4            0    .16062422    .16062422
  lassocv            5            0    .15847526    .15847526
  ridgecv            6            0    4.332e-17    4.332e-17
       rf            7            0    .56193298    .56193298
       rf            8            0    8.670e-17    8.670e-17
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .10105274    .10105274
     nnet           12            0            0            0
     nnet           13            0    3.864e-17    3.864e-17
      ols            1            1    .05647336    .05647336
      ols            2            1            0            0
  lassocv            3            1    .27024232    .27024232
  ridgecv            4            1    .06179022    .06179022
  lassocv            5            1    1.639e-16    1.639e-16
  ridgecv            6            1            0            0
       rf            7            1    .46483949    .46483949
       rf            8            1            0            0
       rf            9            1    7.183e-17    7.183e-17
gradboost           10            1    .03313922    .03313922
gradboost           11            1    .11351539    .11351539
     nnet           12            1    7.758e-17    7.758e-17
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25373406    .25373406
    logit            2    1.563e-17    1.563e-17
  lassocv            3    .02276377    .02276377
  ridgecv            4     .1365943     .1365943
  lassocv            5            0            0
  ridgecv            6    2.845e-17    2.845e-17
       rf            7    .28155443    .28155443
       rf            8    9.177e-17    9.177e-17
       rf            9    2.300e-17    2.300e-17
gradboost           10    6.519e-18    6.519e-18
gradboost           11    .30535344    .30535344
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01791481    .01791481
      ols            2            0    1.143e-16    1.143e-16
  lassocv            3            0    1.479e-18    1.479e-18
  ridgecv            4            0    .16062422    .16062422
  lassocv            5            0    .15847526    .15847526
  ridgecv            6            0    4.332e-17    4.332e-17
       rf            7            0    .56193298    .56193298
       rf            8            0    8.670e-17    8.670e-17
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .10105274    .10105274
     nnet           12            0            0            0
     nnet           13            0    3.864e-17    3.864e-17
      ols            1            1    .05647336    .05647336
      ols            2            1            0            0
  lassocv            3            1    .27024232    .27024232
  ridgecv            4            1    .06179022    .06179022
  lassocv            5            1    1.639e-16    1.639e-16
  ridgecv            6            1            0            0
       rf            7            1    .46483949    .46483949
       rf            8            1            0            0
       rf            9            1    7.183e-17    7.183e-17
gradboost           10            1    .03313922    .03313922
gradboost           11            1    .11351539    .11351539
     nnet           12            1    7.758e-17    7.758e-17
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01791481    .01791481
      ols            2            0    1.143e-16    1.143e-16
  lassocv            3            0    1.479e-18    1.479e-18
  ridgecv            4            0    .16062422    .16062422
  lassocv            5            0    .15847526    .15847526
  ridgecv            6            0    4.332e-17    4.332e-17
       rf            7            0    .56193298    .56193298
       rf            8            0    8.670e-17    8.670e-17
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .10105274    .10105274
     nnet           12            0            0            0
     nnet           13            0    3.864e-17    3.864e-17
      ols            1            1    .05647336    .05647336
      ols            2            1            0            0
  lassocv            3            1    .27024232    .27024232
  ridgecv            4            1    .06179022    .06179022
  lassocv            5            1    1.639e-16    1.639e-16
  ridgecv            6            1            0            0
       rf            7            1    .46483949    .46483949
       rf            8            1            0            0
       rf            9            1    7.183e-17    7.183e-17
gradboost           10            1    .03313922    .03313922
gradboost           11            1    .11351539    .11351539
     nnet           12            1    7.758e-17    7.758e-17
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5761911   2.7377604          1          0   .0179148   .0179148 |
   2. | 2.9764752    3.230665          2          0   1.14e-16   1.14e-16 |
   3. | 2.8266935   2.8869994          3          0   1.48e-18   1.48e-18 |
   4. | 2.4412546   2.6150057          4          0   .1606242   .1606242 |
   5. | 3.0771141   3.1583724          5          0   .1584753   .1584753 |
      |-------------------------------------------------------------------|
   6. | 2.5418771   2.6709198          6          0   4.33e-17   4.33e-17 |
   7. | 2.4131799   2.6069208          7          0    .561933    .561933 |
   8. | 2.6752025   2.7535247          8          0   8.67e-17   8.67e-17 |
      +-------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ss_nnls1_short_ia.dta not found)
file out_58248/Y_lnearn_ss_nnls1_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25373406    .25373406
    logit            2    1.563e-17    1.563e-17
  lassocv            3    .02276377    .02276377
  ridgecv            4     .1365943     .1365943
  lassocv            5            0            0
  ridgecv            6    2.845e-17    2.845e-17
       rf            7    .28155443    .28155443
       rf            8    9.177e-17    9.177e-17
       rf            9    2.300e-17    2.300e-17
gradboost           10    6.519e-18    6.519e-18
gradboost           11    .30535344    .30535344
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01791481    .01791481
      ols            2            0    1.143e-16    1.143e-16
  lassocv            3            0    1.479e-18    1.479e-18
  ridgecv            4            0    .16062422    .16062422
  lassocv            5            0    .15847526    .15847526
  ridgecv            6            0    4.332e-17    4.332e-17
       rf            7            0    .56193298    .56193298
       rf            8            0    8.670e-17    8.670e-17
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0    .10105274    .10105274
     nnet           12            0            0            0
     nnet           13            0    3.864e-17    3.864e-17
      ols            1            1    .05647336    .05647336
      ols            2            1            0            0
  lassocv            3            1    .27024232    .27024232
  ridgecv            4            1    .06179022    .06179022
  lassocv            5            1    1.639e-16    1.639e-16
  ridgecv            6            1            0            0
       rf            7            1    .46483949    .46483949
       rf            8            1            0            0
       rf            9            1    7.183e-17    7.183e-17
gradboost           10            1    .03313922    .03313922
gradboost           11            1    .11351539    .11351539
     nnet           12            1    7.758e-17    7.758e-17
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .25373406    .25373406
    logit            2    1.563e-17    1.563e-17
  lassocv            3    .02276377    .02276377
  ridgecv            4     .1365943     .1365943
  lassocv            5            0            0
  ridgecv            6    2.845e-17    2.845e-17
       rf            7    .28155443    .28155443
       rf            8    9.177e-17    9.177e-17
       rf            9    2.300e-17    2.300e-17
gradboost           10    6.519e-18    6.519e-18
gradboost           11    .30535344    .30535344
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .77429425          1   .2537341   .2537341 |
   2. |  .3897366          2   1.56e-17   1.56e-17 |
   3. | .09127255          3   .0227638   .0227638 |
   4. | .16775914          4   .1365943   .1365943 |
   5. | .51863479          5          0          0 |
      |--------------------------------------------|
   6. | .84278763          6   2.85e-17   2.85e-17 |
   7. | .77461711          7   .2815544   .2815544 |
   8. | .88775621          8   9.18e-17   9.18e-17 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ss_nnls1_short_ia.dta not found)
file out_58248/D_gender_r_ss_nnls1_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25568853    .25568853
    logit            2    1.785e-16    1.785e-16
  lassocv            3    .15385909    .15385909
  ridgecv            4    .04812277    .04812277
  lassocv            5    2.429e-16    2.429e-16
  ridgecv            6            0            0
       rf            7    .28973748    .28973748
       rf            8            0            0
       rf            9    5.363e-16    5.363e-16
gradboost           10            0            0
gradboost           11    .23382509    .23382509
     nnet           12            0            0
     nnet           13    .01876705    .01876705

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01740664    .01740664
      ols            2            0            0            0
  lassocv            3            0    .09157831    .09157831
  ridgecv            4            0    .27711972    .27711972
  lassocv            5            0            0            0
  ridgecv            6            0    5.277e-16    5.277e-16
       rf            7            0    .45377601    .45377601
       rf            8            0    4.495e-16    4.495e-16
       rf            9            0    1.336e-15    1.336e-15
gradboost           10            0            0            0
gradboost           11            0    .15600923    .15600923
     nnet           12            0            0            0
     nnet           13            0    .00411009    .00411009
      ols            1            1    2.096e-15    2.096e-15
      ols            2            1            0            0
  lassocv            3            1    .05879714    .05879714
  ridgecv            4            1    .08078838    .08078838
  lassocv            5            1    .26318434    .26318434
  ridgecv            6            1    .00947549    .00947549
       rf            7            1    .48556664    .48556664
       rf            8            1    1.189e-15    1.189e-15
       rf            9            1    8.811e-16    8.811e-16
gradboost           10            1    3.111e-16    3.111e-16
gradboost           11            1    .07069961    .07069961
     nnet           12            1    2.810e-15    2.810e-15
     nnet           13            1     .0314884     .0314884

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25568853    .25568853
    logit            2    1.785e-16    1.785e-16
  lassocv            3    .15385909    .15385909
  ridgecv            4    .04812277    .04812277
  lassocv            5    2.429e-16    2.429e-16
  ridgecv            6            0            0
       rf            7    .28973748    .28973748
       rf            8            0            0
       rf            9    5.363e-16    5.363e-16
gradboost           10            0            0
gradboost           11    .23382509    .23382509
     nnet           12            0            0
     nnet           13    .01876705    .01876705

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01740664    .01740664
      ols            2            0            0            0
  lassocv            3            0    .09157831    .09157831
  ridgecv            4            0    .27711972    .27711972
  lassocv            5            0            0            0
  ridgecv            6            0    5.277e-16    5.277e-16
       rf            7            0    .45377601    .45377601
       rf            8            0    4.495e-16    4.495e-16
       rf            9            0    1.336e-15    1.336e-15
gradboost           10            0            0            0
gradboost           11            0    .15600923    .15600923
     nnet           12            0            0            0
     nnet           13            0    .00411009    .00411009
      ols            1            1    2.096e-15    2.096e-15
      ols            2            1            0            0
  lassocv            3            1    .05879714    .05879714
  ridgecv            4            1    .08078838    .08078838
  lassocv            5            1    .26318434    .26318434
  ridgecv            6            1    .00947549    .00947549
       rf            7            1    .48556664    .48556664
       rf            8            1    1.189e-15    1.189e-15
       rf            9            1    8.811e-16    8.811e-16
gradboost           10            1    3.111e-16    3.111e-16
gradboost           11            1    .07069961    .07069961
     nnet           12            1    2.810e-15    2.810e-15
     nnet           13            1     .0314884     .0314884

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01740664    .01740664
      ols            2            0            0            0
  lassocv            3            0    .09157831    .09157831
  ridgecv            4            0    .27711972    .27711972
  lassocv            5            0            0            0
  ridgecv            6            0    5.277e-16    5.277e-16
       rf            7            0    .45377601    .45377601
       rf            8            0    4.495e-16    4.495e-16
       rf            9            0    1.336e-15    1.336e-15
gradboost           10            0            0            0
gradboost           11            0    .15600923    .15600923
     nnet           12            0            0            0
     nnet           13            0    .00411009    .00411009
      ols            1            1    2.096e-15    2.096e-15
      ols            2            1            0            0
  lassocv            3            1    .05879714    .05879714
  ridgecv            4            1    .08078838    .08078838
  lassocv            5            1    .26318434    .26318434
  ridgecv            6            1    .00947549    .00947549
       rf            7            1    .48556664    .48556664
       rf            8            1    1.189e-15    1.189e-15
       rf            9            1    8.811e-16    8.811e-16
gradboost           10            1    3.111e-16    3.111e-16
gradboost           11            1    .07069961    .07069961
     nnet           12            1    2.810e-15    2.810e-15
     nnet           13            1     .0314884     .0314884

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5767154   2.7386923          1          0   .0174066   .0174066 |
   2. | 2.9552909   3.2393049          2          0          0          0 |
   3. | 2.8104402   2.8883999          3          0   .0915783   .0915783 |
   4. | 2.4618309   2.6294149          4          0   .2771197   .2771197 |
   5. |  3.083534   3.1724875          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5510908   2.6763076          6          0   5.28e-16   5.28e-16 |
   7. | 2.4063317   2.5959274          7          0    .453776    .453776 |
   8. | 2.7354642   2.7446394          8          0   4.49e-16   4.49e-16 |
      +-------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ps_nnls1_pooled_ia.dta not found)
file out_58248/Y_lnearn_ps_nnls1_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: nnls1
               learner  mean_weight        rep_1
    logit            1    .25568853    .25568853
    logit            2    1.785e-16    1.785e-16
  lassocv            3    .15385909    .15385909
  ridgecv            4    .04812277    .04812277
  lassocv            5    2.429e-16    2.429e-16
  ridgecv            6            0            0
       rf            7    .28973748    .28973748
       rf            8            0            0
       rf            9    5.363e-16    5.363e-16
gradboost           10            0            0
gradboost           11    .23382509    .23382509
     nnet           12            0            0
     nnet           13    .01876705    .01876705

pool-stacked weights across resamples for lnearn
final stacking estimator: nnls1
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01740664    .01740664
      ols            2            0            0            0
  lassocv            3            0    .09157831    .09157831
  ridgecv            4            0    .27711972    .27711972
  lassocv            5            0            0            0
  ridgecv            6            0    5.277e-16    5.277e-16
       rf            7            0    .45377601    .45377601
       rf            8            0    4.495e-16    4.495e-16
       rf            9            0    1.336e-15    1.336e-15
gradboost           10            0            0            0
gradboost           11            0    .15600923    .15600923
     nnet           12            0            0            0
     nnet           13            0    .00411009    .00411009
      ols            1            1    2.096e-15    2.096e-15
      ols            2            1            0            0
  lassocv            3            1    .05879714    .05879714
  ridgecv            4            1    .08078838    .08078838
  lassocv            5            1    .26318434    .26318434
  ridgecv            6            1    .00947549    .00947549
       rf            7            1    .48556664    .48556664
       rf            8            1    1.189e-15    1.189e-15
       rf            9            1    8.811e-16    8.811e-16
gradboost           10            1    3.111e-16    3.111e-16
gradboost           11            1    .07069961    .07069961
     nnet           12            1    2.810e-15    2.810e-15
     nnet           13            1     .0314884     .0314884

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .25568853    .25568853
    logit            2    1.785e-16    1.785e-16
  lassocv            3    .15385909    .15385909
  ridgecv            4    .04812277    .04812277
  lassocv            5    2.429e-16    2.429e-16
  ridgecv            6            0            0
       rf            7    .28973748    .28973748
       rf            8            0            0
       rf            9    5.363e-16    5.363e-16
gradboost           10            0            0
gradboost           11    .23382509    .23382509
     nnet           12            0            0
     nnet           13    .01876705    .01876705

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .76691563          1   .2556885   .2556885 |
   2. | .39776269          2   1.78e-16   1.78e-16 |
   3. | .09231253          3   .1538591   .1538591 |
   4. | .17290619          4   .0481228   .0481228 |
   5. | .52715979          5   2.43e-16   2.43e-16 |
      |--------------------------------------------|
   6. | .84505135          6          0          0 |
   7. | .77433055          7   .2897375   .2897375 |
   8. | .87272231          8          0          0 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ps_nnls1_pooled_ia.dta not found)
file out_58248/D_gender_r_ps_nnls1_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.025    (0.067)
  ss  1  [shortstack]          [ss]          [ss]    -0.034    (0.064)
  ps  1   [poolstack]          [ps]          [ps]    -0.034    (0.064)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    -.03418   .0643538    -0.53   0.595    -.1603112    .0919512
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 67 propensity scores trimmed to lower limit .01.
Warning: 6 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.025    (0.067)
  ss  1  [shortstack]          [ss]          [ss]    -0.034    (0.064)
  ps  1   [poolstack]          [ps]          [ps]    -0.034    (0.064)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0247584   .0667231    -0.37   0.711    -.1555332    .1060165
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 66 propensity scores trimmed to lower limit .01.
Warning: 5 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.034    (0.064)
  ss  1  [shortstack]          [ss]          [ss]    -0.034    (0.064)
  ps  1   [poolstack]          [ps]          [ps]    -0.034    (0.064)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    -.03418   .0643538    -0.53   0.595    -.1603112    .0919512
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 67 propensity scores trimmed to lower limit .01.
Warning: 6 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.034    (0.064)
  ss  1  [shortstack]          [ss]          [ss]    -0.034    (0.064)
  ps  1   [poolstack]          [ps]          [ps]    -0.034    (0.064)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |    -.03418   .0643538    -0.53   0.595    -.1603112    .0919512
------------------------------------------------------------------------------
Stacking final estimator: singlebest
Warning: 67 propensity scores trimmed to lower limit .01.
Warning: 6 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0          0          0 |
   2. |        2          0          0          0 |
   3. |        3          0         .1         .1 |
   4. |        4          0         .1         .1 |
   5. |        5          0          0          0 |
      |-------------------------------------------|
   6. |        6          0          0          0 |
   7. |        7          0         .8         .8 |
   8. |        8          0          0          0 |
      +-------------------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_58248/Y1_pystacked_w_mn_singlebest_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0           .1           .1
  ridgecv            4            0           .1           .1
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0           .8           .8
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1           .1           .1
  ridgecv            6            1            0            0
       rf            7            1           .9           .9
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3           .9           .9
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10           .1           .1
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1          0          0 |
   2. |        2          0          0 |
   3. |        3         .9         .9 |
   4. |        4          0          0 |
   5. |        5          0          0 |
      |--------------------------------|
   6. |        6          0          0 |
   7. |        7          0          0 |
   8. |        8          0          0 |
      +--------------------------------+
(note: file out_58248/D1_pystacked_w_mn_singlebest_regular_ia.dta not found)
file out_58248/D1_pystacked_w_mn_singlebest_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5894296   2.7618253          1          0          0          0 |
   2. | 2.8777959   3.2151403          2          0          0          0 |
   3. | 2.9559746   2.9466252          3          0          0          0 |
   4. | 2.4981003   2.6152329          4          0          0          0 |
   5. | 3.0477288   3.1479254          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5024741   2.6527545          6          0          0          0 |
   7. | 2.5140603   2.7341321          7          0          1          1 |
   8. |  2.659548   2.8049769          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ss_singlebest_short_ia.dta not found)
file out_58248/Y_lnearn_ss_singlebest_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

short-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72125399          1          0          0 |
   2. | .35558507          2          0          0 |
   3. | .02522999          3          1          1 |
   4. | .22709274          4          0          0 |
   5. |  .5587973          5          0          0 |
      |--------------------------------------------|
   6. | .81448257          6          0          0 |
   7. | .81611061          7          0          0 |
   8. | .78807336          8          0          0 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ss_singlebest_short_ia.dta not found)
file out_58248/D_gender_r_ss_singlebest_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.5894296   2.7618253          1          0          0          0 |
   2. | 2.8777959   3.2151403          2          0          0          0 |
   3. | 2.9559746   2.9466252          3          0          0          0 |
   4. | 2.4981003   2.6152329          4          0          0          0 |
   5. | 3.0477288   3.1479254          5          0          0          0 |
      |-------------------------------------------------------------------|
   6. | 2.5024741   2.6527545          6          0          0          0 |
   7. | 2.5140603   2.7341321          7          0          1          1 |
   8. |  2.659548   2.8049769          8          0          0          0 |
      +-------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ps_singlebest_pooled_ia.dta not found)
file out_58248/Y_lnearn_ps_singlebest_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: singlebest
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

pool-stacked weights across resamples for lnearn
final stacking estimator: singlebest
               learner        D=0/1  mean_weight        rep_1
      ols            1            0            0            0
      ols            2            0            0            0
  lassocv            3            0            0            0
  ridgecv            4            0            0            0
  lassocv            5            0            0            0
  ridgecv            6            0            0            0
       rf            7            0            1            1
       rf            8            0            0            0
       rf            9            0            0            0
gradboost           10            0            0            0
gradboost           11            0            0            0
     nnet           12            0            0            0
     nnet           13            0            0            0
      ols            1            1            0            0
      ols            2            1            0            0
  lassocv            3            1            0            0
  ridgecv            4            1            0            0
  lassocv            5            1            0            0
  ridgecv            6            1            0            0
       rf            7            1            1            1
       rf            8            1            0            0
       rf            9            1            0            0
gradboost           10            1            0            0
gradboost           11            1            0            0
     nnet           12            1            0            0
     nnet           13            1            0            0

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1            0            0
    logit            2            0            0
  lassocv            3            1            1
  ridgecv            4            0            0
  lassocv            5            0            0
  ridgecv            6            0            0
       rf            7            0            0
       rf            8            0            0
       rf            9            0            0
gradboost           10            0            0
gradboost           11            0            0
     nnet           12            0            0
     nnet           13            0            0

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72125399          1          0          0 |
   2. | .35558507          2          0          0 |
   3. | .02522999          3          1          1 |
   4. | .22709274          4          0          0 |
   5. |  .5587973          5          0          0 |
      |--------------------------------------------|
   6. | .81448257          6          0          0 |
   7. | .81611061          7          0          0 |
   8. | .78807336          8          0          0 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ps_singlebest_pooled_ia.dta not found)
file out_58248/D_gender_r_ps_singlebest_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -7.974    (1.383)
  ss  1  [shortstack]          [ss]          [ss]     0.033    (0.101)
  ps  1   [poolstack]          [ps]          [ps]     0.243    (0.113)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0333966   .1006853     0.33   0.740     -.163943    .2307361
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 108 propensity scores trimmed to lower limit .01.
Warning: 70 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -7.974    (1.383)
  ss  1  [shortstack]          [ss]          [ss]     0.033    (0.101)
  ps  1   [poolstack]          [ps]          [ps]     0.243    (0.113)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -7.97354   1.383034    -5.77   0.000    -10.68424   -5.262842
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 2216 propensity scores trimmed to lower limit .01.
Warning: 398 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.033    (0.101)
  ss  1  [shortstack]          [ss]          [ss]     0.033    (0.101)
  ps  1   [poolstack]          [ps]          [ps]     0.243    (0.113)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0333966   .1006853     0.33   0.740     -.163943    .2307361
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 108 propensity scores trimmed to lower limit .01.
Warning: 70 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked     0.243    (0.113)
  ss  1  [shortstack]          [ss]          [ss]     0.033    (0.101)
  ps  1   [poolstack]          [ps]          [ps]     0.243    (0.113)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .2429157   .1132889     2.14   0.032     .0208735    .4649579
------------------------------------------------------------------------------
Stacking final estimator: ols
Warning: 4 propensity scores trimmed to lower limit .01.
Warning: 288 propensity scores trimmed to upper limit .99.
Warning: . resamples had propensity scores trimmed to upper limit .99.

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20519945    .20519945
    logit            2    .07972106    .07972106
  lassocv            3    .19744025    .19744025
  ridgecv            4    .12800598    .12800598
  lassocv            5   -.03472546   -.03472546
  ridgecv            6   -.04121436   -.04121436
       rf            7    .39544646    .39544646
       rf            8    .16660299    .16660299
       rf            9    -.2625221    -.2625221
gradboost           10     .0668558     .0668558
gradboost           11    .16357202    .16357202
     nnet           12   -2.1244073   -2.1244073
     nnet           13    .01556024    .01556024

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03010446    .03010446
      ols            2            0   -.03199951   -.03199951
  lassocv            3            0   -.00823513   -.00823513
  ridgecv            4            0    .54726045    .54726045
  lassocv            5            0     .0011516     .0011516
  ridgecv            6            0   -.09878911   -.09878911
       rf            7            0    .67081794    .67081794
       rf            8            0   -.15401345   -.15401345
       rf            9            0    .02476067    .02476067
gradboost           10            0     .0544208     .0544208
gradboost           11            0    .06679233    .06679233
     nnet           12            0   -.46297589   -.46297589
     nnet           13            0   -.00340886   -.00340886
      ols            1            1   -.01807632   -.01807632
      ols            2            1   -.02136206   -.02136206
  lassocv            3            1   -.07745528   -.07745528
  ridgecv            4            1    .22956461    .22956461
  lassocv            5            1    .30565543    .30565543
  ridgecv            6            1    .03284254    .03284254
       rf            7            1    .52018748    .52018748
       rf            8            1    .30707675    .30707675
       rf            9            1   -.18375538   -.18375538
gradboost           10            1   -.06077961   -.06077961
gradboost           11            1    .04565057    .04565057
     nnet           12            1   -.34791896   -.34791896
     nnet           13            1     .0207135     .0207135

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20519945    .20519945
    logit            2    .07972106    .07972106
  lassocv            3    .19744025    .19744025
  ridgecv            4    .12800598    .12800598
  lassocv            5   -.03472546   -.03472546
  ridgecv            6   -.04121436   -.04121436
       rf            7    .39544646    .39544646
       rf            8    .16660299    .16660299
       rf            9    -.2625221    -.2625221
gradboost           10     .0668558     .0668558
gradboost           11    .16357202    .16357202
     nnet           12   -2.1244073   -2.1244073
     nnet           13    .01556024    .01556024

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03010446    .03010446
      ols            2            0   -.03199951   -.03199951
  lassocv            3            0   -.00823513   -.00823513
  ridgecv            4            0    .54726045    .54726045
  lassocv            5            0     .0011516     .0011516
  ridgecv            6            0   -.09878911   -.09878911
       rf            7            0    .67081794    .67081794
       rf            8            0   -.15401345   -.15401345
       rf            9            0    .02476067    .02476067
gradboost           10            0     .0544208     .0544208
gradboost           11            0    .06679233    .06679233
     nnet           12            0   -.46297589   -.46297589
     nnet           13            0   -.00340886   -.00340886
      ols            1            1   -.01807632   -.01807632
      ols            2            1   -.02136206   -.02136206
  lassocv            3            1   -.07745528   -.07745528
  ridgecv            4            1    .22956461    .22956461
  lassocv            5            1    .30565543    .30565543
  ridgecv            6            1    .03284254    .03284254
       rf            7            1    .52018748    .52018748
       rf            8            1    .30707675    .30707675
       rf            9            1   -.18375538   -.18375538
gradboost           10            1   -.06077961   -.06077961
gradboost           11            1    .04565057    .04565057
     nnet           12            1   -.34791896   -.34791896
     nnet           13            1     .0207135     .0207135

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03010446    .03010446
      ols            2            0   -.03199951   -.03199951
  lassocv            3            0   -.00823513   -.00823513
  ridgecv            4            0    .54726045    .54726045
  lassocv            5            0     .0011516     .0011516
  ridgecv            6            0   -.09878911   -.09878911
       rf            7            0    .67081794    .67081794
       rf            8            0   -.15401345   -.15401345
       rf            9            0    .02476067    .02476067
gradboost           10            0     .0544208     .0544208
gradboost           11            0    .06679233    .06679233
     nnet           12            0   -.46297589   -.46297589
     nnet           13            0   -.00340886   -.00340886
      ols            1            1   -.01807632   -.01807632
      ols            2            1   -.02136206   -.02136206
  lassocv            3            1   -.07745528   -.07745528
  ridgecv            4            1    .22956461    .22956461
  lassocv            5            1    .30565543    .30565543
  ridgecv            6            1    .03284254    .03284254
       rf            7            1    .52018748    .52018748
       rf            8            1    .30707675    .30707675
       rf            9            1   -.18375538   -.18375538
gradboost           10            1   -.06077961   -.06077961
gradboost           11            1    .04565057    .04565057
     nnet           12            1   -.34791896   -.34791896
     nnet           13            1     .0207135     .0207135

      +---------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pyst~3   Y1_pyst~4 |
      |---------------------------------------------|
   1. |        1          0    .0301045    .0301045 |
   2. |        2          0   -.0319995   -.0319995 |
   3. |        3          0   -.0082351   -.0082351 |
   4. |        4          0    .5472605    .5472605 |
   5. |        5          0    .0011516    .0011516 |
      |---------------------------------------------|
   6. |        6          0   -.0987891   -.0987891 |
   7. |        7          0    .6708179    .6708179 |
   8. |        8          0   -.1540134   -.1540134 |
      +---------------------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_58248/Y1_pystacked_w_mn_ols_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20519945    .20519945
    logit            2    .07972106    .07972106
  lassocv            3    .19744025    .19744025
  ridgecv            4    .12800598    .12800598
  lassocv            5   -.03472546   -.03472546
  ridgecv            6   -.04121436   -.04121436
       rf            7    .39544646    .39544646
       rf            8    .16660299    .16660299
       rf            9    -.2625221    -.2625221
gradboost           10     .0668558     .0668558
gradboost           11    .16357202    .16357202
     nnet           12   -2.1244073   -2.1244073
     nnet           13    .01556024    .01556024

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .03010446    .03010446
      ols            2            0   -.03199951   -.03199951
  lassocv            3            0   -.00823513   -.00823513
  ridgecv            4            0    .54726045    .54726045
  lassocv            5            0     .0011516     .0011516
  ridgecv            6            0   -.09878911   -.09878911
       rf            7            0    .67081794    .67081794
       rf            8            0   -.15401345   -.15401345
       rf            9            0    .02476067    .02476067
gradboost           10            0     .0544208     .0544208
gradboost           11            0    .06679233    .06679233
     nnet           12            0   -.46297589   -.46297589
     nnet           13            0   -.00340886   -.00340886
      ols            1            1   -.01807632   -.01807632
      ols            2            1   -.02136206   -.02136206
  lassocv            3            1   -.07745528   -.07745528
  ridgecv            4            1    .22956461    .22956461
  lassocv            5            1    .30565543    .30565543
  ridgecv            6            1    .03284254    .03284254
       rf            7            1    .52018748    .52018748
       rf            8            1    .30707675    .30707675
       rf            9            1   -.18375538   -.18375538
gradboost           10            1   -.06077961   -.06077961
gradboost           11            1    .04565057    .04565057
     nnet           12            1   -.34791896   -.34791896
     nnet           13            1     .0207135     .0207135

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .20519945    .20519945
    logit            2    .07972106    .07972106
  lassocv            3    .19744025    .19744025
  ridgecv            4    .12800598    .12800598
  lassocv            5   -.03472546   -.03472546
  ridgecv            6   -.04121436   -.04121436
       rf            7    .39544646    .39544646
       rf            8    .16660299    .16660299
       rf            9    -.2625221    -.2625221
gradboost           10     .0668558     .0668558
gradboost           11    .16357202    .16357202
     nnet           12   -2.1244073   -2.1244073
     nnet           13    .01556024    .01556024

      +----------------------------------+
      | D1_pys~1   D1_pyst~2   D1_pyst~3 |
      |----------------------------------|
   1. |        1    .2051995    .2051995 |
   2. |        2    .0797211    .0797211 |
   3. |        3    .1974403    .1974403 |
   4. |        4     .128006     .128006 |
   5. |        5   -.0347255   -.0347255 |
      |----------------------------------|
   6. |        6   -.0412144   -.0412144 |
   7. |        7    .3954464    .3954464 |
   8. |        8     .166603     .166603 |
      +----------------------------------+
(note: file out_58248/D1_pystacked_w_mn_ols_regular_ia.dta not found)
file out_58248/D1_pystacked_w_mn_ols_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21353117    .21353117
    logit            2    .05584773    .05584773
  lassocv            3    .75283649    .75283649
  ridgecv            4    .17109049    .17109049
  lassocv            5    -.8835571    -.8835571
  ridgecv            6    .17948713    .17948713
       rf            7    .40908372    .40908372
       rf            8    .13860321    .13860321
       rf            9    -.2486035    -.2486035
gradboost           10    .04179702    .04179702
gradboost           11    .25535878    .25535878
     nnet           12   -.05185762   -.05185762
     nnet           13   -.02257326   -.02257326

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05020071    .05020071
      ols            2            0    -.0961917    -.0961917
  lassocv            3            0   -.52368638   -.52368638
  ridgecv            4            0    .72114667    .72114667
  lassocv            5            0    .22746678    .22746678
  ridgecv            6            0   -.07202619   -.07202619
       rf            7            0    .90534958    .90534958
       rf            8            0   -.17265932   -.17265932
       rf            9            0    .00651981    .00651981
gradboost           10            0    .11604772    .11604772
gradboost           11            0   -.03871438   -.03871438
     nnet           12            0    .01278343    .01278343
     nnet           13            0   -.01887856   -.01887856
      ols            1            1    .05617585    .05617585
      ols            2            1    .00849224    .00849224
  lassocv            3            1    .05483848    .05483848
  ridgecv            4            1    .39938615    .39938615
  lassocv            5            1    .07771268    .07771268
  ridgecv            6            1   -.12592512   -.12592512
       rf            7            1    .48100696    .48100696
       rf            8            1     .2207385     .2207385
       rf            9            1   -.20933738   -.20933738
gradboost           10            1    .08440779    .08440779
gradboost           11            1    .06452057    .06452057
     nnet           12            1     .0599938     .0599938
     nnet           13            1   -.04568091   -.04568091

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21353117    .21353117
    logit            2    .05584773    .05584773
  lassocv            3    .75283649    .75283649
  ridgecv            4    .17109049    .17109049
  lassocv            5    -.8835571    -.8835571
  ridgecv            6    .17948713    .17948713
       rf            7    .40908372    .40908372
       rf            8    .13860321    .13860321
       rf            9    -.2486035    -.2486035
gradboost           10    .04179702    .04179702
gradboost           11    .25535878    .25535878
     nnet           12   -.05185762   -.05185762
     nnet           13   -.02257326   -.02257326

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05020071    .05020071
      ols            2            0    -.0961917    -.0961917
  lassocv            3            0   -.52368638   -.52368638
  ridgecv            4            0    .72114667    .72114667
  lassocv            5            0    .22746678    .22746678
  ridgecv            6            0   -.07202619   -.07202619
       rf            7            0    .90534958    .90534958
       rf            8            0   -.17265932   -.17265932
       rf            9            0    .00651981    .00651981
gradboost           10            0    .11604772    .11604772
gradboost           11            0   -.03871438   -.03871438
     nnet           12            0    .01278343    .01278343
     nnet           13            0   -.01887856   -.01887856
      ols            1            1    .05617585    .05617585
      ols            2            1    .00849224    .00849224
  lassocv            3            1    .05483848    .05483848
  ridgecv            4            1    .39938615    .39938615
  lassocv            5            1    .07771268    .07771268
  ridgecv            6            1   -.12592512   -.12592512
       rf            7            1    .48100696    .48100696
       rf            8            1     .2207385     .2207385
       rf            9            1   -.20933738   -.20933738
gradboost           10            1    .08440779    .08440779
gradboost           11            1    .06452057    .06452057
     nnet           12            1     .0599938     .0599938
     nnet           13            1   -.04568091   -.04568091

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05020071    .05020071
      ols            2            0    -.0961917    -.0961917
  lassocv            3            0   -.52368638   -.52368638
  ridgecv            4            0    .72114667    .72114667
  lassocv            5            0    .22746678    .22746678
  ridgecv            6            0   -.07202619   -.07202619
       rf            7            0    .90534958    .90534958
       rf            8            0   -.17265932   -.17265932
       rf            9            0    .00651981    .00651981
gradboost           10            0    .11604772    .11604772
gradboost           11            0   -.03871438   -.03871438
     nnet           12            0    .01278343    .01278343
     nnet           13            0   -.01887856   -.01887856
      ols            1            1    .05617585    .05617585
      ols            2            1    .00849224    .00849224
  lassocv            3            1    .05483848    .05483848
  ridgecv            4            1    .39938615    .39938615
  lassocv            5            1    .07771268    .07771268
  ridgecv            6            1   -.12592512   -.12592512
       rf            7            1    .48100696    .48100696
       rf            8            1     .2207385     .2207385
       rf            9            1   -.20933738   -.20933738
gradboost           10            1    .08440779    .08440779
gradboost           11            1    .06452057    .06452057
     nnet           12            1     .0599938     .0599938
     nnet           13            1   -.04568091   -.04568091

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.8928842   3.0514889          1          0    .0502007    .0502007 |
   2. | 3.3681857   3.5547545          2          0   -.0961917   -.0961917 |
   3. | 3.1949561   3.2517025          3          0   -.5236864   -.5236864 |
   4. | 2.7455654   2.8608054          4          0    .7211466    .7211466 |
   5. | 3.4776096   3.4772808          5          0    .2274668    .2274668 |
      |---------------------------------------------------------------------|
   6. | 2.8719509   2.9573604          6          0   -.0720262   -.0720262 |
   7. | 2.7086713   2.9616134          7          0    .9053496    .9053496 |
   8. | 2.9074087   3.0430312          8          0   -.1726593   -.1726593 |
      +---------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ss_ols_short_ia.dta not found)
file out_58248/Y_lnearn_ss_ols_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .21353117    .21353117
    logit            2    .05584773    .05584773
  lassocv            3    .75283649    .75283649
  ridgecv            4    .17109049    .17109049
  lassocv            5    -.8835571    -.8835571
  ridgecv            6    .17948713    .17948713
       rf            7    .40908372    .40908372
       rf            8    .13860321    .13860321
       rf            9    -.2486035    -.2486035
gradboost           10    .04179702    .04179702
gradboost           11    .25535878    .25535878
     nnet           12   -.05185762   -.05185762
     nnet           13   -.02257326   -.02257326

short-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .05020071    .05020071
      ols            2            0    -.0961917    -.0961917
  lassocv            3            0   -.52368638   -.52368638
  ridgecv            4            0    .72114667    .72114667
  lassocv            5            0    .22746678    .22746678
  ridgecv            6            0   -.07202619   -.07202619
       rf            7            0    .90534958    .90534958
       rf            8            0   -.17265932   -.17265932
       rf            9            0    .00651981    .00651981
gradboost           10            0    .11604772    .11604772
gradboost           11            0   -.03871438   -.03871438
     nnet           12            0    .01278343    .01278343
     nnet           13            0   -.01887856   -.01887856
      ols            1            1    .05617585    .05617585
      ols            2            1    .00849224    .00849224
  lassocv            3            1    .05483848    .05483848
  ridgecv            4            1    .39938615    .39938615
  lassocv            5            1    .07771268    .07771268
  ridgecv            6            1   -.12592512   -.12592512
       rf            7            1    .48100696    .48100696
       rf            8            1     .2207385     .2207385
       rf            9            1   -.20933738   -.20933738
gradboost           10            1    .08440779    .08440779
gradboost           11            1    .06452057    .06452057
     nnet           12            1     .0599938     .0599938
     nnet           13            1   -.04568091   -.04568091

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .21353117    .21353117
    logit            2    .05584773    .05584773
  lassocv            3    .75283649    .75283649
  ridgecv            4    .17109049    .17109049
  lassocv            5    -.8835571    -.8835571
  ridgecv            6    .17948713    .17948713
       rf            7    .40908372    .40908372
       rf            8    .13860321    .13860321
       rf            9    -.2486035    -.2486035
gradboost           10    .04179702    .04179702
gradboost           11    .25535878    .25535878
     nnet           12   -.05185762   -.05185762
     nnet           13   -.02257326   -.02257326

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. |  .7466921          1    .2135312    .2135312 |
   2. |  .3822195          2    .0558477    .0558477 |
   3. | .07464214          3    .7528365    .7528365 |
   4. | .12832562          4    .1710905    .1710905 |
   5. | .53336667          5   -.8835571   -.8835571 |
      |----------------------------------------------|
   6. | .88345997          6    .1794871    .1794871 |
   7. | .82638263          7    .4090837    .4090837 |
   8. | .90721765          8    .1386032    .1386032 |
      +----------------------------------------------+
(note: file out_58248/D_gender_r_ss_ols_short_ia.dta not found)
file out_58248/D_gender_r_ss_ols_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20833379    .20833379
    logit            2    .07879726    .07879726
  lassocv            3    .15601816    .15601816
  ridgecv            4    .12502604    .12502604
  lassocv            5   -.00812355   -.00812355
  ridgecv            6   -.03036911   -.03036911
       rf            7    .39670094    .39670094
       rf            8     .1623702     .1623702
       rf            9   -.26324138   -.26324138
gradboost           10    .06645093    .06645093
gradboost           11    .16417587    .16417587
     nnet           12    .01036739    .01036739
     nnet           13    .01661032    .01661032

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01713937    .01713937
      ols            2            0   -.04104182   -.04104182
  lassocv            3            0   -.00302004   -.00302004
  ridgecv            4            0    .55001473    .55001473
  lassocv            5            0   -.01944538   -.01944538
  ridgecv            6            0   -.08888107   -.08888107
       rf            7            0     .6807695     .6807695
       rf            8            0   -.14251247   -.14251247
       rf            9            0    .01519282    .01519282
gradboost           10            0    .05933025    .05933025
gradboost           11            0    .06845684    .06845684
     nnet           12            0    .00120344    .00120344
     nnet           13            0   -.00252824   -.00252824
      ols            1            1   -.02062991   -.02062991
      ols            2            1   -.02822643   -.02822643
  lassocv            3            1   -.06485097   -.06485097
  ridgecv            4            1    .26915016    .26915016
  lassocv            5            1    .28165753    .28165753
  ridgecv            6            1   -.00587879   -.00587879
       rf            7            1    .51153495    .51153495
       rf            8            1     .3446082     .3446082
       rf            9            1   -.20899078   -.20899078
gradboost           10            1   -.05588984   -.05588984
gradboost           11            1    .05352369    .05352369
     nnet           12            1   -.00269774   -.00269774
     nnet           13            1    .02630791    .02630791

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20833379    .20833379
    logit            2    .07879726    .07879726
  lassocv            3    .15601816    .15601816
  ridgecv            4    .12502604    .12502604
  lassocv            5   -.00812355   -.00812355
  ridgecv            6   -.03036911   -.03036911
       rf            7    .39670094    .39670094
       rf            8     .1623702     .1623702
       rf            9   -.26324138   -.26324138
gradboost           10    .06645093    .06645093
gradboost           11    .16417587    .16417587
     nnet           12    .01036739    .01036739
     nnet           13    .01661032    .01661032

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01713937    .01713937
      ols            2            0   -.04104182   -.04104182
  lassocv            3            0   -.00302004   -.00302004
  ridgecv            4            0    .55001473    .55001473
  lassocv            5            0   -.01944538   -.01944538
  ridgecv            6            0   -.08888107   -.08888107
       rf            7            0     .6807695     .6807695
       rf            8            0   -.14251247   -.14251247
       rf            9            0    .01519282    .01519282
gradboost           10            0    .05933025    .05933025
gradboost           11            0    .06845684    .06845684
     nnet           12            0    .00120344    .00120344
     nnet           13            0   -.00252824   -.00252824
      ols            1            1   -.02062991   -.02062991
      ols            2            1   -.02822643   -.02822643
  lassocv            3            1   -.06485097   -.06485097
  ridgecv            4            1    .26915016    .26915016
  lassocv            5            1    .28165753    .28165753
  ridgecv            6            1   -.00587879   -.00587879
       rf            7            1    .51153495    .51153495
       rf            8            1     .3446082     .3446082
       rf            9            1   -.20899078   -.20899078
gradboost           10            1   -.05588984   -.05588984
gradboost           11            1    .05352369    .05352369
     nnet           12            1   -.00269774   -.00269774
     nnet           13            1    .02630791    .02630791

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01713937    .01713937
      ols            2            0   -.04104182   -.04104182
  lassocv            3            0   -.00302004   -.00302004
  ridgecv            4            0    .55001473    .55001473
  lassocv            5            0   -.01944538   -.01944538
  ridgecv            6            0   -.08888107   -.08888107
       rf            7            0     .6807695     .6807695
       rf            8            0   -.14251247   -.14251247
       rf            9            0    .01519282    .01519282
gradboost           10            0    .05933025    .05933025
gradboost           11            0    .06845684    .06845684
     nnet           12            0    .00120344    .00120344
     nnet           13            0   -.00252824   -.00252824
      ols            1            1   -.02062991   -.02062991
      ols            2            1   -.02822643   -.02822643
  lassocv            3            1   -.06485097   -.06485097
  ridgecv            4            1    .26915016    .26915016
  lassocv            5            1    .28165753    .28165753
  ridgecv            6            1   -.00587879   -.00587879
       rf            7            1    .51153495    .51153495
       rf            8            1     .3446082     .3446082
       rf            9            1   -.20899078   -.20899078
gradboost           10            1   -.05588984   -.05588984
gradboost           11            1    .05352369    .05352369
     nnet           12            1   -.00269774   -.00269774
     nnet           13            1    .02630791    .02630791

      +---------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnear~3   Y_lnear~4 |
      |---------------------------------------------------------------------|
   1. | 2.8327626   2.9806927          1          0    .0171394    .0171394 |
   2. | 3.2151479   3.5280896          2          0   -.0410418   -.0410418 |
   3. | 3.0832991   3.1660394          3          0     -.00302     -.00302 |
   4. | 2.7084589   2.8351564          4          0    .5500147    .5500147 |
   5. | 3.3991191   3.4495676          5          0   -.0194454   -.0194454 |
      |---------------------------------------------------------------------|
   6. | 2.8114939   2.9084699          6          0   -.0888811   -.0888811 |
   7. | 2.6208028   2.8786416          7          0    .6807695    .6807695 |
   8. | 2.9864346   2.9916169          8          0   -.1425125   -.1425125 |
      +---------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ps_ols_pooled_ia.dta not found)
file out_58248/Y_lnearn_ps_ols_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: ols
               learner  mean_weight        rep_1
    logit            1    .20833379    .20833379
    logit            2    .07879726    .07879726
  lassocv            3    .15601816    .15601816
  ridgecv            4    .12502604    .12502604
  lassocv            5   -.00812355   -.00812355
  ridgecv            6   -.03036911   -.03036911
       rf            7    .39670094    .39670094
       rf            8     .1623702     .1623702
       rf            9   -.26324138   -.26324138
gradboost           10    .06645093    .06645093
gradboost           11    .16417587    .16417587
     nnet           12    .01036739    .01036739
     nnet           13    .01661032    .01661032

pool-stacked weights across resamples for lnearn
final stacking estimator: ols
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .01713937    .01713937
      ols            2            0   -.04104182   -.04104182
  lassocv            3            0   -.00302004   -.00302004
  ridgecv            4            0    .55001473    .55001473
  lassocv            5            0   -.01944538   -.01944538
  ridgecv            6            0   -.08888107   -.08888107
       rf            7            0     .6807695     .6807695
       rf            8            0   -.14251247   -.14251247
       rf            9            0    .01519282    .01519282
gradboost           10            0    .05933025    .05933025
gradboost           11            0    .06845684    .06845684
     nnet           12            0    .00120344    .00120344
     nnet           13            0   -.00252824   -.00252824
      ols            1            1   -.02062991   -.02062991
      ols            2            1   -.02822643   -.02822643
  lassocv            3            1   -.06485097   -.06485097
  ridgecv            4            1    .26915016    .26915016
  lassocv            5            1    .28165753    .28165753
  ridgecv            6            1   -.00587879   -.00587879
       rf            7            1    .51153495    .51153495
       rf            8            1     .3446082     .3446082
       rf            9            1   -.20899078   -.20899078
gradboost           10            1   -.05588984   -.05588984
gradboost           11            1    .05352369    .05352369
     nnet           12            1   -.00269774   -.00269774
     nnet           13            1    .02630791    .02630791

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .20833379    .20833379
    logit            2    .07879726    .07879726
  lassocv            3    .15601816    .15601816
  ridgecv            4    .12502604    .12502604
  lassocv            5   -.00812355   -.00812355
  ridgecv            6   -.03036911   -.03036911
       rf            7    .39670094    .39670094
       rf            8     .1623702     .1623702
       rf            9   -.26324138   -.26324138
gradboost           10    .06645093    .06645093
gradboost           11    .16417587    .16417587
     nnet           12    .01036739    .01036739
     nnet           13    .01661032    .01661032

      +----------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gende~2   D_gende~3 |
      |----------------------------------------------|
   1. | .80295328          1    .2083338    .2083338 |
   2. | .42429371          2    .0787973    .0787973 |
   3. | .10577953          3    .1560182    .1560182 |
   4. |   .172671          4     .125026     .125026 |
   5. | .57654568          5   -.0081235   -.0081235 |
      |----------------------------------------------|
   6. | .92301793          6   -.0303691   -.0303691 |
   7. | .84776967          7    .3967009    .3967009 |
   8. | .92630286          8    .1623702    .1623702 |
      +----------------------------------------------+
(note: file out_58248/D_gender_r_ps_ols_pooled_ia.dta not found)
file out_58248/D_gender_r_ps_ols_pooled_ia.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.105    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.105    (0.018)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047104   .0180158    -5.81   0.000    -.1400207      -.0694
------------------------------------------------------------------------------
Stacking final estimator: avg



Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  st  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.105    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.105    (0.018)

Stacking DDML model (ATET)
E[y|X,D=0]   = Y1_pystacked0_1                     Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1
E[D|X]       = D1_pystacked_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047104   .0180158    -5.81   0.000    -.1400207      -.0694
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ss  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.105    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.105    (0.018)

Shortstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ss0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ss1
E[D|X]       = D_gender_r_ss_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047104   .0180158    -5.81   0.000    -.1400207      -.0694
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved


Model:                  interactive, crossfit folds k=10, resamples r=1
Mata global (mname):    m0
Dependent variable (Y): lnearn
 lnearn learners:       Y1_pystacked
D equations (1):        gender_r
 gender_r learners:     D1_pystacked

DDML estimation results (ATET):
spec  r  Y(0) learner  Y(1) learner     D learner         b        SE 
  ps  1  Y1_pystacked  Y1_pystacked  D1_pystacked    -0.105    (0.018)
  ss  1  [shortstack]          [ss]          [ss]    -0.105    (0.018)
  ps  1   [poolstack]          [ps]          [ps]    -0.105    (0.018)

Poolstack DDML model (ATET)
E[y|X,D=0]   = Y_lnearn_ps0_1                      Number of obs   =      4836
E[y|X,D=1]   = Y_lnearn_ps1
E[D|X]       = D_gender_r_ps_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1047104   .0180158    -5.81   0.000    -.1400207      -.0694
------------------------------------------------------------------------------
Stacking final estimator: avg

(note: variable final was str3, now str10 to accommodate using data's values)
file out_58248/results.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y1_pystacked_w_mn[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------+
      | Y1_pys~1   Y1_pys~2   Y1_pys~3   Y1_pys~4 |
      |-------------------------------------------|
   1. |        1          0   .0769231   .0769231 |
   2. |        2          0   .0769231   .0769231 |
   3. |        3          0   .0769231   .0769231 |
   4. |        4          0   .0769231   .0769231 |
   5. |        5          0   .0769231   .0769231 |
      |-------------------------------------------|
   6. |        6          0   .0769231   .0769231 |
   7. |        7          0   .0769231   .0769231 |
   8. |        8          0   .0769231   .0769231 |
      +-------------------------------------------+
(note: file out_58248/Y1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_58248/Y1_pystacked_w_mn_avg_regular_ia.dta saved

mean stacking weights across folds/resamples for D1_pystacked (gender_r)
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

mean stacking weights across folds/resamples for Y1_pystacked (lnearn)
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D1_pystacked_w_mn[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------+
      | D1_pys~1   D1_pys~2   D1_pys~3 |
      |--------------------------------|
   1. |        1   .0769231   .0769231 |
   2. |        2   .0769231   .0769231 |
   3. |        3   .0769231   .0769231 |
   4. |        4   .0769231   .0769231 |
   5. |        5   .0769231   .0769231 |
      |--------------------------------|
   6. |        6   .0769231   .0769231 |
   7. |        7   .0769231   .0769231 |
   8. |        8   .0769231   .0769231 |
      +--------------------------------+
(note: file out_58248/D1_pystacked_w_mn_avg_regular_ia.dta not found)
file out_58248/D1_pystacked_w_mn_avg_regular_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ss[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6182954   2.7431968          1          0   .0769231   .0769231 |
   2. | 3.0008595    3.181136          2          0   .0769231   .0769231 |
   3. | 2.7134736   2.8565799          3          0   .0769231   .0769231 |
   4. | 2.4480897   2.5500025          4          0   .0769231   .0769231 |
   5. | 3.1076589    3.210454          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5820593    2.728088          6          0   .0769231   .0769231 |
   7. | 2.4901831   2.5592469          7          0   .0769231   .0769231 |
   8. | 2.9153255   2.7842046          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ss_avg_short_ia.dta not found)
file out_58248/Y_lnearn_ss_avg_short_ia.dta saved

short-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

short-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ss[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72386039          1   .0769231   .0769231 |
   2. | .43726713          2   .0769231   .0769231 |
   3. | .16378685          3   .0769231   .0769231 |
   4. | .26337248          4   .0769231   .0769231 |
   5. |  .5660262          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. |  .7822405          6   .0769231   .0769231 |
   7. | .73368944          7   .0769231   .0769231 |
   8. | .76662081          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ss_avg_short_ia.dta not found)
file out_58248/D_gender_r_ss_avg_short_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

Y_lnearn_ps[26,4]
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

      +-------------------------------------------------------------------+
      | Y_lne~1_1   Y_lne~0_1   Y_lne~s1   Y_lnea~2   Y_lnea~3   Y_lnea~4 |
      |-------------------------------------------------------------------|
   1. | 2.6182954   2.7431968          1          0   .0769231   .0769231 |
   2. | 3.0008595    3.181136          2          0   .0769231   .0769231 |
   3. | 2.7134736   2.8565799          3          0   .0769231   .0769231 |
   4. | 2.4480897   2.5500025          4          0   .0769231   .0769231 |
   5. | 3.1076589    3.210454          5          0   .0769231   .0769231 |
      |-------------------------------------------------------------------|
   6. | 2.5820593    2.728088          6          0   .0769231   .0769231 |
   7. | 2.4901831   2.5592469          7          0   .0769231   .0769231 |
   8. | 2.9153255   2.7842046          8          0   .0769231   .0769231 |
      +-------------------------------------------------------------------+
(note: file out_58248/Y_lnearn_ps_avg_pooled_ia.dta not found)
file out_58248/Y_lnearn_ps_avg_pooled_ia.dta saved

pool-stacked weights across resamples for gender_r
final stacking estimator: avg
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

pool-stacked weights across resamples for lnearn
final stacking estimator: avg
               learner        D=0/1  mean_weight        rep_1
      ols            1            0    .07692308    .07692308
      ols            2            0    .07692308    .07692308
  lassocv            3            0    .07692308    .07692308
  ridgecv            4            0    .07692308    .07692308
  lassocv            5            0    .07692308    .07692308
  ridgecv            6            0    .07692308    .07692308
       rf            7            0    .07692308    .07692308
       rf            8            0    .07692308    .07692308
       rf            9            0    .07692308    .07692308
gradboost           10            0    .07692308    .07692308
gradboost           11            0    .07692308    .07692308
     nnet           12            0    .07692308    .07692308
     nnet           13            0    .07692308    .07692308
      ols            1            1    .07692308    .07692308
      ols            2            1    .07692308    .07692308
  lassocv            3            1    .07692308    .07692308
  ridgecv            4            1    .07692308    .07692308
  lassocv            5            1    .07692308    .07692308
  ridgecv            6            1    .07692308    .07692308
       rf            7            1    .07692308    .07692308
       rf            8            1    .07692308    .07692308
       rf            9            1    .07692308    .07692308
gradboost           10            1    .07692308    .07692308
gradboost           11            1    .07692308    .07692308
     nnet           12            1    .07692308    .07692308
     nnet           13            1    .07692308    .07692308

D_gender_r_ps[13,3]
               learner  mean_weight        rep_1
    logit            1    .07692308    .07692308
    logit            2    .07692308    .07692308
  lassocv            3    .07692308    .07692308
  ridgecv            4    .07692308    .07692308
  lassocv            5    .07692308    .07692308
  ridgecv            6    .07692308    .07692308
       rf            7    .07692308    .07692308
       rf            8    .07692308    .07692308
       rf            9    .07692308    .07692308
gradboost           10    .07692308    .07692308
gradboost           11    .07692308    .07692308
     nnet           12    .07692308    .07692308
     nnet           13    .07692308    .07692308

      +--------------------------------------------+
      | D_gend~_1   D_gen~s1   D_gend~2   D_gend~3 |
      |--------------------------------------------|
   1. | .72386039          1   .0769231   .0769231 |
   2. | .43726713          2   .0769231   .0769231 |
   3. | .16378685          3   .0769231   .0769231 |
   4. | .26337248          4   .0769231   .0769231 |
   5. |  .5660262          5   .0769231   .0769231 |
      |--------------------------------------------|
   6. |  .7822405          6   .0769231   .0769231 |
   7. | .73368944          7   .0769231   .0769231 |
   8. | .76662081          8   .0769231   .0769231 |
      +--------------------------------------------+
(note: file out_58248/D_gender_r_ps_avg_pooled_ia.dta not found)
file out_58248/D_gender_r_ps_avg_pooled_ia.dta saved
. 
.         forvalues i = 1(1)$L {
  2.                         ddml estimate, y1(Y1_pystacked1_L`i'_1) y0(Y1_pyst
> acked0_L`i'_1) ///
>                                                         d(D1_pystacked_L`i'_1
> ) robust atet foldvar(m0_sample_1  )
  3.                         regsave gender_r using `folder'/results.dta, ci //
> /
>                                                 addlabel(model,interactive,se
> ed,`seed',final,indiv,learner,`i') ///
>                                                 append
  4.         }

E[y|X,D=0]   = Y1_pystacked0_L1_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L1_1
E[D|X]       = D1_pystacked_L1_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1549942   .0994886    -1.56   0.119    -.3499883    .0399998
------------------------------------------------------------------------------
Warning: 136 propensity scores trimmed to lower limit ..
Warning: 41 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L2_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L2_1
E[D|X]       = D1_pystacked_L2_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   -.120029   .0160782    -7.47   0.000    -.1515417   -.0885162
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L3_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L3_1
E[D|X]       = D1_pystacked_L3_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0129499   .0630025    -0.21   0.837    -.1364325    .1105327
------------------------------------------------------------------------------
Warning: 67 propensity scores trimmed to lower limit ..
Warning: 6 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L4_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L4_1
E[D|X]       = D1_pystacked_L4_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0651116   .1348334    -0.48   0.629    -.3293802     .199157
------------------------------------------------------------------------------
Warning: 90 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L5_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L5_1
E[D|X]       = D1_pystacked_L5_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0024415   .0784006     0.03   0.975    -.1512208    .1561038
------------------------------------------------------------------------------
Warning: 73 propensity scores trimmed to lower limit ..
Warning: 9 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L6_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L6_1
E[D|X]       = D1_pystacked_L6_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.2811663   .2723925    -1.03   0.302    -.8150457    .2527131
------------------------------------------------------------------------------
Warning: 57 propensity scores trimmed to lower limit ..
Warning: 12 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L7_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L7_1
E[D|X]       = D1_pystacked_L7_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0862207   .0186856    -4.61   0.000    -.1228439   -.0495976
------------------------------------------------------------------------------
Warning: 4 propensity scores trimmed to lower limit ..
Warning: 1 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L8_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L8_1
E[D|X]       = D1_pystacked_L8_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1050696   .0156188    -6.73   0.000    -.1356819   -.0744573
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L9_1                  Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L9_1
E[D|X]       = D1_pystacked_L9_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1102018   .0148929    -7.40   0.000    -.1393914   -.0810123
------------------------------------------------------------------------------
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L10_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L10_1
E[D|X]       = D1_pystacked_L10_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0876467   .0190285    -4.61   0.000    -.1249419   -.0503515
------------------------------------------------------------------------------
Warning: 3 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L11_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L11_1
E[D|X]       = D1_pystacked_L11_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.0584898   .0483697    -1.21   0.227    -.1532927    .0363131
------------------------------------------------------------------------------
Warning: 95 propensity scores trimmed to lower limit ..
Warning: 20 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L12_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L12_1
E[D|X]       = D1_pystacked_L12_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |  -.1119478   .0173883    -6.44   0.000    -.1460283   -.0778673
------------------------------------------------------------------------------
Warning: 34 propensity scores trimmed to lower limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved

E[y|X,D=0]   = Y1_pystacked0_L13_1                 Number of obs   =      4836
E[y|X,D=1]   = Y1_pystacked1_L13_1
E[D|X]       = D1_pystacked_L13_1
------------------------------------------------------------------------------
             |               Robust
      lnearn |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    gender_r |   .0796857   .2371213     0.34   0.737    -.3850635     .544435
------------------------------------------------------------------------------
Warning: 178 propensity scores trimmed to lower limit ..
Warning: 163 propensity scores trimmed to upper limit ..
(note: variable final was str5, now str10 to accommodate using data's values)
file out_58248/results.dta saved
. 
. }       

.         
. *****************************************************************************
> *  
. *** interactive NX: short-stacking                                           
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==3) {
. 
. gen one = 1     
. 
.         cap drop y0base*
.         cap drop dbase*
.         cap drop y1base*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded   $pystring_reg0  if gender_r == 0, type
> (reg) njobs($cores)  
.                 mat nxw_ia_y0 = e(weights)
.                 mat list nxw_ia_y0
.                                 preserve
.                                 svmat nxw_ia_y0
.                                 keep nxw_ia_y0*
.                                 save `folder'/nxw_ia_y0, replace
.                                 restore
.         predict y0base0, xb
.         predict y0base, base
. 
.         pystacked lnearn $X_expanded  $pystring_reg0 if gender_r == 1  , type
> (reg) njobs($cores)  
.                 mat nxw_ia_y1 = e(weights)
.                 mat list nxw_ia_y1
.                                 preserve
.                                 svmat nxw_ia_y1
.                                 keep nxw_ia_y1*
.                                 save `folder'/nxw_ia_y1, replace
.                                 restore
.         predict y1base0, xb
.         predict y1base, base
. 
.         pystacked gender_r $X_expanded $pystring_class  
.                 mat nxw_ia_d = e(weights)
.                 mat list nxw_ia_d
.                                 preserve
.                                 svmat nxw_ia_d
.                                 keep nxw_ia_d*
.                                 save `folder'/nxw_ia_d, replace
.                                 restore         
.         predict dbase0, pr
.         predict dbase, base pr
.         
.         forvalues i = 0(1)$L {
  2.                         _estimate_ate interactive, yname(lnearn) dname(gen
> der_r) ///
>                                                 y0(y0base`i') y1(y1base`i') d
> (dbase`i') ///
>                                                 atet foldid(one) robust model
> (interactive)
  3.                         regsave gender_r using `folder'/results.dta, ///
>                                                 ci addlabel(model,nxinter,see
> d,`seed',final,nx,learner,`i') append
  4.         }
.                 
. }

.         
. *****************************************************************************
> *  
. *** partial NX: short-stacking                                               
>                                       ***
. *****************************************************************************
> *
. 
. if (`estimator'==4) {
.         
. cap gen one = 1 
. 
.         cap drop Ybase* 
.         cap drop Dbase*
. 
.         *** no cross-fitting
.         pystacked lnearn $X_expanded $pystring_reg 
.                 mat nxw_y = e(weights)
.                 mat list nxw_y
.                                 preserve
.                                 svmat nxw_y
.                                 keep nxw_y*
.                                 save `folder'/nxw_y, replace
.                                 restore
.         predict Ybase0
.         predict Ybase, basexb
. 
.         pystacked gender_r $X_expanded $pystring_reg 
.                 mat nxw_d = e(weights)
.                 mat list nxw_d
.                                 preserve
.                                 svmat nxw_d
.                                 keep nxw_d*
.                                 save `folder'/nxw_d, replace
.                                 restore         
.         predict Dbase0
.         predict Dbase, basexb
. 
.         forvalues i = 0(1)$L {
  2.                 cap drop Ytil
  3.                 cap drop Dtil
  4.                 gen Ytil = lnearn - Ybase`i'
  5.                 gen Dtil = gender_r - Dbase`i'
  6.                 reg Ytil Dtil, robust
  7.                 regsave Dtil using `folder'/results.dta, ///
>                         ci addlabel(model,nxpartial,seed,`seed',final,nx,lear
> ner,`i') append
  8.         }
. 
. }

.         
. cap log close

.  
. 
end of do-file
